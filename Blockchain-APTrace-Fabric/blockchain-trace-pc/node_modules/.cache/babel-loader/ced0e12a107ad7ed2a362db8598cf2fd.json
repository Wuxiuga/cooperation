{"remainingRequest":"/Users/libaojian/Desktop/Blockchain-APTrace-Fabric/blockchain-trace-pc/node_modules/babel-loader/lib/index.js!/Users/libaojian/Desktop/Blockchain-APTrace-Fabric/blockchain-trace-pc/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/libaojian/Desktop/Blockchain-APTrace-Fabric/blockchain-trace-pc/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/libaojian/Desktop/Blockchain-APTrace-Fabric/blockchain-trace-pc/src/views/trace/product/record.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/libaojian/Desktop/Blockchain-APTrace-Fabric/blockchain-trace-pc/src/views/trace/product/record.vue","mtime":1645620179157},{"path":"/Users/libaojian/Desktop/Blockchain-APTrace-Fabric/blockchain-trace-pc/babel.config.js","mtime":1645620179122},{"path":"/Users/libaojian/Desktop/Blockchain-APTrace-Fabric/blockchain-trace-pc/node_modules/cache-loader/dist/cjs.js","mtime":1645761092242},{"path":"/Users/libaojian/Desktop/Blockchain-APTrace-Fabric/blockchain-trace-pc/node_modules/babel-loader/lib/index.js","mtime":1645761092758},{"path":"/Users/libaojian/Desktop/Blockchain-APTrace-Fabric/blockchain-trace-pc/node_modules/cache-loader/dist/cjs.js","mtime":1645761092242},{"path":"/Users/libaojian/Desktop/Blockchain-APTrace-Fabric/blockchain-trace-pc/node_modules/vue-loader/lib/index.js","mtime":1645761092929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7Cgp2YXIgX3Byb2R1Y3QgPSByZXF1aXJlKCIuLi8uLi8uLi9hcGkvdHJhY2UvcHJvZHVjdCIpOwoKdmFyIF9pbmRleCA9IHJlcXVpcmUoIi4uLy4uLy4uL3V0aWxzL2luZGV4LmpzIik7CgovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwp2YXIgX2RlZmF1bHQgPSB7CiAgbmFtZTogJ1JlY29yZCcsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRhc2tMaXN0czogW10sCiAgICAgIHdvcmtDb250ZW50RGlhbG9nOiBmYWxzZSwKICAgICAgcmVjb3JkRm9ybToge30sCiAgICAgIHRhc2tJbmZvOiAnJwogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLnRhc2tMaXN0KCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBzdWJtaXRPcGVyYXRpb246IGZ1bmN0aW9uIHN1Ym1pdE9wZXJhdGlvbigpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBvcGVyYXRpb25BcnJheSA9IFtdOwogICAgICB2YXIgaWQgPSBuZXcgdGhpcy4kc25vd0ZsYWtlSWQoKS5nZW5lcmF0ZSgpOwogICAgICBvcGVyYXRpb25BcnJheS5wdXNoKGlkKTsKICAgICAgb3BlcmF0aW9uQXJyYXkucHVzaChpZCk7CiAgICAgIG9wZXJhdGlvbkFycmF5LnB1c2godGhpcy50YXNrSW5mby5jcm9wc0lkKTsKICAgICAgb3BlcmF0aW9uQXJyYXkucHVzaCh0aGlzLiRzdG9yZS5nZXR0ZXJzLm5pY2tOYW1lKTsKICAgICAgb3BlcmF0aW9uQXJyYXkucHVzaCh0aGlzLiRzdG9yZS5nZXR0ZXJzLnBob25lbnVtYmVyKTsKICAgICAgb3BlcmF0aW9uQXJyYXkucHVzaCgoMCwgX2luZGV4LmZvcm1hdERhdGUpKG5ldyBEYXRlKCkpKTsKICAgICAgb3BlcmF0aW9uQXJyYXkucHVzaCh0aGlzLnJlY29yZEZvcm0ud29ya0NvbnRlbnQpOwogICAgICBvcGVyYXRpb25BcnJheS5wdXNoKHRoaXMucmVjb3JkRm9ybS5yZW1hcmtzKTsKICAgICAgdGhpcy4kaHR0cEJsb2NrLnBvc3QodGhpcy4kaHR0cFVybCArICcvcHJvZHVjdGFwaS9jcmVhdGVPcGVyYXRpb24nLCB7CiAgICAgICAgb3BlcmF0aW9uQXJyYXk6IG9wZXJhdGlvbkFycmF5CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMuc3RhdHVzID09PSAyMDApIHsKICAgICAgICAgIF90aGlzLm1zZ1N1Y2Nlc3MoIuaVsOaNruS4iumTvuaIkOWKnyIpOwoKICAgICAgICAgIF90aGlzLndvcmtDb250ZW50RGlhbG9nID0gZmFsc2U7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgX3RoaXMubXNnRXJyb3IoJ+WtmOWCqOW8guW4uCAnICsgZXJyKTsKICAgICAgfSk7CiAgICB9LAogICAgYWRkV29ya0NvbnRlbnQ6IGZ1bmN0aW9uIGFkZFdvcmtDb250ZW50KHJvdykgewogICAgICB0aGlzLnRhc2tJbmZvID0gcm93OwogICAgICB0aGlzLndvcmtDb250ZW50RGlhbG9nID0gdHJ1ZTsKICAgIH0sCiAgICB0YXNrTGlzdDogZnVuY3Rpb24gdGFza0xpc3QoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgKDAsIF9wcm9kdWN0LnF1ZXJ5VGFza0xpc3QpKCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMyLnRhc2tMaXN0cyA9IHJlcy5kYXRhOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgX3RoaXMyLm1zZ0Vycm9yKCLojrflj5bku7vliqHlpLHotKUiKTsKICAgICAgfSk7CiAgICB9CiAgfQp9OwpleHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDs="},{"version":3,"mappings":";;;;;;;AAgDA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eACA;AACAA,gBADA;AAEAC,MAFA,kBAEA;AACA;AACAC,mBADA;AAEAC,8BAFA;AAGAC,oBAHA;AAIAC;AAJA;AAMA,GATA;AAUAC,SAVA,qBAUA;AACA;AACA,GAZA;AAaAC;AACAC,mBADA,6BACA;AAAA;;AACA;AACA;AACAC;AACAA;AACAA;AACAA;AACAA;AACAA;AACAA;AACAA;AACA,sBACAC,IADA,CACA,6CADA,EACA;AAAAD;AAAA,OADA,EAEAE,IAFA,CAEA;AACA;AACA;;AACA;AACA;AACA,OAPA,EAQAC,KARA,CAQA;AACA;AACA,OAVA;AAWA,KAvBA;AAyBAC,kBAzBA,0BAyBAC,GAzBA,EAyBA;AACA;AACA;AACA,KA5BA;AA8BAC,YA9BA,sBA8BA;AAAA;;AACA;AACA;AACA,OAFA,EAEAH,KAFA,CAEA;AACA;AACA,OAJA;AAKA;AApCA;AAbA,C","names":["name","data","taskLists","workContentDialog","recordForm","taskInfo","created","methods","submitOperation","operationArray","post","then","catch","addWorkContent","row","taskList"],"sourceRoot":"src/views/trace/product","sources":["record.vue"],"sourcesContent":["<template>\n\t<div class=\"app-container\">\n\t\t<el-divider>待处理工作业务</el-divider>\n\t\t<el-table :data=\"taskLists\">\n\t\t\t<el-table-column type=\"selection\" width=\"55\" align=\"center\" />\n\t\t\t<el-table-column label=\"任务编号\" prop=\"taskId\" />\n\t\t\t<el-table-column label=\"任务名称\" prop=\"taskName\" />\n\t\t\t<el-table-column label=\"发布人\" prop=\"leaderName\" />\n\t\t\t<el-table-column label=\"时间\" prop=\"time\" />\n\t\t\t<el-table-column label=\"具体内容\" prop=\"taskRemark\" />\n\t\t\t<el-table-column label=\"操作\" align=\"center\" class-name=\"small-padding fixed-width\">\n\t\t\t\t<template slot-scope=\"scope\">\n\t\t\t\t\t<el-button size=\"mini\" type=\"text\" @click=\"addWorkContent(scope.row)\">上报工作内容</el-button>\n\n\t\t\t\t</template>\n\t\t\t</el-table-column>\n\t\t</el-table>\n\n\t\t<el-dialog center title=\"上报工作详情\" :visible.sync=\"workContentDialog\" width=\"700px\" append-to-body>\n\t\t\t<el-form ref=\"form\" label-width=\"80px\" :model=\"recordForm\">\n\t\t\t<el-row>\n\t\t\t\t<el-col :span=\"12\">\n\t\t\t\t\t<el-form-item label=\"任务ID\" prop=\"nickName\"><el-input :disabled=\"true\" v-model=\"taskInfo.taskId\" placeholder=\"请输入\" /></el-form-item>\n\t\t\t\t</el-col>\n\t\t\t\t<el-col :span=\"12\">\n\t\t\t\t\t<el-form-item label=\"任务名称\" prop=\"nickName\"><el-input :disabled=\"true\" v-model=\"taskInfo.taskName\" placeholder=\"请输入\" /></el-form-item>\n\t\t\t\t</el-col>\n\t\t\t</el-row>\n\t\t\t<el-row>\n\t\t\t\t<el-col :span=\"24\">\n\t\t\t\t\t<el-form-item label=\"工作内容\"><el-input type=\"textarea\" v-model=\"recordForm.workContent\" placeholder=\"请输入\" /></el-form-item>\n\t\t\t\t</el-col>\n\t\t\t</el-row>\n\t\t\t<el-row>\n\t\t\t\t<el-col :span=\"24\">\n\t\t\t\t\t<el-form-item label=\"备注\"><el-input type=\"textarea\" v-model=\"recordForm.remarks\" placeholder=\"请输入\" /></el-form-item>\n\t\t\t\t</el-col>\n\t\t\t</el-row>\n\t\t\t</el-form>\n\t\t\t<div slot=\"footer\" class=\"dialog-footer\">\n\t\t\t\t<el-button type=\"primary\" @click=\"submitOperation\">确 定</el-button>\n\t\t\t\t<el-button @click=\"cancel\">取 消</el-button>\n\t\t\t</div>\n\t\t</el-dialog>\n\t</div>\n</template>\n\n<script>\nimport {queryTaskList} from '../../../api/trace/product';\nimport { formatDate } from '../../../utils/index.js';\nexport default {\n\tname: 'Record',\n\tdata() {\n\t\treturn {\n\t\t\ttaskLists:[],\n\t\t\tworkContentDialog:false,\n\t\t\trecordForm:{},\n\t\t\ttaskInfo:'',\n\t\t};\n\t},\n\tcreated(){\n\t\tthis.taskList();\n\t},\n\tmethods:{\n\t\tsubmitOperation(){\n\t\t\tconst operationArray = []\n\t\t\tconst id = new this.$snowFlakeId().generate()\n\t\t\toperationArray.push(id)\n\t\t\toperationArray.push(id)\n\t\t\toperationArray.push(this.taskInfo.cropsId)\n\t\t\toperationArray.push(this.$store.getters.nickName)\n\t\t\toperationArray.push(this.$store.getters.phonenumber)\n\t\t\toperationArray.push(formatDate(new Date()))\n\t\t\toperationArray.push(this.recordForm.workContent)\n\t\t\toperationArray.push(this.recordForm.remarks)\n\t\t\tthis.$httpBlock\n\t\t\t\t.post(this.$httpUrl + '/productapi/createOperation', { operationArray: operationArray })\n\t\t\t\t.then(res => {\n\t\t\t\t\tif (res.status === 200) {\n\t\t\t\t\t\tthis.msgSuccess(\"数据上链成功\");\n\t\t\t\t\t\tthis.workContentDialog = false\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(err => {\n\t\t\t\t\tthis.msgError('存储异常 ' + err);\n\t\t\t\t});\n\t\t},\n\n\t\taddWorkContent(row){\n\t\t\tthis.taskInfo = row\n\t\t\tthis.workContentDialog = true\n\t\t},\n\n\t\ttaskList(){\n\t\t\tqueryTaskList().then(res => {\n\t\t\t\tthis.taskLists = res.data\n\t\t\t}).catch(err => {\n\t\t\t\tthis.msgError(\"获取任务失败\")\n\t\t\t})\n\t\t}\n\t}\n\n}\n</script>\n\n<style>\n</style>\n"]}]}