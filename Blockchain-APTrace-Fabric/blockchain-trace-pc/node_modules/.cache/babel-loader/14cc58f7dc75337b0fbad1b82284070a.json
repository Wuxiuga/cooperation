{"remainingRequest":"/Users/libaojian/Desktop/Blockchain-APTrace-Fabric/blockchain-trace-pc/node_modules/babel-loader/lib/index.js!/Users/libaojian/Desktop/Blockchain-APTrace-Fabric/blockchain-trace-pc/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/libaojian/Desktop/Blockchain-APTrace-Fabric/blockchain-trace-pc/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/libaojian/Desktop/Blockchain-APTrace-Fabric/blockchain-trace-pc/src/views/trace/retailer/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/libaojian/Desktop/Blockchain-APTrace-Fabric/blockchain-trace-pc/src/views/trace/retailer/index.vue","mtime":1645620179157},{"path":"/Users/libaojian/Desktop/Blockchain-APTrace-Fabric/blockchain-trace-pc/babel.config.js","mtime":1645620179122},{"path":"/Users/libaojian/Desktop/Blockchain-APTrace-Fabric/blockchain-trace-pc/node_modules/cache-loader/dist/cjs.js","mtime":1645761092242},{"path":"/Users/libaojian/Desktop/Blockchain-APTrace-Fabric/blockchain-trace-pc/node_modules/babel-loader/lib/index.js","mtime":1645761092758},{"path":"/Users/libaojian/Desktop/Blockchain-APTrace-Fabric/blockchain-trace-pc/node_modules/cache-loader/dist/cjs.js","mtime":1645761092242},{"path":"/Users/libaojian/Desktop/Blockchain-APTrace-Fabric/blockchain-trace-pc/node_modules/vue-loader/lib/index.js","mtime":1645761092929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCIvVXNlcnMvbGliYW9qaWFuL0Rlc2t0b3AvQmxvY2tjaGFpbi1BUFRyYWNlLUZhYnJpYy9ibG9ja2NoYWluLXRyYWNlLXBjL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlRGVmYXVsdC5qcyIpLmRlZmF1bHQ7CgpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgdmFsdWU6IHRydWUKfSk7CmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy93ZWIudXJsLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvd2ViLnVybC1zZWFyY2gtcGFyYW1zLmpzIik7Cgp2YXIgX2RlcHQgPSByZXF1aXJlKCJAL2FwaS9zeXN0ZW0vZGVwdCIpOwoKdmFyIF9tYXRlcmlhbCA9IHJlcXVpcmUoIi4uLy4uLy4uL2FwaS90cmFjZS9tYXRlcmlhbCIpOwoKdmFyIF92dWVUcmVlc2VsZWN0ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJAcmlvcGhhZS92dWUtdHJlZXNlbGVjdCIpKTsKCnJlcXVpcmUoIkByaW9waGFlL3Z1ZS10cmVlc2VsZWN0L2Rpc3QvdnVlLXRyZWVzZWxlY3QuY3NzIik7Cgp2YXIgX2luZGV4ID0gcmVxdWlyZSgiLi4vLi4vLi4vdXRpbHMvaW5kZXguanMiKTsKCnZhciBfZmFybWVyID0gcmVxdWlyZSgiLi4vLi4vLi4vYXBpL3RyYWNlL2Zhcm1lciIpOwoKdmFyIF9wcm9kdWN0ID0gcmVxdWlyZSgiLi4vLi4vLi4vYXBpL3RyYWNlL3Byb2R1Y3QiKTsKCnZhciBfcmV0YWlsZXIgPSByZXF1aXJlKCIuLi8uLi8uLi9hcGkvdHJhY2UvcmV0YWlsZXIiKTsKCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCnZhciBfZGVmYXVsdCA9IHsKICBuYW1lOiAnRGVwdCcsCiAgY29tcG9uZW50czogewogICAgVHJlZXNlbGVjdDogX3Z1ZVRyZWVzZWxlY3QuZGVmYXVsdAogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGltYWdlVXJsOiAnJywKICAgICAgbm90aWNlRGV0YWlEaWFsb2c6IGZhbHNlLAogICAgICAvLyDpga7nvanlsYIKICAgICAgbG9hZGluZzogdHJ1ZSwKICAgICAgLy8g5pi+56S65pCc57Si5p2h5Lu2CiAgICAgIHNob3dTZWFyY2g6IHRydWUsCiAgICAgIC8vIOihqOagvOagkeaVsOaNrgogICAgICBkZXB0TGlzdDogW10sCiAgICAgIC8vIOmDqOmXqOagkemAiemhuQogICAgICBkZXB0T3B0aW9uczogW10sCiAgICAgIC8vIOW8ueWHuuWxguagh+mimAogICAgICB0aXRsZTogJycsCiAgICAgIC8vIOaYr+WQpuaYvuekuuW8ueWHuuWxggogICAgICBvcGVuOiBmYWxzZSwKICAgICAgLy8g54q25oCB5pWw5o2u5a2X5YW4CiAgICAgIHN0YXR1c09wdGlvbnM6IFtdLAogICAgICAvLyDmn6Xor6Llj4LmlbAKICAgICAgcXVlcnlQYXJhbXM6IHsKICAgICAgICBkZXB0TmFtZTogdW5kZWZpbmVkLAogICAgICAgIHN0YXR1czogdW5kZWZpbmVkCiAgICAgIH0sCiAgICAgIC8vIOihqOWNleWPguaVsAogICAgICBmb3JtOiB7fSwKICAgICAgdHJhbnNwb3J0TGlzdDogW10sCiAgICAgIGNpdHlEZXRhaWw6ICcnLAogICAgICBsbmc6IE51bWJlciwKICAgICAgbGF0OiBOdW1iZXIsCiAgICAgIGltZ0Jhc2U2NDogJycsCiAgICAgIFRlc3RpbmdQaG90b1VybDogJycsCiAgICAgIGNoZWNrSW5mbzogJycsCiAgICAgIGRyaXZlckxpc3Q6IFtdLAogICAgICBub3RpY2VUcmFuc3BvcnREaWFsb2c6IGZhbHNlLAogICAgICB0cmFzcG9ydEZvcm06IHt9LAogICAgICBmYWN0b3J5TGlzdDogW10sCiAgICAgIHRyYWNlSWREaWFsb2c6IGZhbHNlLAogICAgICByZXRhaWxlckluZm86ICcnCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0TGlzdCgpOwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsvL3RoaXMucXJjb2RlKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICAvL+iOt+WPluS6p+WTgea6r+a6kElECiAgICBnZXRUcmFjZUlkOiBmdW5jdGlvbiBnZXRUcmFjZUlkKHJvdykgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIHJldGFpbGVyQXJyYXkgPSBbXTsKICAgICAgcmV0YWlsZXJBcnJheS5wdXNoKHJvdy5jcm9wc0lkKTsKICAgICAgcmV0YWlsZXJBcnJheS5wdXNoKHRoaXMuJHN0b3JlLmdldHRlcnMubmFtZSk7CiAgICAgIHRoaXMuJGh0dHBCbG9jay5nZXQodGhpcy4kaHR0cFVybCArICcvcmV0YWlsZXJhcGkvcXVlcnlSZXRhaWxlckJ5Q3JvcHNJZD9jcm9wc0lkPScgKyByb3cuY3JvcHNJZCArICcmcmV0YWlsZXJJZD0nICsgdGhpcy4kc3RvcmUuZ2V0dGVycy5uYW1lKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLmRhdGEubGVuZ3RoIDwgMSkgewogICAgICAgICAgX3RoaXMubXNnRXJyb3IoIuivt+WFiOetvuaUtuWQjuWGjeiOt+WPliIpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpcy50cmFjZUlkRGlhbG9nID0gdHJ1ZTsKICAgICAgICAgIF90aGlzLnJldGFpbGVySW5mbyA9IHJlcy5kYXRhWzBdLlJlY29yZDsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICBfdGhpcy5tc2dFcnJvcign5a2Y5YKo5byC5bi4ICcgKyBlcnIpOwogICAgICB9KTsKICAgIH0sCiAgICAvL+etvuaUtgogICAgcmVjZWl2ZTogZnVuY3Rpb24gcmVjZWl2ZShyb3cpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB2YXIgcmV0YWlsZXJBcnJheSA9IFtdOwogICAgICB2YXIgaWQgPSBuZXcgdGhpcy4kc25vd0ZsYWtlSWQoKS5nZW5lcmF0ZSgpOwogICAgICByZXRhaWxlckFycmF5LnB1c2goaWQpOwogICAgICByZXRhaWxlckFycmF5LnB1c2goaWQpOwogICAgICByZXRhaWxlckFycmF5LnB1c2gocm93LmNyb3BzSWQpOwogICAgICByZXRhaWxlckFycmF5LnB1c2godGhpcy4kc3RvcmUuZ2V0dGVycy5uaWNrTmFtZSk7CiAgICAgIHJldGFpbGVyQXJyYXkucHVzaCh0aGlzLiRzdG9yZS5nZXR0ZXJzLm5hbWUpOwogICAgICByZXRhaWxlckFycmF5LnB1c2godGhpcy4kc3RvcmUuZ2V0dGVycy5waG9uZW51bWJlcik7CiAgICAgIHJldGFpbGVyQXJyYXkucHVzaCh0aGlzLiRzdG9yZS5nZXR0ZXJzLmRlcHROYW1lKTsKICAgICAgcmV0YWlsZXJBcnJheS5wdXNoKCfpm7bllK7llYbllK7ljZYnKTsKICAgICAgdGhpcy4kY29uZmlybSgn5piv5ZCm56Gu6K6k562+5pS2JyArIHJvdy5jcm9wc05hbWUsICfnrb7mlLYnLCB7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLAogICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczIuJGh0dHBCbG9jay5wb3N0KF90aGlzMi4kaHR0cFVybCArICcvcmV0YWlsZXJhcGkvY3JlYXRlUmV0YWlsZXInLCB7CiAgICAgICAgICByZXRhaWxlckFycmF5OiByZXRhaWxlckFycmF5CiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICBpZiAocmVzLnN0YXR1cyA9PT0gMjAwKSB7CiAgICAgICAgICAgIHZhciBpbmZvID0gewogICAgICAgICAgICAgIGNyb3BzSWQ6IHJvdy5jcm9wc0lkLAogICAgICAgICAgICAgIGZhY3RvcnlJZDogX3RoaXMyLiRzdG9yZS5nZXR0ZXJzLmRlcHRJZAogICAgICAgICAgICB9OwogICAgICAgICAgICAoMCwgX3JldGFpbGVyLnVwZGF0ZVJlY2VpdmVTdGF0dXMpKGluZm8pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIF90aGlzMi5tc2dTdWNjZXNzKCLnrb7mlLbmiJDlip8iKTsKCiAgICAgICAgICAgICAgX3RoaXMyLmdldExpc3QoKTsKICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgICAgIF90aGlzMi5tc2dFcnJvcigi562+5pS25aSx6LSlIik7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgIF90aGlzMi5tc2dFcnJvcign5a2Y5YKo5byC5bi4ICcgKyBlcnIpOwogICAgICAgIH0pOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMyLiRtZXNzYWdlKHsKICAgICAgICAgIHR5cGU6ICdpbmZvJywKICAgICAgICAgIG1lc3NhZ2U6ICflj5bmtognCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIGFkZE5vdGljZVRyYXNwb3J0OiBmdW5jdGlvbiBhZGROb3RpY2VUcmFzcG9ydCgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB0aGlzLnRyYXNwb3J0Rm9ybS5jcm9wc0lkID0gdGhpcy5jaGVja0luZm8uY3JvcHNJZDsKICAgICAgdGhpcy50cmFzcG9ydEZvcm0uZmFybWVyVXNlck5hbWUgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzLm5hbWU7CiAgICAgIHRoaXMudHJhc3BvcnRGb3JtLmZhcm1lck5pY2tOYW1lID0gdGhpcy4kc3RvcmUuZ2V0dGVycy5uaWNrTmFtZTsKICAgICAgdGhpcy50cmFzcG9ydEZvcm0udGltZSA9IG5ldyBEYXRlKCk7CiAgICAgIHRoaXMudHJhc3BvcnRGb3JtLmRyaXZlcklkID0gdGhpcy50cmFzcG9ydEZvcm0udXNlck5hbWU7CiAgICAgIHRoaXMudHJhc3BvcnRGb3JtLnN0YXR1cyA9IDA7CiAgICAgIHRoaXMudHJhc3BvcnRGb3JtLmZhcm1lclRlbCA9IHRoaXMuJHN0b3JlLmdldHRlcnMucGhvbmVudW1iZXI7CiAgICAgIHRoaXMudHJhc3BvcnRGb3JtLmZhcm1lckRlcHQgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzLmRlcHROYW1lOwogICAgICB0aGlzLnRyYXNwb3J0Rm9ybS5mYWN0b3J5SWQgPSB0aGlzLnRyYXNwb3J0Rm9ybS5kZXB0SWQ7CiAgICAgICgwLCBfbWF0ZXJpYWwuYWRkVHJhbnNwb3J0KSh0aGlzLnRyYXNwb3J0Rm9ybSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMzLm1zZ1N1Y2Nlc3MoJ+iBlOezu+i/kOi+k+aIkOWKnycpOwoKICAgICAgICBfdGhpczMubm90aWNlRGV0YWlEaWFsb2cgPSBmYWxzZTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIF90aGlzMy5tc2dFcnJvcign6IGU57O76L+Q6L6T5aSx6LSl77yM5Y+R55Sf5byC5bi4Jyk7CiAgICAgIH0pOwogICAgfSwKICAgIG5vdGljZVRyYW5zcG9ydDogZnVuY3Rpb24gbm90aWNlVHJhbnNwb3J0KHJvdykgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHRoaXMuY2hlY2tJbmZvID0gcm93OwogICAgICB0aGlzLm5vdGljZURldGFpRGlhbG9nID0gdHJ1ZTsKICAgICAgKDAsIF9mYXJtZXIuZ2V0QWxsRHJpdmVyQnlEZXB0SWQpKHRoaXMuJHN0b3JlLmdldHRlcnMuZGVwdElkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczQuZHJpdmVyTGlzdCA9IHJlcy5kYXRhOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7fSk7CiAgICAgICgwLCBfZmFybWVyLmdldEZhY3RvcnlCeURlcHRJZCkoMTIzKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczQuZmFjdG9yeUxpc3QgPSByZXMuZGF0YTsKICAgICAgfSk7CiAgICB9LAoKICAgIC8qKgogICAgICog5Ye65bqTCiAgICAgKi8KICAgIG91dEZhY3Rvcnk6IGZ1bmN0aW9uIG91dEZhY3Rvcnkocm93KSB7CiAgICAgIHRoaXMuY2hlY2tJbmZvID0gcm93OwogICAgICB0aGlzLm9wZW4gPSB0cnVlOwogICAgfSwKICAgIGNyZWF0ZU1hY2hpbmc6IGZ1bmN0aW9uIGNyZWF0ZU1hY2hpbmcoKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgdmFyIGNoZWNrSW5mb0FycmF5ID0gW107CiAgICAgIHZhciBpZCA9IG5ldyB0aGlzLiRzbm93Rmxha2VJZCgpLmdlbmVyYXRlKCk7CiAgICAgIGNoZWNrSW5mb0FycmF5LnB1c2goaWQpOwogICAgICBjaGVja0luZm9BcnJheS5wdXNoKGlkKTsKICAgICAgY2hlY2tJbmZvQXJyYXkucHVzaCh0aGlzLiRzdG9yZS5nZXR0ZXJzLm5pY2tOYW1lKTsKICAgICAgY2hlY2tJbmZvQXJyYXkucHVzaCh0aGlzLiRzdG9yZS5nZXR0ZXJzLnBob25lbnVtYmVyKTsKICAgICAgY2hlY2tJbmZvQXJyYXkucHVzaCh0aGlzLiRzdG9yZS5nZXR0ZXJzLmRlcHROYW1lKTsKICAgICAgY2hlY2tJbmZvQXJyYXkucHVzaCh0aGlzLmNoZWNrSW5mby5jcm9wc0lkKTsKICAgICAgY2hlY2tJbmZvQXJyYXkucHVzaCh0aGlzLmZvcm0udGVzdGluZ1Jlc3VsdCk7CiAgICAgIGNoZWNrSW5mb0FycmF5LnB1c2godGhpcy5jaGVja0luZm8udGltZSk7CiAgICAgIGNoZWNrSW5mb0FycmF5LnB1c2goKDAsIF9pbmRleC5mb3JtYXREYXRlKShuZXcgRGF0ZSgpKSk7CiAgICAgIGNoZWNrSW5mb0FycmF5LnB1c2godGhpcy5UZXN0aW5nUGhvdG9VcmwpOwogICAgICBjaGVja0luZm9BcnJheS5wdXNoKHRoaXMuZm9ybS5yZW1hcmtzKTsKICAgICAgdGhpcy4kaHR0cEJsb2NrLnBvc3QodGhpcy4kaHR0cFVybCArICcvbWF0ZXJpYWxhcGkvY3JlYXRlTWFjaGluZycsIHsKICAgICAgICBjaGVja0luZm9BcnJheTogY2hlY2tJbmZvQXJyYXkKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT09IDIwMCkgewogICAgICAgICAgKDAsIF9tYXRlcmlhbC5jaGFuZ2VJblRvT3V0KShfdGhpczUuY2hlY2tJbmZvLmNyb3BzSWQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICBfdGhpczUubXNnU3VjY2Vzcygi5Ye65bqT5oiQ5YqfIik7CgogICAgICAgICAgICBfdGhpczUuZ2V0TGlzdCgpOwogICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgICBfdGhpczUubXNnRXJyb3IoIuWHuuW6k+Wksei0pSIpOwogICAgICAgICAgfSk7CiAgICAgICAgICBfdGhpczUub3BlbiA9IGZhbHNlOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIF90aGlzNS5tc2dFcnJvcign5a2Y5YKo5byC5bi4ICcgKyBlcnIpOwogICAgICB9KTsKICAgIH0sCiAgICBnZXRGaWxlOiBmdW5jdGlvbiBnZXRGaWxlKGZpbGUpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CgogICAgICB0aGlzLmltYWdlVXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChmaWxlLnJhdyk7CiAgICAgIHRoaXMuZ2V0QmFzZTY0KGZpbGUucmF3KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczYuaW1nQmFzZTY0ID0gcmVzOwogICAgICAgIHZhciBkYXRhcyA9IHsKICAgICAgICAgIGltYWdlQmFzZTY0OiBfdGhpczYuaW1nQmFzZTY0CiAgICAgICAgfTsKICAgICAgICAoMCwgX2Zhcm1lci51cGxvZEltYWdlc0Jhc2U2NCkoZGF0YXMpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgX3RoaXM2LlRlc3RpbmdQaG90b1VybCA9IHJlcy5tc2c7CgogICAgICAgICAgX3RoaXM2Lm1zZ1N1Y2Nlc3MoJ+WbvueJh+S4iuS8oOaIkOWKnycpOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgIF90aGlzNi5tc2dFcnJvcign5Zu+54mH5LiK5Lyg5aSx6LSlJyk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIGdldEJhc2U2NDogZnVuY3Rpb24gZ2V0QmFzZTY0KGZpbGUpIHsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTsKICAgICAgICB2YXIgaW1nUmVzdWx0ID0gJyc7CiAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7CgogICAgICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBpbWdSZXN1bHQgPSByZWFkZXIucmVzdWx0OwogICAgICAgIH07CgogICAgICAgIHJlYWRlci5vbmVycm9yID0gZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICByZWplY3QoZXJyb3IpOwogICAgICAgIH07CgogICAgICAgIHJlYWRlci5vbmxvYWRlbmQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXNvbHZlKGltZ1Jlc3VsdCk7CiAgICAgICAgfTsKICAgICAgfSk7CiAgICB9LAogICAgZ2V0TGlzdDogZnVuY3Rpb24gZ2V0TGlzdCgpIHsKICAgICAgdmFyIF90aGlzNyA9IHRoaXM7CgogICAgICAoMCwgX3Byb2R1Y3QucXVlcnlDcm9wc0xpc3QpKHRoaXMuJHN0b3JlLmdldHRlcnMuZGVwdElkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczcudHJhbnNwb3J0TGlzdCA9IHJlcy5kYXRhOwogICAgICB9KTsKICAgIH0sCgogICAgLyoqIOi9rOaNoumDqOmXqOaVsOaNrue7k+aehCAqLwogICAgbm9ybWFsaXplcjogZnVuY3Rpb24gbm9ybWFsaXplcihub2RlKSB7CiAgICAgIGlmIChub2RlLmNoaWxkcmVuICYmICFub2RlLmNoaWxkcmVuLmxlbmd0aCkgewogICAgICAgIGRlbGV0ZSBub2RlLmNoaWxkcmVuOwogICAgICB9CgogICAgICByZXR1cm4gewogICAgICAgIGlkOiBub2RlLmRlcHRJZCwKICAgICAgICBsYWJlbDogbm9kZS5kZXB0TmFtZSwKICAgICAgICBjaGlsZHJlbjogbm9kZS5jaGlsZHJlbgogICAgICB9OwogICAgfSwKICAgIC8vIOWtl+WFuOeKtuaAgeWtl+WFuOe/u+ivkQogICAgc3RhdHVzRm9ybWF0OiBmdW5jdGlvbiBzdGF0dXNGb3JtYXQocm93LCBjb2x1bW4pIHsKICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0RGljdExhYmVsKHRoaXMuc3RhdHVzT3B0aW9ucywgcm93LnN0YXR1cyk7CiAgICB9LAogICAgLy8g5Y+W5raI5oyJ6ZKuCiAgICBjYW5jZWw6IGZ1bmN0aW9uIGNhbmNlbCgpIHsKICAgICAgdGhpcy5vcGVuID0gZmFsc2U7CiAgICAgIHRoaXMucmVzZXQoKTsKICAgIH0sCiAgICAvLyDooajljZXph43nva4KICAgIHJlc2V0OiBmdW5jdGlvbiByZXNldCgpIHsKICAgICAgdGhpcy5mb3JtID0gewogICAgICAgIGRlcHRJZDogdW5kZWZpbmVkLAogICAgICAgIHBhcmVudElkOiB1bmRlZmluZWQsCiAgICAgICAgZGVwdE5hbWU6IHVuZGVmaW5lZCwKICAgICAgICBvcmRlck51bTogdW5kZWZpbmVkLAogICAgICAgIGxlYWRlcjogdW5kZWZpbmVkLAogICAgICAgIHBob25lOiB1bmRlZmluZWQsCiAgICAgICAgZW1haWw6IHVuZGVmaW5lZCwKICAgICAgICBzdGF0dXM6ICcwJwogICAgICB9OwogICAgICB0aGlzLnJlc2V0Rm9ybSgnZm9ybScpOwogICAgfSwKCiAgICAvKiog5pCc57Si5oyJ6ZKu5pON5L2cICovCiAgICBoYW5kbGVRdWVyeTogZnVuY3Rpb24gaGFuZGxlUXVlcnkoKSB7CiAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgfSwKCiAgICAvKiog6YeN572u5oyJ6ZKu5pON5L2cICovCiAgICByZXNldFF1ZXJ5OiBmdW5jdGlvbiByZXNldFF1ZXJ5KCkgewogICAgICB0aGlzLnJlc2V0Rm9ybSgncXVlcnlGb3JtJyk7CiAgICAgIHRoaXMuaGFuZGxlUXVlcnkoKTsKICAgIH0sCgogICAgLyoqIOaWsOWinuaMiemSruaTjeS9nCAqLwogICAgaGFuZGxlQWRkOiBmdW5jdGlvbiBoYW5kbGVBZGQocm93KSB7CiAgICAgIHZhciBfdGhpczggPSB0aGlzOwoKICAgICAgdGhpcy5yZXNldCgpOwoKICAgICAgaWYgKHJvdyAhPSB1bmRlZmluZWQpIHsKICAgICAgICB0aGlzLmZvcm0ucGFyZW50SWQgPSByb3cuZGVwdElkOwogICAgICB9CgogICAgICB0aGlzLm9wZW4gPSB0cnVlOwogICAgICB0aGlzLnRpdGxlID0gJ+a3u+WKoOmDqOmXqCc7CiAgICAgICgwLCBfZGVwdC5saXN0RGVwdCkoKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzOC5kZXB0T3B0aW9ucyA9IF90aGlzOC5oYW5kbGVUcmVlKHJlc3BvbnNlLmRhdGEsICdkZXB0SWQnKTsKICAgICAgfSk7CiAgICB9LAoKICAgIC8qKiDkv67mlLnmjInpkq7mk43kvZwgKi8KICAgIGhhbmRsZVVwZGF0ZTogZnVuY3Rpb24gaGFuZGxlVXBkYXRlKHJvdykgewogICAgICB2YXIgX3RoaXM5ID0gdGhpczsKCiAgICAgIHRoaXMucmVzZXQoKTsKICAgICAgKDAsIF9kZXB0LmdldERlcHQpKHJvdy5kZXB0SWQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXM5LmZvcm0gPSByZXNwb25zZS5kYXRhOwogICAgICAgIF90aGlzOS5vcGVuID0gdHJ1ZTsKICAgICAgICBfdGhpczkudGl0bGUgPSAn5L+u5pS56YOo6ZeoJzsKICAgICAgfSk7CiAgICAgICgwLCBfZGVwdC5saXN0RGVwdEV4Y2x1ZGVDaGlsZCkocm93LmRlcHRJZCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpczkuZGVwdE9wdGlvbnMgPSBfdGhpczkuaGFuZGxlVHJlZShyZXNwb25zZS5kYXRhLCAnZGVwdElkJyk7CiAgICAgIH0pOwogICAgfSwKCiAgICAvKiog5o+Q5Lqk5oyJ6ZKuICovCiAgICBzdWJtaXRGb3JtOiBmdW5jdGlvbiBzdWJtaXRGb3JtKCkgewogICAgICB2YXIgX3RoaXMxMCA9IHRoaXM7CgogICAgICB0aGlzLiRyZWZzWydmb3JtJ10udmFsaWRhdGUoZnVuY3Rpb24gKHZhbGlkKSB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICBpZiAoX3RoaXMxMC5mb3JtLmRlcHRJZCAhPSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgKDAsIF9kZXB0LnVwZGF0ZURlcHQpKF90aGlzMTAuZm9ybSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICBfdGhpczEwLm1zZ1N1Y2Nlc3MoJ+S/ruaUueaIkOWKnycpOwoKICAgICAgICAgICAgICAgIF90aGlzMTAub3BlbiA9IGZhbHNlOwoKICAgICAgICAgICAgICAgIF90aGlzMTAuZ2V0TGlzdCgpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAoMCwgX2RlcHQuYWRkRGVwdCkoX3RoaXMxMC5mb3JtKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgIGlmIChyZXNwb25zZS5jb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgIF90aGlzMTAubXNnU3VjY2Vzcygn5paw5aKe5oiQ5YqfJyk7CgogICAgICAgICAgICAgICAgX3RoaXMxMC5vcGVuID0gZmFsc2U7CgogICAgICAgICAgICAgICAgX3RoaXMxMC5nZXRMaXN0KCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKCiAgICAvKiog5Yig6Zmk5oyJ6ZKu5pON5L2cICovCiAgICBoYW5kbGVEZWxldGU6IGZ1bmN0aW9uIGhhbmRsZURlbGV0ZShyb3cpIHsKICAgICAgdmFyIF90aGlzMTEgPSB0aGlzOwoKICAgICAgdGhpcy4kY29uZmlybSgn5piv5ZCm56Gu6K6k5Yig6Zmk5ZCN56ew5Li6IicgKyByb3cuZGVwdE5hbWUgKyAnIueahOaVsOaNrumhuT8nLCAn6K2m5ZGKJywgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuICgwLCBfZGVwdC5kZWxEZXB0KShyb3cuZGVwdElkKTsKICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMxMS5nZXRMaXN0KCk7CgogICAgICAgIF90aGlzMTEubXNnU3VjY2Vzcygn5Yig6Zmk5oiQ5YqfJyk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHt9KTsKICAgIH0KICB9Cn07CmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0Ow=="},{"version":3,"mappings":"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","names":["name","components","Treeselect","data","imageUrl","noticeDetaiDialog","loading","showSearch","deptList","deptOptions","title","open","statusOptions","queryParams","deptName","status","form","transportList","cityDetail","lng","lat","imgBase64","TestingPhotoUrl","checkInfo","driverList","noticeTransportDialog","trasportForm","factoryList","traceIdDialog","retailerInfo","created","mounted","methods","getTraceId","row","retailerArray","get","then","catch","receive","confirmButtonText","cancelButtonText","type","post","cropsId","factoryId","message","addNoticeTrasport","noticeTransport","outFactory","createMaching","checkInfoArray","getFile","file","imageBase64","getBase64","reader","imgResult","reject","resolve","getList","normalizer","node","id","label","children","statusFormat","column","cancel","reset","deptId","parentId","orderNum","leader","phone","email","handleQuery","resetQuery","handleAdd","handleUpdate","submitForm","handleDelete"],"sourceRoot":"src/views/trace/retailer","sources":["index.vue"],"sourcesContent":["<template>\n\t<div class=\"app-container\">\n\n\t\t<el-divider>待处理业务</el-divider>\n\n\t\t<br />\n\t\t<el-table :data=\"transportList\">\n\t\t\t<el-table-column type=\"selection\" width=\"55\" align=\"center\" />\n\t\t\t<el-table-column label=\"产品编号\" prop=\"cropsId\" />\n\t\t\t<el-table-column label=\"产品名称\" prop=\"cropsName\" />\n\t\t\t<el-table-column label=\"产品来源\" prop=\"farmerDept\" />\n\t\t\t<el-table-column label=\"时间\" prop=\"time\" />\n\t\t\t<el-table-column label=\"签收状态\" prop=\"retailerReceiveStatus\">\n\t\t\t\t<template slot-scope=\"scope\">\n\t\t\t\t\t<el-tag v-show=\"scope.row.retailerReceiveStatus === null\">未签收</el-tag>\n\t\t\t\t\t<el-tag v-show=\"scope.row.retailerReceiveStatus === 1\">已签收</el-tag>\n\t\t\t\t</template>\n\t\t\t</el-table-column>\n\t\t\t<el-table-column label=\"操作\" align=\"center\" class-name=\"small-padding fixed-width\">\n\t\t\t\t<template slot-scope=\"scope\">\n\t\t\t\t\t<el-button v-show=\"scope.row.retailerReceiveStatus === null\" size=\"mini\" type=\"text\" @click=\"receive(scope.row)\">签收</el-button>\n<!--\t\t\t\t\t<el-button size=\"mini\" type=\"text\" @click=\"noticeTransport(scope.row)\">打印条形码</el-button>-->\n\t\t\t\t\t<el-button size=\"mini\" type=\"text\" @click=\"getTraceId(scope.row)\">获取产品溯源ID</el-button>\n\t\t\t\t</template>\n\t\t\t</el-table-column>\n\t\t</el-table>\n\n\n\t\t<el-dialog :title=\"title\" :visible.sync=\"open\" width=\"700px\" append-to-body>\n\t\t\t<el-form ref=\"form\" :model=\"form\" label-width=\"80px\">\n\t\t\t\t<el-row>\n\t\t\t\t\t<el-col :span=\"12\">\n\t\t\t\t\t\t<el-form-item label=\"检测结果\" prop=\"nickName\"><el-input v-model=\"form.testingResult\" placeholder=\"请输入检测结果\" /></el-form-item>\n\t\t\t\t\t</el-col>\n\t\t\t\t</el-row>\n\t\t\t\t<el-form-item label=\"备注\"><el-input v-model=\"form.remarks\" type=\"textarea\" placeholder=\"请输入内容\"></el-input></el-form-item>\n\t\t\t\t<el-row>\n\t\t\t\t\t<el-col :span=\"12\">\n\t\t\t\t\t\t<el-form-item label=\"检测图片:\">\n\t\t\t\t\t\t\t<el-upload class=\"avatar-uploader\" :on-change=\"getFile\" :show-file-list=\"false\" :auto-upload=\"false\">\n\t\t\t\t\t\t\t\t<img v-if=\"imageUrl\" :src=\"imageUrl\" class=\"avatar\" />\n\t\t\t\t\t\t\t\t<i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\n\t\t\t\t\t\t\t</el-upload>\n\t\t\t\t\t\t</el-form-item>\n\t\t\t\t\t</el-col>\n\t\t\t\t</el-row>\n\n\t\t\t</el-form>\n\t\t\t<div slot=\"footer\" class=\"dialog-footer\">\n\t\t\t\t<el-button type=\"primary\" @click=\"createMaching\">确 定</el-button>\n\t\t\t\t<el-button @click=\"cancel\">取 消</el-button>\n\t\t\t</div>\n\t\t</el-dialog>\n\n\t\t<el-dialog center title=\"联系运输\" :visible.sync=\"noticeDetaiDialog\" width=\"500px\" append-to-body>\n\t\t\t<el-form ref=\"form\" :model=\"trasportForm\" label-width=\"80px\">\n\t\t\t\t<el-row>\n\t\t\t\t\t<el-col :span=\"24\">\n\t\t\t\t\t\t<el-form-item label=\"选择司机\" prop=\"nickName\">\n\t\t\t\t\t\t\t<el-select v-model=\"trasportForm.userName\" placeholder=\"请选择\">\n\t\t\t\t\t\t\t\t<el-option v-for=\"user in driverList\" :key=\"user.userName\" :label=\"user.nickName\" :value=\"user.userName\"></el-option>\n\t\t\t\t\t\t\t</el-select>\n\t\t\t\t\t\t</el-form-item>\n\t\t\t\t\t</el-col>\n\t\t\t\t</el-row>\n\t\t\t\t<el-row>\n\t\t\t\t\t<el-col :span=\"24\">\n\t\t\t\t\t\t<el-form-item label=\"生产厂商\" prop=\"nickName\">\n\t\t\t\t\t\t\t<el-select v-model=\"trasportForm.deptId\" placeholder=\"请选择\">\n\t\t\t\t\t\t\t\t<el-option v-for=\"dept in factoryList\" :key=\"dept.deptId\" :label=\"dept.deptName\" :value=\"dept.deptId\"></el-option>\n\t\t\t\t\t\t\t</el-select>\n\t\t\t\t\t\t</el-form-item>\n\t\t\t\t\t</el-col>\n\t\t\t\t</el-row>\n\t\t\t\t<el-form-item label=\"备注\"><el-input v-model=\"trasportForm.remarks\" type=\"textarea\" placeholder=\"请输入内容\"></el-input></el-form-item>\n\t\t\t</el-form>\n\t\t\t<div slot=\"footer\" class=\"dialog-footer\">\n\t\t\t\t<el-button type=\"primary\" @click=\"addNoticeTrasport\">确 定</el-button>\n\t\t\t\t<el-button @click=\"cancel\">取 消</el-button>\n\t\t\t</div>\n\t\t</el-dialog>\n\n\t\t<el-dialog center title=\"产品溯源ID\" :visible.sync=\"traceIdDialog\" width=\"500px\" append-to-body>\n\t\t\t<json-viewer :value=\"retailerInfo.product_id\" expand-depth=5 copyable boxed></json-viewer>\n\t\t</el-dialog>\n\n\t</div>\n</template>\n\n<script>\nimport { listDept, getDept, delDept, addDept, updateDept, listDeptExcludeChild } from '@/api/system/dept';\nimport {addTransport, listCrops,changeInToOut} from '../../../api/trace/material';\nimport Treeselect from '@riophae/vue-treeselect';\nimport '@riophae/vue-treeselect/dist/vue-treeselect.css';\nimport { formatDate } from '../../../utils/index.js';\nimport {uplodImagesBase64,getAllDriverByDeptId,getFactoryByDeptId} from '../../../api/trace/farmer';\nimport {queryCropsList } from '../../../api/trace/product';\nimport {updateReceiveStatus } from '../../../api/trace/retailer';\nexport default {\n\tname: 'Dept',\n\tcomponents: { Treeselect },\n\tdata() {\n\t\treturn {\n\t\t\timageUrl:'',\n\t\t\tnoticeDetaiDialog: false,\n\t\t\t// 遮罩层\n\t\t\tloading: true,\n\t\t\t// 显示搜索条件\n\t\t\tshowSearch: true,\n\t\t\t// 表格树数据\n\t\t\tdeptList: [],\n\t\t\t// 部门树选项\n\t\t\tdeptOptions: [],\n\t\t\t// 弹出层标题\n\t\t\ttitle: '',\n\t\t\t// 是否显示弹出层\n\t\t\topen: false,\n\t\t\t// 状态数据字典\n\t\t\tstatusOptions: [],\n\t\t\t// 查询参数\n\t\t\tqueryParams: {\n\t\t\t\tdeptName: undefined,\n\t\t\t\tstatus: undefined\n\t\t\t},\n\t\t\t// 表单参数\n\t\t\tform: {},\n\n\t\t\ttransportList: [],\n\t\t\tcityDetail: '',\n\t\t\tlng: Number,\n\t\t\tlat: Number,\n\t\t\timgBase64:'',\n\t\t\tTestingPhotoUrl:'',\n\t\t\tcheckInfo:'',\n\t\t\tdriverList:[],\n\t\t\tnoticeTransportDialog:false,\n\t\t\ttrasportForm:{},\n\t\t\tfactoryList:[],\n\t\t\ttraceIdDialog:false,\n\t\t\tretailerInfo:''\n\t\t};\n\t},\n\tcreated() {\n\t\tthis.getList();\n\t},\n\n\tmounted() {\n\t\t//this.qrcode();\n\t},\n\n\tmethods: {\n\t\t//获取产品溯源ID\n\t\tgetTraceId(row){\n\t\t\tconst retailerArray = []\n\t\t\tretailerArray.push(row.cropsId)\n\t\t\tretailerArray.push(this.$store.getters.name)\n\t\t\tthis.$httpBlock\n\t\t\t\t.get(this.$httpUrl + '/retailerapi/queryRetailerByCropsId?cropsId='+row.cropsId+'&retailerId='+this.$store.getters.name)\n\t\t\t\t.then(res => {\n          if (res.data.length < 1){\n            this.msgError(\"请先签收后再获取\");\n          }else {\n            this.traceIdDialog = true\n            this.retailerInfo = res.data[0].Record;\n          }\n\n\t\t\t\t})\n\t\t\t\t.catch(err => {\n\t\t\t\t\tthis.msgError('存储异常 ' + err);\n\t\t\t\t});\n\t\t},\n\n\t\t//签收\n\t\treceive(row){\n\t\t\tconst retailerArray = []\n\t\t\tconst id = new this.$snowFlakeId().generate();\n\t\t\tretailerArray.push(id)\n\t\t\tretailerArray.push(id)\n\t\t\tretailerArray.push(row.cropsId)\n\t\t\tretailerArray.push(this.$store.getters.nickName)\n\t\t\tretailerArray.push(this.$store.getters.name)\n\t\t\tretailerArray.push(this.$store.getters.phonenumber)\n\t\t\tretailerArray.push(this.$store.getters.deptName)\n\t\t\tretailerArray.push('零售商售卖')\n\t\t\tthis.$confirm('是否确认签收'+row.cropsName, '签收', {\n\t\t\t\tconfirmButtonText: '确定',\n\t\t\t\tcancelButtonText: '取消',\n\t\t\t\ttype: 'warning'\n\t\t\t})\n\t\t\t\t.then(() => {\n\t\t\t\t\tthis.$httpBlock\n\t\t\t\t\t\t.post(this.$httpUrl + '/retailerapi/createRetailer', { retailerArray: retailerArray })\n\t\t\t\t\t\t.then(res => {\n\t\t\t\t\t\t\tif (res.status === 200) {\n\t\t\t\t\t\t\t\tconst info = {\n\t\t\t\t\t\t\t\t\tcropsId:row.cropsId,\n\t\t\t\t\t\t\t\t\tfactoryId:this.$store.getters.deptId,\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tupdateReceiveStatus(info).then(() => {\n\t\t\t\t\t\t\t\t\tthis.msgSuccess(\"签收成功\");\n\t\t\t\t\t\t\t\t\tthis.getList();\n\t\t\t\t\t\t\t\t}).catch(err => {\n\t\t\t\t\t\t\t\t\tthis.msgError(\"签收失败\")\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\t\tthis.msgError('存储异常 ' + err);\n\t\t\t\t\t\t});\n\t\t\t})\n\t\t\t\t.catch(() => {\n\t\t\t\t\tthis.$message({\n\t\t\t\t\t\ttype: 'info',\n\t\t\t\t\t\tmessage: '取消'\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t},\n\n\t\taddNoticeTrasport(){\n\t\t\tthis.trasportForm.cropsId = this.checkInfo.cropsId;\n\t\t\tthis.trasportForm.farmerUserName = this.$store.getters.name;\n\t\t\tthis.trasportForm.farmerNickName = this.$store.getters.nickName;\n\t\t\tthis.trasportForm.time = new Date();\n\t\t\tthis.trasportForm.driverId = this.trasportForm.userName;\n\t\t\tthis.trasportForm.status = 0;\n\t\t\tthis.trasportForm.farmerTel = this.$store.getters.phonenumber;\n\t\t\tthis.trasportForm.farmerDept = this.$store.getters.deptName;\n\t\t\tthis.trasportForm.factoryId = this.trasportForm.deptId\n\t\t\taddTransport(this.trasportForm)\n\t\t\t\t.then(res => {\n\t\t\t\t\tthis.msgSuccess('联系运输成功');\n\t\t\t\t\tthis.noticeDetaiDialog = false;\n\t\t\t\t})\n\t\t\t\t.catch(err => {\n\t\t\t\t\tthis.msgError('联系运输失败，发生异常');\n\t\t\t\t});\n\t\t},\n\n\t\tnoticeTransport(row){\n\t\t\tthis.checkInfo = row;\n\t\t\tthis.noticeDetaiDialog = true\n\t\t\tgetAllDriverByDeptId(this.$store.getters.deptId)\n\t\t\t\t.then(res => {\n\t\t\t\t\tthis.driverList = res.data;\n\t\t\t\t})\n\t\t\t\t.catch(err => {});\n\t\t\tgetFactoryByDeptId(123)\n\t\t\t\t.then(res => {\n\t\t\t\t\tthis.factoryList = res.data;\n\t\t\t\t})\n\t\t},\n\n\t\t/**\n\t\t * 出库\n\t\t */\n\t\toutFactory(row){\n\t\t\tthis.checkInfo = row;\n\t\t\tthis.open = true\n\t\t},\n\n\t\tcreateMaching(){\n\t\t    const checkInfoArray = []\n\t\t\tconst id = new this.$snowFlakeId().generate();\n\t\t\tcheckInfoArray.push(id)\n\t\t\tcheckInfoArray.push(id)\n\t\t\tcheckInfoArray.push(this.$store.getters.nickName)\n\t\t\tcheckInfoArray.push(this.$store.getters.phonenumber);\n\t\t\tcheckInfoArray.push(this.$store.getters.deptName);\n\t\t\tcheckInfoArray.push(this.checkInfo.cropsId);\n\t\t\tcheckInfoArray.push(this.form.testingResult);\n\t\t\tcheckInfoArray.push(this.checkInfo.time);\n\t\t\tcheckInfoArray.push(formatDate(new Date()));\n\t\t\tcheckInfoArray.push(this.TestingPhotoUrl);\n\t\t\tcheckInfoArray.push(this.form.remarks);\n\t\t\tthis.$httpBlock\n\t\t\t\t.post(this.$httpUrl + '/materialapi/createMaching', { checkInfoArray: checkInfoArray })\n\t\t\t\t.then(res => {\n\t\t\t\t\tif (res.status === 200) {\n\t\t\t\t\t\tchangeInToOut(this.checkInfo.cropsId).then(res => {\n\t\t\t\t\t\t\tthis.msgSuccess(\"出库成功\")\n\t\t\t\t\t\t\tthis.getList();\n\t\t\t\t\t\t}).catch(err => {\n\t\t\t\t\t\t\tthis.msgError(\"出库失败\")\n\t\t\t\t\t\t})\n\t\t\t\t\t\tthis.open = false;\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(err => {\n\t\t\t\t\tthis.msgError('存储异常 ' + err);\n\t\t\t\t});\n\t\t},\n\n\t\tgetFile(file) {\n\t\t\tthis.imageUrl = URL.createObjectURL(file.raw);\n\t\t\tthis.getBase64(file.raw).then(res => {\n\t\t\t\tthis.imgBase64 = res;\n\t\t\t\tconst datas = {\n\t\t\t\t\timageBase64: this.imgBase64\n\t\t\t\t};\n\t\t\t\tuplodImagesBase64(datas)\n\t\t\t\t\t.then(res => {\n\t\t\t\t\t\tthis.TestingPhotoUrl = res.msg;\n\t\t\t\t\t\tthis.msgSuccess('图片上传成功');\n\t\t\t\t\t})\n\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\tthis.msgError('图片上传失败');\n\t\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\tgetBase64(file) {\n\t\t\treturn new Promise(function(resolve, reject) {\n\t\t\t\tconst reader = new FileReader();\n\t\t\t\tlet imgResult = '';\n\t\t\t\treader.readAsDataURL(file);\n\t\t\t\treader.onload = function() {\n\t\t\t\t\timgResult = reader.result;\n\t\t\t\t};\n\t\t\t\treader.onerror = function(error) {\n\t\t\t\t\treject(error);\n\t\t\t\t};\n\t\t\t\treader.onloadend = function() {\n\t\t\t\t\tresolve(imgResult);\n\t\t\t\t};\n\t\t\t});\n\t\t},\n\n\n\t\tgetList() {\n\t\t\tqueryCropsList(this.$store.getters.deptId).then(res => {\n\t\t\t\tthis.transportList = res.data;\n\t\t\t});\n\t\t},\n\t\t/** 转换部门数据结构 */\n\t\tnormalizer(node) {\n\t\t\tif (node.children && !node.children.length) {\n\t\t\t\tdelete node.children;\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tid: node.deptId,\n\t\t\t\tlabel: node.deptName,\n\t\t\t\tchildren: node.children\n\t\t\t};\n\t\t},\n\t\t// 字典状态字典翻译\n\t\tstatusFormat(row, column) {\n\t\t\treturn this.selectDictLabel(this.statusOptions, row.status);\n\t\t},\n\t\t// 取消按钮\n\t\tcancel() {\n\t\t\tthis.open = false;\n\t\t\tthis.reset();\n\t\t},\n\t\t// 表单重置\n\t\treset() {\n\t\t\tthis.form = {\n\t\t\t\tdeptId: undefined,\n\t\t\t\tparentId: undefined,\n\t\t\t\tdeptName: undefined,\n\t\t\t\torderNum: undefined,\n\t\t\t\tleader: undefined,\n\t\t\t\tphone: undefined,\n\t\t\t\temail: undefined,\n\t\t\t\tstatus: '0'\n\t\t\t};\n\t\t\tthis.resetForm('form');\n\t\t},\n\t\t/** 搜索按钮操作 */\n\t\thandleQuery() {\n\t\t\tthis.getList();\n\t\t},\n\t\t/** 重置按钮操作 */\n\t\tresetQuery() {\n\t\t\tthis.resetForm('queryForm');\n\t\t\tthis.handleQuery();\n\t\t},\n\t\t/** 新增按钮操作 */\n\t\thandleAdd(row) {\n\t\t\tthis.reset();\n\t\t\tif (row != undefined) {\n\t\t\t\tthis.form.parentId = row.deptId;\n\t\t\t}\n\t\t\tthis.open = true;\n\t\t\tthis.title = '添加部门';\n\t\t\tlistDept().then(response => {\n\t\t\t\tthis.deptOptions = this.handleTree(response.data, 'deptId');\n\t\t\t});\n\t\t},\n\t\t/** 修改按钮操作 */\n\t\thandleUpdate(row) {\n\t\t\tthis.reset();\n\t\t\tgetDept(row.deptId).then(response => {\n\t\t\t\tthis.form = response.data;\n\t\t\t\tthis.open = true;\n\t\t\t\tthis.title = '修改部门';\n\t\t\t});\n\t\t\tlistDeptExcludeChild(row.deptId).then(response => {\n\t\t\t\tthis.deptOptions = this.handleTree(response.data, 'deptId');\n\t\t\t});\n\t\t},\n\t\t/** 提交按钮 */\n\t\tsubmitForm: function() {\n\t\t\tthis.$refs['form'].validate(valid => {\n\t\t\t\tif (valid) {\n\t\t\t\t\tif (this.form.deptId != undefined) {\n\t\t\t\t\t\tupdateDept(this.form).then(response => {\n\t\t\t\t\t\t\tif (response.code === 200) {\n\t\t\t\t\t\t\t\tthis.msgSuccess('修改成功');\n\t\t\t\t\t\t\t\tthis.open = false;\n\t\t\t\t\t\t\t\tthis.getList();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\taddDept(this.form).then(response => {\n\t\t\t\t\t\t\tif (response.code === 200) {\n\t\t\t\t\t\t\t\tthis.msgSuccess('新增成功');\n\t\t\t\t\t\t\t\tthis.open = false;\n\t\t\t\t\t\t\t\tthis.getList();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/** 删除按钮操作 */\n\t\thandleDelete(row) {\n\t\t\tthis.$confirm('是否确认删除名称为\"' + row.deptName + '\"的数据项?', '警告', {\n\t\t\t\tconfirmButtonText: '确定',\n\t\t\t\tcancelButtonText: '取消',\n\t\t\t\ttype: 'warning'\n\t\t\t})\n\t\t\t\t.then(function() {\n\t\t\t\t\treturn delDept(row.deptId);\n\t\t\t\t})\n\t\t\t\t.then(() => {\n\t\t\t\t\tthis.getList();\n\t\t\t\t\tthis.msgSuccess('删除成功');\n\t\t\t\t})\n\t\t\t\t.catch(function() {});\n\t\t}\n\t}\n};\n</script>\n<style>\n.avatar-uploader .el-upload {\n\tborder: 1px dashed #d9d9d9;\n\tborder-radius: 6px;\n\tcursor: pointer;\n\tposition: relative;\n\toverflow: hidden;\n}\n.avatar-uploader .el-upload:hover {\n\tborder-color: #409eff;\n}\n.avatar-uploader-icon {\n\tfont-size: 28px;\n\tcolor: #8c939d;\n\twidth: 178px;\n\theight: 178px;\n\tline-height: 178px;\n\ttext-align: center;\n}\n.avatar {\n\twidth: 300px;\n\theight: 270px;\n\tdisplay: block;\n}\n\n.image {\n\twidth: 80%;\n\tdisplay: block;\n}\n</style>\n"]}]}