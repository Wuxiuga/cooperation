{"remainingRequest":"/Users/libaojian/Desktop/Blockchain-APTrace-Fabric/blockchain-trace-pc/node_modules/babel-loader/lib/index.js!/Users/libaojian/Desktop/Blockchain-APTrace-Fabric/blockchain-trace-pc/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/libaojian/Desktop/Blockchain-APTrace-Fabric/blockchain-trace-pc/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/libaojian/Desktop/Blockchain-APTrace-Fabric/blockchain-trace-pc/src/views/trace/material/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/libaojian/Desktop/Blockchain-APTrace-Fabric/blockchain-trace-pc/src/views/trace/material/index.vue","mtime":1645620179157},{"path":"/Users/libaojian/Desktop/Blockchain-APTrace-Fabric/blockchain-trace-pc/babel.config.js","mtime":1645620179122},{"path":"/Users/libaojian/Desktop/Blockchain-APTrace-Fabric/blockchain-trace-pc/node_modules/cache-loader/dist/cjs.js","mtime":1645761092242},{"path":"/Users/libaojian/Desktop/Blockchain-APTrace-Fabric/blockchain-trace-pc/node_modules/babel-loader/lib/index.js","mtime":1645761092758},{"path":"/Users/libaojian/Desktop/Blockchain-APTrace-Fabric/blockchain-trace-pc/node_modules/cache-loader/dist/cjs.js","mtime":1645761092242},{"path":"/Users/libaojian/Desktop/Blockchain-APTrace-Fabric/blockchain-trace-pc/node_modules/vue-loader/lib/index.js","mtime":1645761092929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCIvVXNlcnMvbGliYW9qaWFuL0Rlc2t0b3AvQmxvY2tjaGFpbi1BUFRyYWNlLUZhYnJpYy9ibG9ja2NoYWluLXRyYWNlLXBjL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlRGVmYXVsdC5qcyIpLmRlZmF1bHQ7CgpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgdmFsdWU6IHRydWUKfSk7CmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy93ZWIudXJsLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvd2ViLnVybC1zZWFyY2gtcGFyYW1zLmpzIik7Cgp2YXIgX2RlcHQgPSByZXF1aXJlKCJAL2FwaS9zeXN0ZW0vZGVwdCIpOwoKdmFyIF9tYXRlcmlhbCA9IHJlcXVpcmUoIi4uLy4uLy4uL2FwaS90cmFjZS9tYXRlcmlhbCIpOwoKdmFyIF92dWVUcmVlc2VsZWN0ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJAcmlvcGhhZS92dWUtdHJlZXNlbGVjdCIpKTsKCnJlcXVpcmUoIkByaW9waGFlL3Z1ZS10cmVlc2VsZWN0L2Rpc3QvdnVlLXRyZWVzZWxlY3QuY3NzIik7Cgp2YXIgX2luZGV4ID0gcmVxdWlyZSgiLi4vLi4vLi4vdXRpbHMvaW5kZXguanMiKTsKCnZhciBfZmFybWVyID0gcmVxdWlyZSgiLi4vLi4vLi4vYXBpL3RyYWNlL2Zhcm1lciIpOwoKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KdmFyIF9kZWZhdWx0ID0gewogIG5hbWU6ICdEZXB0JywKICBjb21wb25lbnRzOiB7CiAgICBUcmVlc2VsZWN0OiBfdnVlVHJlZXNlbGVjdC5kZWZhdWx0CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaW1hZ2VVcmw6ICcnLAogICAgICBub3RpY2VEZXRhaURpYWxvZzogZmFsc2UsCiAgICAgIC8vIOmBrue9qeWxggogICAgICBsb2FkaW5nOiB0cnVlLAogICAgICAvLyDmmL7npLrmkJzntKLmnaHku7YKICAgICAgc2hvd1NlYXJjaDogdHJ1ZSwKICAgICAgLy8g6KGo5qC85qCR5pWw5o2uCiAgICAgIGRlcHRMaXN0OiBbXSwKICAgICAgLy8g6YOo6Zeo5qCR6YCJ6aG5CiAgICAgIGRlcHRPcHRpb25zOiBbXSwKICAgICAgLy8g5by55Ye65bGC5qCH6aKYCiAgICAgIHRpdGxlOiAnJywKICAgICAgLy8g5piv5ZCm5pi+56S65by55Ye65bGCCiAgICAgIG9wZW46IGZhbHNlLAogICAgICAvLyDnirbmgIHmlbDmja7lrZflhbgKICAgICAgc3RhdHVzT3B0aW9uczogW10sCiAgICAgIC8vIOafpeivouWPguaVsAogICAgICBxdWVyeVBhcmFtczogewogICAgICAgIGRlcHROYW1lOiB1bmRlZmluZWQsCiAgICAgICAgc3RhdHVzOiB1bmRlZmluZWQKICAgICAgfSwKICAgICAgLy8g6KGo5Y2V5Y+C5pWwCiAgICAgIGZvcm06IHt9LAogICAgICB0cmFuc3BvcnRMaXN0OiBbXSwKICAgICAgY2l0eURldGFpbDogJycsCiAgICAgIGxuZzogTnVtYmVyLAogICAgICBsYXQ6IE51bWJlciwKICAgICAgaW1nQmFzZTY0OiAnJywKICAgICAgVGVzdGluZ1Bob3RvVXJsOiAnJywKICAgICAgY2hlY2tJbmZvOiAnJywKICAgICAgZHJpdmVyTGlzdDogW10sCiAgICAgIG5vdGljZVRyYW5zcG9ydERpYWxvZzogZmFsc2UsCiAgICAgIHRyYXNwb3J0Rm9ybToge30sCiAgICAgIGZhY3RvcnlMaXN0OiBbXQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldExpc3QoKTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7Ly90aGlzLnFyY29kZSgpOwogIH0sCiAgbWV0aG9kczogewogICAgYWRkTm90aWNlVHJhc3BvcnQ6IGZ1bmN0aW9uIGFkZE5vdGljZVRyYXNwb3J0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy50cmFzcG9ydEZvcm0uY3JvcHNJZCA9IHRoaXMuY2hlY2tJbmZvLmNyb3BzSWQ7CiAgICAgIHRoaXMudHJhc3BvcnRGb3JtLmZhcm1lclVzZXJOYW1lID0gdGhpcy4kc3RvcmUuZ2V0dGVycy5uYW1lOwogICAgICB0aGlzLnRyYXNwb3J0Rm9ybS5mYXJtZXJOaWNrTmFtZSA9IHRoaXMuJHN0b3JlLmdldHRlcnMubmlja05hbWU7CiAgICAgIHRoaXMudHJhc3BvcnRGb3JtLnRpbWUgPSBuZXcgRGF0ZSgpOwogICAgICB0aGlzLnRyYXNwb3J0Rm9ybS5kcml2ZXJJZCA9IHRoaXMudHJhc3BvcnRGb3JtLnVzZXJOYW1lOwogICAgICB0aGlzLnRyYXNwb3J0Rm9ybS5zdGF0dXMgPSAwOwogICAgICB0aGlzLnRyYXNwb3J0Rm9ybS5mYXJtZXJUZWwgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzLnBob25lbnVtYmVyOwogICAgICB0aGlzLnRyYXNwb3J0Rm9ybS5mYXJtZXJEZXB0ID0gdGhpcy4kc3RvcmUuZ2V0dGVycy5kZXB0TmFtZTsKICAgICAgdGhpcy50cmFzcG9ydEZvcm0uZmFjdG9yeUlkID0gdGhpcy50cmFzcG9ydEZvcm0uZGVwdElkOwogICAgICAoMCwgX21hdGVyaWFsLmFkZFRyYW5zcG9ydCkodGhpcy50cmFzcG9ydEZvcm0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzLm1zZ1N1Y2Nlc3MoJ+iBlOezu+i/kOi+k+aIkOWKnycpOwoKICAgICAgICBfdGhpcy5ub3RpY2VEZXRhaURpYWxvZyA9IGZhbHNlOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgX3RoaXMubXNnRXJyb3IoJ+iBlOezu+i/kOi+k+Wksei0pe+8jOWPkeeUn+W8guW4uCcpOwogICAgICB9KTsKICAgIH0sCiAgICBub3RpY2VUcmFuc3BvcnQ6IGZ1bmN0aW9uIG5vdGljZVRyYW5zcG9ydChyb3cpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLmNoZWNrSW5mbyA9IHJvdzsKICAgICAgdGhpcy5ub3RpY2VEZXRhaURpYWxvZyA9IHRydWU7CiAgICAgICgwLCBfZmFybWVyLmdldEFsbERyaXZlckJ5RGVwdElkKSh0aGlzLiRzdG9yZS5nZXR0ZXJzLmRlcHRJZCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMyLmRyaXZlckxpc3QgPSByZXMuZGF0YTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge30pOwogICAgICAoMCwgX2Zhcm1lci5nZXRGYWN0b3J5QnlEZXB0SWQpKDEyMykudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMyLmZhY3RvcnlMaXN0ID0gcmVzLmRhdGE7CiAgICAgIH0pOwogICAgfSwKCiAgICAvKioKICAgICAqIOWHuuW6kwogICAgICovCiAgICBvdXRGYWN0b3J5OiBmdW5jdGlvbiBvdXRGYWN0b3J5KHJvdykgewogICAgICB0aGlzLmNoZWNrSW5mbyA9IHJvdzsKICAgICAgdGhpcy5vcGVuID0gdHJ1ZTsKICAgIH0sCiAgICBjcmVhdGVNYWNoaW5nOiBmdW5jdGlvbiBjcmVhdGVNYWNoaW5nKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHZhciBjaGVja0luZm9BcnJheSA9IFtdOwogICAgICB2YXIgaWQgPSBuZXcgdGhpcy4kc25vd0ZsYWtlSWQoKS5nZW5lcmF0ZSgpOwogICAgICBjaGVja0luZm9BcnJheS5wdXNoKGlkKTsKICAgICAgY2hlY2tJbmZvQXJyYXkucHVzaChpZCk7CiAgICAgIGNoZWNrSW5mb0FycmF5LnB1c2godGhpcy4kc3RvcmUuZ2V0dGVycy5uaWNrTmFtZSk7CiAgICAgIGNoZWNrSW5mb0FycmF5LnB1c2godGhpcy4kc3RvcmUuZ2V0dGVycy5waG9uZW51bWJlcik7CiAgICAgIGNoZWNrSW5mb0FycmF5LnB1c2godGhpcy4kc3RvcmUuZ2V0dGVycy5kZXB0TmFtZSk7CiAgICAgIGNoZWNrSW5mb0FycmF5LnB1c2godGhpcy5jaGVja0luZm8uY3JvcHNJZCk7CiAgICAgIGNoZWNrSW5mb0FycmF5LnB1c2godGhpcy5mb3JtLnRlc3RpbmdSZXN1bHQpOwogICAgICBjaGVja0luZm9BcnJheS5wdXNoKHRoaXMuY2hlY2tJbmZvLnRpbWUpOwogICAgICBjaGVja0luZm9BcnJheS5wdXNoKCgwLCBfaW5kZXguZm9ybWF0RGF0ZSkobmV3IERhdGUoKSkpOwogICAgICBjaGVja0luZm9BcnJheS5wdXNoKHRoaXMuVGVzdGluZ1Bob3RvVXJsKTsKICAgICAgY2hlY2tJbmZvQXJyYXkucHVzaCh0aGlzLmZvcm0ucmVtYXJrcyk7CiAgICAgIHRoaXMuJGh0dHBCbG9jay5wb3N0KHRoaXMuJGh0dHBVcmwgKyAnL21hdGVyaWFsYXBpL2NyZWF0ZU1hY2hpbmcnLCB7CiAgICAgICAgY2hlY2tJbmZvQXJyYXk6IGNoZWNrSW5mb0FycmF5CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMuc3RhdHVzID09PSAyMDApIHsKICAgICAgICAgICgwLCBfbWF0ZXJpYWwuY2hhbmdlSW5Ub091dCkoX3RoaXMzLmNoZWNrSW5mby5jcm9wc0lkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgX3RoaXMzLm1zZ1N1Y2Nlc3MoIuWHuuW6k+aIkOWKnyIpOwoKICAgICAgICAgICAgX3RoaXMzLmdldExpc3QoKTsKICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgICAgX3RoaXMzLm1zZ0Vycm9yKCLlh7rlupPlpLHotKUiKTsKICAgICAgICAgIH0pOwogICAgICAgICAgX3RoaXMzLm9wZW4gPSBmYWxzZTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICBfdGhpczMubXNnRXJyb3IoJ+WtmOWCqOW8guW4uCAnICsgZXJyKTsKICAgICAgfSk7CiAgICB9LAogICAgZ2V0RmlsZTogZnVuY3Rpb24gZ2V0RmlsZShmaWxlKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgdGhpcy5pbWFnZVVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoZmlsZS5yYXcpOwogICAgICB0aGlzLmdldEJhc2U2NChmaWxlLnJhdykudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXM0LmltZ0Jhc2U2NCA9IHJlczsKICAgICAgICB2YXIgZGF0YXMgPSB7CiAgICAgICAgICBpbWFnZUJhc2U2NDogX3RoaXM0LmltZ0Jhc2U2NAogICAgICAgIH07CiAgICAgICAgKDAsIF9mYXJtZXIudXBsb2RJbWFnZXNCYXNlNjQpKGRhdGFzKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIF90aGlzNC5UZXN0aW5nUGhvdG9VcmwgPSByZXMubXNnOwoKICAgICAgICAgIF90aGlzNC5tc2dTdWNjZXNzKCflm77niYfkuIrkvKDmiJDlip8nKTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICBfdGhpczQubXNnRXJyb3IoJ+WbvueJh+S4iuS8oOWksei0pScpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBnZXRCYXNlNjQ6IGZ1bmN0aW9uIGdldEJhc2U2NChmaWxlKSB7CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7CiAgICAgICAgdmFyIGltZ1Jlc3VsdCA9ICcnOwogICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpOwoKICAgICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgaW1nUmVzdWx0ID0gcmVhZGVyLnJlc3VsdDsKICAgICAgICB9OwoKICAgICAgICByZWFkZXIub25lcnJvciA9IGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgcmVqZWN0KGVycm9yKTsKICAgICAgICB9OwoKICAgICAgICByZWFkZXIub25sb2FkZW5kID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgcmVzb2x2ZShpbWdSZXN1bHQpOwogICAgICAgIH07CiAgICAgIH0pOwogICAgfSwKICAgIGdldExpc3Q6IGZ1bmN0aW9uIGdldExpc3QoKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgKDAsIF9tYXRlcmlhbC5saXN0Q3JvcHMpKHRoaXMuJHN0b3JlLmdldHRlcnMuZGVwdElkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczUudHJhbnNwb3J0TGlzdCA9IHJlcy5kYXRhOwogICAgICB9KTsKICAgIH0sCgogICAgLyoqIOi9rOaNoumDqOmXqOaVsOaNrue7k+aehCAqLwogICAgbm9ybWFsaXplcjogZnVuY3Rpb24gbm9ybWFsaXplcihub2RlKSB7CiAgICAgIGlmIChub2RlLmNoaWxkcmVuICYmICFub2RlLmNoaWxkcmVuLmxlbmd0aCkgewogICAgICAgIGRlbGV0ZSBub2RlLmNoaWxkcmVuOwogICAgICB9CgogICAgICByZXR1cm4gewogICAgICAgIGlkOiBub2RlLmRlcHRJZCwKICAgICAgICBsYWJlbDogbm9kZS5kZXB0TmFtZSwKICAgICAgICBjaGlsZHJlbjogbm9kZS5jaGlsZHJlbgogICAgICB9OwogICAgfSwKICAgIC8vIOWtl+WFuOeKtuaAgeWtl+WFuOe/u+ivkQogICAgc3RhdHVzRm9ybWF0OiBmdW5jdGlvbiBzdGF0dXNGb3JtYXQocm93LCBjb2x1bW4pIHsKICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0RGljdExhYmVsKHRoaXMuc3RhdHVzT3B0aW9ucywgcm93LnN0YXR1cyk7CiAgICB9LAogICAgLy8g5Y+W5raI5oyJ6ZKuCiAgICBjYW5jZWw6IGZ1bmN0aW9uIGNhbmNlbCgpIHsKICAgICAgdGhpcy5vcGVuID0gZmFsc2U7CiAgICAgIHRoaXMucmVzZXQoKTsKICAgIH0sCiAgICAvLyDooajljZXph43nva4KICAgIHJlc2V0OiBmdW5jdGlvbiByZXNldCgpIHsKICAgICAgdGhpcy5mb3JtID0gewogICAgICAgIGRlcHRJZDogdW5kZWZpbmVkLAogICAgICAgIHBhcmVudElkOiB1bmRlZmluZWQsCiAgICAgICAgZGVwdE5hbWU6IHVuZGVmaW5lZCwKICAgICAgICBvcmRlck51bTogdW5kZWZpbmVkLAogICAgICAgIGxlYWRlcjogdW5kZWZpbmVkLAogICAgICAgIHBob25lOiB1bmRlZmluZWQsCiAgICAgICAgZW1haWw6IHVuZGVmaW5lZCwKICAgICAgICBzdGF0dXM6ICcwJwogICAgICB9OwogICAgICB0aGlzLnJlc2V0Rm9ybSgnZm9ybScpOwogICAgfSwKCiAgICAvKiog5pCc57Si5oyJ6ZKu5pON5L2cICovCiAgICBoYW5kbGVRdWVyeTogZnVuY3Rpb24gaGFuZGxlUXVlcnkoKSB7CiAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgfSwKCiAgICAvKiog6YeN572u5oyJ6ZKu5pON5L2cICovCiAgICByZXNldFF1ZXJ5OiBmdW5jdGlvbiByZXNldFF1ZXJ5KCkgewogICAgICB0aGlzLnJlc2V0Rm9ybSgncXVlcnlGb3JtJyk7CiAgICAgIHRoaXMuaGFuZGxlUXVlcnkoKTsKICAgIH0sCgogICAgLyoqIOaWsOWinuaMiemSruaTjeS9nCAqLwogICAgaGFuZGxlQWRkOiBmdW5jdGlvbiBoYW5kbGVBZGQocm93KSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwoKICAgICAgdGhpcy5yZXNldCgpOwoKICAgICAgaWYgKHJvdyAhPSB1bmRlZmluZWQpIHsKICAgICAgICB0aGlzLmZvcm0ucGFyZW50SWQgPSByb3cuZGVwdElkOwogICAgICB9CgogICAgICB0aGlzLm9wZW4gPSB0cnVlOwogICAgICB0aGlzLnRpdGxlID0gJ+a3u+WKoOmDqOmXqCc7CiAgICAgICgwLCBfZGVwdC5saXN0RGVwdCkoKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzNi5kZXB0T3B0aW9ucyA9IF90aGlzNi5oYW5kbGVUcmVlKHJlc3BvbnNlLmRhdGEsICdkZXB0SWQnKTsKICAgICAgfSk7CiAgICB9LAoKICAgIC8qKiDkv67mlLnmjInpkq7mk43kvZwgKi8KICAgIGhhbmRsZVVwZGF0ZTogZnVuY3Rpb24gaGFuZGxlVXBkYXRlKHJvdykgewogICAgICB2YXIgX3RoaXM3ID0gdGhpczsKCiAgICAgIHRoaXMucmVzZXQoKTsKICAgICAgKDAsIF9kZXB0LmdldERlcHQpKHJvdy5kZXB0SWQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXM3LmZvcm0gPSByZXNwb25zZS5kYXRhOwogICAgICAgIF90aGlzNy5vcGVuID0gdHJ1ZTsKICAgICAgICBfdGhpczcudGl0bGUgPSAn5L+u5pS56YOo6ZeoJzsKICAgICAgfSk7CiAgICAgICgwLCBfZGVwdC5saXN0RGVwdEV4Y2x1ZGVDaGlsZCkocm93LmRlcHRJZCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpczcuZGVwdE9wdGlvbnMgPSBfdGhpczcuaGFuZGxlVHJlZShyZXNwb25zZS5kYXRhLCAnZGVwdElkJyk7CiAgICAgIH0pOwogICAgfSwKCiAgICAvKiog5o+Q5Lqk5oyJ6ZKuICovCiAgICBzdWJtaXRGb3JtOiBmdW5jdGlvbiBzdWJtaXRGb3JtKCkgewogICAgICB2YXIgX3RoaXM4ID0gdGhpczsKCiAgICAgIHRoaXMuJHJlZnNbJ2Zvcm0nXS52YWxpZGF0ZShmdW5jdGlvbiAodmFsaWQpIHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIGlmIChfdGhpczguZm9ybS5kZXB0SWQgIT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICgwLCBfZGVwdC51cGRhdGVEZXB0KShfdGhpczguZm9ybSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICBfdGhpczgubXNnU3VjY2Vzcygn5L+u5pS55oiQ5YqfJyk7CgogICAgICAgICAgICAgICAgX3RoaXM4Lm9wZW4gPSBmYWxzZTsKCiAgICAgICAgICAgICAgICBfdGhpczguZ2V0TGlzdCgpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAoMCwgX2RlcHQuYWRkRGVwdCkoX3RoaXM4LmZvcm0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgX3RoaXM4Lm1zZ1N1Y2Nlc3MoJ+aWsOWinuaIkOWKnycpOwoKICAgICAgICAgICAgICAgIF90aGlzOC5vcGVuID0gZmFsc2U7CgogICAgICAgICAgICAgICAgX3RoaXM4LmdldExpc3QoKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAoKICAgIC8qKiDliKDpmaTmjInpkq7mk43kvZwgKi8KICAgIGhhbmRsZURlbGV0ZTogZnVuY3Rpb24gaGFuZGxlRGVsZXRlKHJvdykgewogICAgICB2YXIgX3RoaXM5ID0gdGhpczsKCiAgICAgIHRoaXMuJGNvbmZpcm0oJ+aYr+WQpuehruiupOWIoOmZpOWQjeensOS4uiInICsgcm93LmRlcHROYW1lICsgJyLnmoTmlbDmja7pobk/JywgJ+itpuWRiicsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiAoMCwgX2RlcHQuZGVsRGVwdCkocm93LmRlcHRJZCk7CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzOS5nZXRMaXN0KCk7CgogICAgICAgIF90aGlzOS5tc2dTdWNjZXNzKCfliKDpmaTmiJDlip8nKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkge30pOwogICAgfQogIH0KfTsKZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7"},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAoFA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eACA;AACAA,cADA;AAEAC;AAAAC;AAAA,GAFA;AAGAC,MAHA,kBAGA;AACA;AACAC,kBADA;AAEAC,8BAFA;AAGA;AACAC,mBAJA;AAKA;AACAC,sBANA;AAOA;AACAC,kBARA;AASA;AACAC,qBAVA;AAWA;AACAC,eAZA;AAaA;AACAC,iBAdA;AAeA;AACAC,uBAhBA;AAiBA;AACAC;AACAC,2BADA;AAEAC;AAFA,OAlBA;AAsBA;AACAC,cAvBA;AAyBAC,uBAzBA;AA0BAC,oBA1BA;AA2BAC,iBA3BA;AA4BAC,iBA5BA;AA6BAC,mBA7BA;AA8BAC,yBA9BA;AA+BAC,mBA/BA;AAgCAC,oBAhCA;AAiCAC,kCAjCA;AAkCAC,sBAlCA;AAmCAC;AAnCA;AAqCA,GAzCA;AA0CAC,SA1CA,qBA0CA;AACA;AACA,GA5CA;AA8CAC,SA9CA,qBA8CA,CACA;AACA,GAhDA;AAkDAC;AACAC,qBADA,+BACA;AAAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qDACAC,IADA,CACA;AACA;;AACA;AACA,OAJA,EAKAC,KALA,CAKA;AACA;AACA,OAPA;AAQA,KAnBA;AAqBAC,mBArBA,2BAqBAC,GArBA,EAqBA;AAAA;;AACA;AACA;AACA,oEACAH,IADA,CACA;AACA;AACA,OAHA,EAIAC,KAJA,CAIA,iBAJA;AAKA,2CACAD,IADA,CACA;AACA;AACA,OAHA;AAIA,KAjCA;;AAmCA;AACA;AACA;AACAI,cAtCA,sBAsCAD,GAtCA,EAsCA;AACA;AACA;AACA,KAzCA;AA2CAE,iBA3CA,2BA2CA;AAAA;;AACA;AACA;AACAC;AACAA;AACAA;AACAA;AACAA;AACAA;AACAA;AACAA;AACAA;AACAA;AACAA;AACA,sBACAC,IADA,CACA,4CADA,EACA;AAAAD;AAAA,OADA,EAEAN,IAFA,CAEA;AACA;AACA;AACA;;AACA;AACA,WAHA,EAGAC,KAHA,CAGA;AACA;AACA,WALA;AAMA;AACA;AACA,OAZA,EAaAA,KAbA,CAaA;AACA;AACA,OAfA;AAgBA,KAzEA;AA2EAO,WA3EA,mBA2EAC,IA3EA,EA2EA;AAAA;;AACA;AACA;AACA;AACA;AACAC;AADA;AAGA,8CACAV,IADA,CACA;AACA;;AACA;AACA,SAJA,EAKAC,KALA,CAKA;AACA;AACA,SAPA;AAQA,OAbA;AAcA,KA3FA;AA6FAU,aA7FA,qBA6FAF,IA7FA,EA6FA;AACA;AACA;AACA;AACAG;;AACAA;AACAC;AACA,SAFA;;AAGAD;AACAE;AACA,SAFA;;AAGAF;AACAG;AACA,SAFA;AAGA,OAbA;AAcA,KA5GA;AA+GAC,WA/GA,qBA+GA;AAAA;;AACA;AACA;AACA,OAFA;AAGA,KAnHA;;AAoHA;AACAC,cArHA,sBAqHAC,IArHA,EAqHA;AACA;AACA;AACA;;AACA;AACAC,uBADA;AAEAC,4BAFA;AAGAC;AAHA;AAKA,KA9HA;AA+HA;AACAC,gBAhIA,wBAgIAnB,GAhIA,EAgIAoB,MAhIA,EAgIA;AACA;AACA,KAlIA;AAmIA;AACAC,UApIA,oBAoIA;AACA;AACA;AACA,KAvIA;AAwIA;AACAC,SAzIA,mBAyIA;AACA;AACAC,yBADA;AAEAC,2BAFA;AAGA7C,2BAHA;AAIA8C,2BAJA;AAKAC,yBALA;AAMAC,wBANA;AAOAC,wBAPA;AAQAhD;AARA;AAUA;AACA,KArJA;;AAsJA;AACAiD,eAvJA,yBAuJA;AACA;AACA,KAzJA;;AA0JA;AACAC,cA3JA,wBA2JA;AACA;AACA;AACA,KA9JA;;AA+JA;AACAC,aAhKA,qBAgKA/B,GAhKA,EAgKA;AAAA;;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA,OAFA;AAGA,KA1KA;;AA2KA;AACAgC,gBA5KA,wBA4KAhC,GA5KA,EA4KA;AAAA;;AACA;AACA;AACA;AACA;AACA;AACA,OAJA;AAKA;AACA;AACA,OAFA;AAGA,KAtLA;;AAuLA;AACAiC;AAAA;;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;;AACA;AACA;AACA,aANA;AAOA,WARA,MAQA;AACA;AACA;AACA;;AACA;;AACA;AACA;AACA,aANA;AAOA;AACA;AACA,OApBA;AAqBA,KA9MA;;AA+MA;AACAC,gBAhNA,wBAgNAlC,GAhNA,EAgNA;AAAA;;AACA;AACAmC,+BADA;AAEAC,8BAFA;AAGAC;AAHA,SAKAxC,IALA,CAKA;AACA;AACA,OAPA,EAQAA,IARA,CAQA;AACA;;AACA;AACA,OAXA,EAYAC,KAZA,CAYA,cAZA;AAaA;AA9NA;AAlDA,C","names":["name","components","Treeselect","data","imageUrl","noticeDetaiDialog","loading","showSearch","deptList","deptOptions","title","open","statusOptions","queryParams","deptName","status","form","transportList","cityDetail","lng","lat","imgBase64","TestingPhotoUrl","checkInfo","driverList","noticeTransportDialog","trasportForm","factoryList","created","mounted","methods","addNoticeTrasport","then","catch","noticeTransport","row","outFactory","createMaching","checkInfoArray","post","getFile","file","imageBase64","getBase64","reader","imgResult","reject","resolve","getList","normalizer","node","id","label","children","statusFormat","column","cancel","reset","deptId","parentId","orderNum","leader","phone","email","handleQuery","resetQuery","handleAdd","handleUpdate","submitForm","handleDelete","confirmButtonText","cancelButtonText","type"],"sourceRoot":"src/views/trace/material","sources":["index.vue"],"sourcesContent":["<template>\n\t<div class=\"app-container\">\n\t\t<el-divider>待处理业务</el-divider>\n\n\t\t<br />\n\t\t<el-table :data=\"transportList\">\n\t\t\t<el-table-column type=\"selection\" width=\"55\" align=\"center\" />\n\t\t\t<el-table-column label=\"货物编号\" prop=\"cropsId\" />\n\t\t\t<el-table-column label=\"农户\" prop=\"farmerNickName\" />\n\t\t\t<el-table-column label=\"原料来源\" prop=\"farmerDept\" />\n\t\t\t<el-table-column label=\"时间\" prop=\"time\" />\n\t\t\t<el-table-column label=\"状态\" prop=\"outFactoryStatus\">\n\t\t\t\t<template slot-scope=\"scope\">\n\t\t\t\t\t<el-tag v-show=\"scope.row.outFactoryStatus === 0\">已入库</el-tag>\n\t\t\t\t\t<el-tag v-show=\"scope.row.outFactoryStatus === 1\">已出库</el-tag>\n\t\t\t\t</template>\n\t\t\t</el-table-column>\n\t\t\t<el-table-column label=\"操作\" align=\"center\" class-name=\"small-padding fixed-width\">\n\t\t\t\t<template slot-scope=\"scope\">\n\t\t\t\t\t<el-button v-show=\"scope.row.outFactoryStatus === 0\" size=\"mini\" type=\"text\" @click=\"noticeTransport(scope.row)\">通知运输(1)</el-button>\n          <el-button v-show=\"scope.row.outFactoryStatus === 0\" size=\"mini\" type=\"text\" @click=\"outFactory(scope.row)\">出库(2)</el-button>\n        </template>\n\t\t\t</el-table-column>\n\t\t</el-table>\n\n\n\t\t<el-dialog :title=\"title\" :visible.sync=\"open\" width=\"700px\" append-to-body>\n\t\t\t<el-form ref=\"form\" :model=\"form\" label-width=\"80px\">\n\t\t\t\t<el-row>\n\t\t\t\t\t<el-col :span=\"12\">\n\t\t\t\t\t\t<el-form-item label=\"检测结果\" prop=\"nickName\"><el-input v-model=\"form.testingResult\" placeholder=\"请输入检测结果\" /></el-form-item>\n\t\t\t\t\t</el-col>\n\t\t\t\t</el-row>\n\t\t\t\t<el-form-item label=\"备注\"><el-input v-model=\"form.remarks\" type=\"textarea\" placeholder=\"请输入内容\"></el-input></el-form-item>\n\t\t\t\t<el-row>\n\t\t\t\t\t<el-col :span=\"12\">\n\t\t\t\t\t\t<el-form-item label=\"检测图片:\">\n\t\t\t\t\t\t\t<el-upload class=\"avatar-uploader\" :on-change=\"getFile\" :show-file-list=\"false\" :auto-upload=\"false\">\n\t\t\t\t\t\t\t\t<img v-if=\"imageUrl\" :src=\"imageUrl\" class=\"avatar\" />\n\t\t\t\t\t\t\t\t<i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\n\t\t\t\t\t\t\t</el-upload>\n\t\t\t\t\t\t</el-form-item>\n\t\t\t\t\t</el-col>\n\t\t\t\t</el-row>\n\n\t\t\t</el-form>\n\t\t\t<div slot=\"footer\" class=\"dialog-footer\">\n\t\t\t\t<el-button type=\"primary\" @click=\"createMaching\">确 定</el-button>\n\t\t\t\t<el-button @click=\"cancel\">取 消</el-button>\n\t\t\t</div>\n\t\t</el-dialog>\n\n\t\t<el-dialog center title=\"联系运输\" :visible.sync=\"noticeDetaiDialog\" width=\"500px\" append-to-body>\n\t\t\t<el-form ref=\"form\" :model=\"trasportForm\" label-width=\"80px\">\n\t\t\t\t<el-row>\n\t\t\t\t\t<el-col :span=\"24\">\n\t\t\t\t\t\t<el-form-item label=\"选择司机\" prop=\"nickName\">\n\t\t\t\t\t\t\t<el-select v-model=\"trasportForm.userName\" placeholder=\"请选择\">\n\t\t\t\t\t\t\t\t<el-option v-for=\"user in driverList\" :key=\"user.userName\" :label=\"user.nickName\" :value=\"user.userName\"></el-option>\n\t\t\t\t\t\t\t</el-select>\n\t\t\t\t\t\t</el-form-item>\n\t\t\t\t\t</el-col>\n\t\t\t\t</el-row>\n\t\t\t\t<el-row>\n\t\t\t\t\t<el-col :span=\"24\">\n\t\t\t\t\t\t<el-form-item label=\"生产厂商\" prop=\"nickName\">\n\t\t\t\t\t\t\t<el-select v-model=\"trasportForm.deptId\" placeholder=\"请选择\">\n\t\t\t\t\t\t\t\t<el-option v-for=\"dept in factoryList\" :key=\"dept.deptId\" :label=\"dept.deptName\" :value=\"dept.deptId\"></el-option>\n\t\t\t\t\t\t\t</el-select>\n\t\t\t\t\t\t</el-form-item>\n\t\t\t\t\t</el-col>\n\t\t\t\t</el-row>\n\t\t\t\t<el-form-item label=\"备注\"><el-input v-model=\"trasportForm.remarks\" type=\"textarea\" placeholder=\"请输入内容\"></el-input></el-form-item>\n\t\t\t</el-form>\n\t\t\t<div slot=\"footer\" class=\"dialog-footer\">\n\t\t\t\t<el-button type=\"primary\" @click=\"addNoticeTrasport\">确 定</el-button>\n\t\t\t\t<el-button @click=\"cancel\">取 消</el-button>\n\t\t\t</div>\n\t\t</el-dialog>\n\n\t</div>\n</template>\n\n<script>\nimport { listDept, getDept, delDept, addDept, updateDept, listDeptExcludeChild } from '@/api/system/dept';\nimport {addTransport, listCrops,changeInToOut} from '../../../api/trace/material';\nimport Treeselect from '@riophae/vue-treeselect';\nimport '@riophae/vue-treeselect/dist/vue-treeselect.css';\nimport { formatDate } from '../../../utils/index.js';\nimport {uplodImagesBase64,getAllDriverByDeptId,getFactoryByDeptId} from '../../../api/trace/farmer';\nexport default {\n\tname: 'Dept',\n\tcomponents: { Treeselect },\n\tdata() {\n\t\treturn {\n\t\t\timageUrl:'',\n\t\t\tnoticeDetaiDialog: false,\n\t\t\t// 遮罩层\n\t\t\tloading: true,\n\t\t\t// 显示搜索条件\n\t\t\tshowSearch: true,\n\t\t\t// 表格树数据\n\t\t\tdeptList: [],\n\t\t\t// 部门树选项\n\t\t\tdeptOptions: [],\n\t\t\t// 弹出层标题\n\t\t\ttitle: '',\n\t\t\t// 是否显示弹出层\n\t\t\topen: false,\n\t\t\t// 状态数据字典\n\t\t\tstatusOptions: [],\n\t\t\t// 查询参数\n\t\t\tqueryParams: {\n\t\t\t\tdeptName: undefined,\n\t\t\t\tstatus: undefined\n\t\t\t},\n\t\t\t// 表单参数\n\t\t\tform: {},\n\n\t\t\ttransportList: [],\n\t\t\tcityDetail: '',\n\t\t\tlng: Number,\n\t\t\tlat: Number,\n\t\t\timgBase64:'',\n\t\t\tTestingPhotoUrl:'',\n\t\t\tcheckInfo:'',\n\t\t\tdriverList:[],\n\t\t\tnoticeTransportDialog:false,\n\t\t\ttrasportForm:{},\n\t\t\tfactoryList:[],\n\t\t};\n\t},\n\tcreated() {\n\t\tthis.getList();\n\t},\n\n\tmounted() {\n\t\t//this.qrcode();\n\t},\n\n\tmethods: {\n\t\taddNoticeTrasport(){\n\t\t\tthis.trasportForm.cropsId = this.checkInfo.cropsId;\n\t\t\tthis.trasportForm.farmerUserName = this.$store.getters.name;\n\t\t\tthis.trasportForm.farmerNickName = this.$store.getters.nickName;\n\t\t\tthis.trasportForm.time = new Date();\n\t\t\tthis.trasportForm.driverId = this.trasportForm.userName;\n\t\t\tthis.trasportForm.status = 0;\n\t\t\tthis.trasportForm.farmerTel = this.$store.getters.phonenumber;\n\t\t\tthis.trasportForm.farmerDept = this.$store.getters.deptName;\n\t\t\tthis.trasportForm.factoryId = this.trasportForm.deptId\n\t\t\taddTransport(this.trasportForm)\n\t\t\t\t.then(res => {\n\t\t\t\t\tthis.msgSuccess('联系运输成功');\n\t\t\t\t\tthis.noticeDetaiDialog = false;\n\t\t\t\t})\n\t\t\t\t.catch(err => {\n\t\t\t\t\tthis.msgError('联系运输失败，发生异常');\n\t\t\t\t});\n\t\t},\n\n\t\tnoticeTransport(row){\n\t\t\tthis.checkInfo = row;\n\t\t\tthis.noticeDetaiDialog = true\n\t\t\tgetAllDriverByDeptId(this.$store.getters.deptId)\n\t\t\t\t.then(res => {\n\t\t\t\t\tthis.driverList = res.data;\n\t\t\t\t})\n\t\t\t\t.catch(err => {});\n\t\t\tgetFactoryByDeptId(123)\n\t\t\t\t.then(res => {\n\t\t\t\t\tthis.factoryList = res.data;\n\t\t\t\t})\n\t\t},\n\n\t\t/**\n\t\t * 出库\n\t\t */\n\t\toutFactory(row){\n\t\t\tthis.checkInfo = row;\n\t\t\tthis.open = true\n\t\t},\n\n\t\tcreateMaching(){\n\t\t    const checkInfoArray = []\n\t\t\tconst id = new this.$snowFlakeId().generate();\n\t\t\tcheckInfoArray.push(id)\n\t\t\tcheckInfoArray.push(id)\n\t\t\tcheckInfoArray.push(this.$store.getters.nickName)\n\t\t\tcheckInfoArray.push(this.$store.getters.phonenumber);\n\t\t\tcheckInfoArray.push(this.$store.getters.deptName);\n\t\t\tcheckInfoArray.push(this.checkInfo.cropsId);\n\t\t\tcheckInfoArray.push(this.form.testingResult);\n\t\t\tcheckInfoArray.push(this.checkInfo.time);\n\t\t\tcheckInfoArray.push(formatDate(new Date()));\n\t\t\tcheckInfoArray.push(this.TestingPhotoUrl);\n\t\t\tcheckInfoArray.push(this.form.remarks);\n\t\t\tthis.$httpBlock\n\t\t\t\t.post(this.$httpUrl + '/materialapi/createMaching', { checkInfoArray: checkInfoArray })\n\t\t\t\t.then(res => {\n\t\t\t\t\tif (res.status === 200) {\n\t\t\t\t\t\tchangeInToOut(this.checkInfo.cropsId).then(res => {\n\t\t\t\t\t\t\tthis.msgSuccess(\"出库成功\")\n\t\t\t\t\t\t\tthis.getList();\n\t\t\t\t\t\t}).catch(err => {\n\t\t\t\t\t\t\tthis.msgError(\"出库失败\")\n\t\t\t\t\t\t})\n\t\t\t\t\t\tthis.open = false;\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(err => {\n\t\t\t\t\tthis.msgError('存储异常 ' + err);\n\t\t\t\t});\n\t\t},\n\n\t\tgetFile(file) {\n\t\t\tthis.imageUrl = URL.createObjectURL(file.raw);\n\t\t\tthis.getBase64(file.raw).then(res => {\n\t\t\t\tthis.imgBase64 = res;\n\t\t\t\tconst datas = {\n\t\t\t\t\timageBase64: this.imgBase64\n\t\t\t\t};\n\t\t\t\tuplodImagesBase64(datas)\n\t\t\t\t\t.then(res => {\n\t\t\t\t\t\tthis.TestingPhotoUrl = res.msg;\n\t\t\t\t\t\tthis.msgSuccess('图片上传成功');\n\t\t\t\t\t})\n\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\tthis.msgError('图片上传失败');\n\t\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\tgetBase64(file) {\n\t\t\treturn new Promise(function(resolve, reject) {\n\t\t\t\tconst reader = new FileReader();\n\t\t\t\tlet imgResult = '';\n\t\t\t\treader.readAsDataURL(file);\n\t\t\t\treader.onload = function() {\n\t\t\t\t\timgResult = reader.result;\n\t\t\t\t};\n\t\t\t\treader.onerror = function(error) {\n\t\t\t\t\treject(error);\n\t\t\t\t};\n\t\t\t\treader.onloadend = function() {\n\t\t\t\t\tresolve(imgResult);\n\t\t\t\t};\n\t\t\t});\n\t\t},\n\n\n\t\tgetList() {\n\t\t\tlistCrops(this.$store.getters.deptId).then(res => {\n\t\t\t\tthis.transportList = res.data;\n\t\t\t});\n\t\t},\n\t\t/** 转换部门数据结构 */\n\t\tnormalizer(node) {\n\t\t\tif (node.children && !node.children.length) {\n\t\t\t\tdelete node.children;\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tid: node.deptId,\n\t\t\t\tlabel: node.deptName,\n\t\t\t\tchildren: node.children\n\t\t\t};\n\t\t},\n\t\t// 字典状态字典翻译\n\t\tstatusFormat(row, column) {\n\t\t\treturn this.selectDictLabel(this.statusOptions, row.status);\n\t\t},\n\t\t// 取消按钮\n\t\tcancel() {\n\t\t\tthis.open = false;\n\t\t\tthis.reset();\n\t\t},\n\t\t// 表单重置\n\t\treset() {\n\t\t\tthis.form = {\n\t\t\t\tdeptId: undefined,\n\t\t\t\tparentId: undefined,\n\t\t\t\tdeptName: undefined,\n\t\t\t\torderNum: undefined,\n\t\t\t\tleader: undefined,\n\t\t\t\tphone: undefined,\n\t\t\t\temail: undefined,\n\t\t\t\tstatus: '0'\n\t\t\t};\n\t\t\tthis.resetForm('form');\n\t\t},\n\t\t/** 搜索按钮操作 */\n\t\thandleQuery() {\n\t\t\tthis.getList();\n\t\t},\n\t\t/** 重置按钮操作 */\n\t\tresetQuery() {\n\t\t\tthis.resetForm('queryForm');\n\t\t\tthis.handleQuery();\n\t\t},\n\t\t/** 新增按钮操作 */\n\t\thandleAdd(row) {\n\t\t\tthis.reset();\n\t\t\tif (row != undefined) {\n\t\t\t\tthis.form.parentId = row.deptId;\n\t\t\t}\n\t\t\tthis.open = true;\n\t\t\tthis.title = '添加部门';\n\t\t\tlistDept().then(response => {\n\t\t\t\tthis.deptOptions = this.handleTree(response.data, 'deptId');\n\t\t\t});\n\t\t},\n\t\t/** 修改按钮操作 */\n\t\thandleUpdate(row) {\n\t\t\tthis.reset();\n\t\t\tgetDept(row.deptId).then(response => {\n\t\t\t\tthis.form = response.data;\n\t\t\t\tthis.open = true;\n\t\t\t\tthis.title = '修改部门';\n\t\t\t});\n\t\t\tlistDeptExcludeChild(row.deptId).then(response => {\n\t\t\t\tthis.deptOptions = this.handleTree(response.data, 'deptId');\n\t\t\t});\n\t\t},\n\t\t/** 提交按钮 */\n\t\tsubmitForm: function() {\n\t\t\tthis.$refs['form'].validate(valid => {\n\t\t\t\tif (valid) {\n\t\t\t\t\tif (this.form.deptId != undefined) {\n\t\t\t\t\t\tupdateDept(this.form).then(response => {\n\t\t\t\t\t\t\tif (response.code === 200) {\n\t\t\t\t\t\t\t\tthis.msgSuccess('修改成功');\n\t\t\t\t\t\t\t\tthis.open = false;\n\t\t\t\t\t\t\t\tthis.getList();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\taddDept(this.form).then(response => {\n\t\t\t\t\t\t\tif (response.code === 200) {\n\t\t\t\t\t\t\t\tthis.msgSuccess('新增成功');\n\t\t\t\t\t\t\t\tthis.open = false;\n\t\t\t\t\t\t\t\tthis.getList();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/** 删除按钮操作 */\n\t\thandleDelete(row) {\n\t\t\tthis.$confirm('是否确认删除名称为\"' + row.deptName + '\"的数据项?', '警告', {\n\t\t\t\tconfirmButtonText: '确定',\n\t\t\t\tcancelButtonText: '取消',\n\t\t\t\ttype: 'warning'\n\t\t\t})\n\t\t\t\t.then(function() {\n\t\t\t\t\treturn delDept(row.deptId);\n\t\t\t\t})\n\t\t\t\t.then(() => {\n\t\t\t\t\tthis.getList();\n\t\t\t\t\tthis.msgSuccess('删除成功');\n\t\t\t\t})\n\t\t\t\t.catch(function() {});\n\t\t}\n\t}\n};\n</script>\n<style>\n.avatar-uploader .el-upload {\n\tborder: 1px dashed #d9d9d9;\n\tborder-radius: 6px;\n\tcursor: pointer;\n\tposition: relative;\n\toverflow: hidden;\n}\n.avatar-uploader .el-upload:hover {\n\tborder-color: #409eff;\n}\n.avatar-uploader-icon {\n\tfont-size: 28px;\n\tcolor: #8c939d;\n\twidth: 178px;\n\theight: 178px;\n\tline-height: 178px;\n\ttext-align: center;\n}\n.avatar {\n\twidth: 300px;\n\theight: 270px;\n\tdisplay: block;\n}\n\n.image {\n\twidth: 80%;\n\tdisplay: block;\n}\n</style>\n"]}]}