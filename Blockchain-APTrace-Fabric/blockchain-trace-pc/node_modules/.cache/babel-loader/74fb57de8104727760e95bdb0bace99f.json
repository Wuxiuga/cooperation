{"remainingRequest":"/Users/libaojian/Desktop/Blockchain-APTrace-Fabric/blockchain-trace-pc/node_modules/babel-loader/lib/index.js!/Users/libaojian/Desktop/Blockchain-APTrace-Fabric/blockchain-trace-pc/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/libaojian/Desktop/Blockchain-APTrace-Fabric/blockchain-trace-pc/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/libaojian/Desktop/Blockchain-APTrace-Fabric/blockchain-trace-pc/src/views/trace/driver/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/libaojian/Desktop/Blockchain-APTrace-Fabric/blockchain-trace-pc/src/views/trace/driver/index.vue","mtime":1645620179156},{"path":"/Users/libaojian/Desktop/Blockchain-APTrace-Fabric/blockchain-trace-pc/babel.config.js","mtime":1645620179122},{"path":"/Users/libaojian/Desktop/Blockchain-APTrace-Fabric/blockchain-trace-pc/node_modules/cache-loader/dist/cjs.js","mtime":1645761092242},{"path":"/Users/libaojian/Desktop/Blockchain-APTrace-Fabric/blockchain-trace-pc/node_modules/babel-loader/lib/index.js","mtime":1645761092758},{"path":"/Users/libaojian/Desktop/Blockchain-APTrace-Fabric/blockchain-trace-pc/node_modules/cache-loader/dist/cjs.js","mtime":1645761092242},{"path":"/Users/libaojian/Desktop/Blockchain-APTrace-Fabric/blockchain-trace-pc/node_modules/vue-loader/lib/index.js","mtime":1645761092929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCIvVXNlcnMvbGliYW9qaWFuL0Rlc2t0b3AvQmxvY2tjaGFpbi1BUFRyYWNlLUZhYnJpYy9ibG9ja2NoYWluLXRyYWNlLXBjL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlRGVmYXVsdC5qcyIpLmRlZmF1bHQ7CgpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgdmFsdWU6IHRydWUKfSk7CmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5qc29uLnN0cmluZ2lmeS5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiKTsKCnZhciBfZGVwdCA9IHJlcXVpcmUoIkAvYXBpL3N5c3RlbS9kZXB0Iik7Cgp2YXIgX2RyaXZlciA9IHJlcXVpcmUoIi4uLy4uLy4uL2FwaS90cmFjZS9kcml2ZXIiKTsKCnZhciBfdnVlVHJlZXNlbGVjdCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiQHJpb3BoYWUvdnVlLXRyZWVzZWxlY3QiKSk7CgpyZXF1aXJlKCJAcmlvcGhhZS92dWUtdHJlZXNlbGVjdC9kaXN0L3Z1ZS10cmVlc2VsZWN0LmNzcyIpOwoKdmFyIF9pbmRleCA9IHJlcXVpcmUoIi4uLy4uLy4uL3V0aWxzL2luZGV4LmpzIik7CgovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwp2YXIgX2RlZmF1bHQgPSB7CiAgbmFtZTogJ0RlcHQnLAogIGNvbXBvbmVudHM6IHsKICAgIFRyZWVzZWxlY3Q6IF92dWVUcmVlc2VsZWN0LmRlZmF1bHQKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBub3RpY2VEZXRhaURpYWxvZzogZmFsc2UsCiAgICAgIC8vIOmBrue9qeWxggogICAgICBsb2FkaW5nOiB0cnVlLAogICAgICAvLyDmmL7npLrmkJzntKLmnaHku7YKICAgICAgc2hvd1NlYXJjaDogdHJ1ZSwKICAgICAgLy8g6KGo5qC85qCR5pWw5o2uCiAgICAgIGRlcHRMaXN0OiBbXSwKICAgICAgLy8g6YOo6Zeo5qCR6YCJ6aG5CiAgICAgIGRlcHRPcHRpb25zOiBbXSwKICAgICAgLy8g5by55Ye65bGC5qCH6aKYCiAgICAgIHRpdGxlOiAnJywKICAgICAgLy8g5piv5ZCm5pi+56S65by55Ye65bGCCiAgICAgIG9wZW46IGZhbHNlLAogICAgICAvLyDnirbmgIHmlbDmja7lrZflhbgKICAgICAgc3RhdHVzT3B0aW9uczogW10sCiAgICAgIC8vIOafpeivouWPguaVsAogICAgICBxdWVyeVBhcmFtczogewogICAgICAgIGRlcHROYW1lOiB1bmRlZmluZWQsCiAgICAgICAgc3RhdHVzOiB1bmRlZmluZWQKICAgICAgfSwKICAgICAgLy8g6KGo5Y2V5Y+C5pWwCiAgICAgIGZvcm06IHt9LAogICAgICB0cmFuc3BvcnRMaXN0OiBbXSwKICAgICAgY2l0eURldGFpbDogJycsCiAgICAgIGxuZzogTnVtYmVyLAogICAgICBsYXQ6IE51bWJlcgogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldExpc3QoKTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICBBTWFwLnBsdWdpbignQU1hcC5HZW9sb2NhdGlvbicsIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGdlb2xvY2F0aW9uID0gbmV3IEFNYXAuR2VvbG9jYXRpb24oewogICAgICAgIC8vIOaYr+WQpuS9v+eUqOmrmOeyvuW6puWumuS9je+8jOm7mOiupO+8mnRydWUKICAgICAgICBlbmFibGVIaWdoQWNjdXJhY3k6IHRydWUsCiAgICAgICAgLy8g6K6+572u5a6a5L2N6LaF5pe25pe26Ze077yM6buY6K6k77ya5peg56m35aSnCiAgICAgICAgdGltZW91dDogMTAwMDAsCiAgICAgICAgLy8g5a6a5L2N5oyJ6ZKu55qE5YGc6Z2g5L2N572u55qE5YGP56e76YeP77yM6buY6K6k77yaUGl4ZWwoMTAsIDIwKQogICAgICAgIGJ1dHRvbk9mZnNldDogbmV3IEFNYXAuUGl4ZWwoMTAsIDIwKSwKICAgICAgICAvLyAg5a6a5L2N5oiQ5Yqf5ZCO6LCD5pW05Zyw5Zu+6KeG6YeO6IyD5Zu05L2/5a6a5L2N5L2N572u5Y+K57K+5bqm6IyD5Zu06KeG6YeO5YaF5Y+v6KeB77yM6buY6K6k77yaZmFsc2UKICAgICAgICB6b29tVG9BY2N1cmFjeTogdHJ1ZSwKICAgICAgICAvLyAg5a6a5L2N5oyJ6ZKu55qE5o6S5pS+5L2N572uLCAgUkLooajnpLrlj7PkuIsKICAgICAgICBidXR0b25Qb3NpdGlvbjogJ1JCJwogICAgICB9KTsKICAgICAgZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uKCk7CiAgICAgIEFNYXAuZXZlbnQuYWRkTGlzdGVuZXIoZ2VvbG9jYXRpb24sICdjb21wbGV0ZScsIG9uQ29tcGxldGUpOwogICAgICBBTWFwLmV2ZW50LmFkZExpc3RlbmVyKGdlb2xvY2F0aW9uLCAnZXJyb3InLCBvbkVycm9yKTsKCiAgICAgIGZ1bmN0aW9uIG9uQ29tcGxldGUoZGF0YSkgewogICAgICAgIHRoaXMuY2l0eURldGFpbCA9IGRhdGEuYWRkcmVzc0NvbXBvbmVudC5wcm92aW5jZSArIGRhdGEuYWRkcmVzc0NvbXBvbmVudC5jaXR5ICsgZGF0YS5hZGRyZXNzQ29tcG9uZW50LmRpc3RyaWN0ICsgZGF0YS5hZGRyZXNzQ29tcG9uZW50LnRvd25zaGlwOwogICAgICAgIHRoaXMubG5nID0gZGF0YS5wb3NpdGlvbi5sbmc7CiAgICAgICAgdGhpcy5sYXQgPSBkYXRhLnBvc2l0aW9uLmxhdDsKICAgICAgICB2YXIgc3RyID0gW107CiAgICAgICAgc3RyLnB1c2goZGF0YS5wb3NpdGlvbi5sbmcpOwogICAgICAgIHN0ci5wdXNoKGRhdGEucG9zaXRpb24ubGF0KTsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG5nJykuaW5uZXJIVE1MID0gZGF0YS5wb3NpdGlvbi5sbmc7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xhdCcpLmlubmVySFRNTCA9IGRhdGEucG9zaXRpb24ubGF0OwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0aXAnKS5pbm5lckhUTUwgPSB0aGlzLmNpdHlEZXRhaWw7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIG9uRXJyb3IoZGF0YSkgewogICAgICAgIGNvbnNvbGUubG9nKCflrprkvY3plJnor68gICAnICsgSlNPTi5zdHJpbmdpZnkoZGF0YSkpOwogICAgICB9CiAgICB9KTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGlzT2s6IGZ1bmN0aW9uIGlzT2socm93KSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgdHJhbnNwb3J0QXJyYXkgPSBbXTsKICAgICAgdmFyIGlkID0gbmV3IHRoaXMuJHNub3dGbGFrZUlkKCkuZ2VuZXJhdGUoKTsKICAgICAgdHJhbnNwb3J0QXJyYXkucHVzaChpZCk7CiAgICAgIHRyYW5zcG9ydEFycmF5LnB1c2goaWQpOwogICAgICB0cmFuc3BvcnRBcnJheS5wdXNoKHRoaXMuJHN0b3JlLmdldHRlcnMubmFtZSk7CiAgICAgIHRyYW5zcG9ydEFycmF5LnB1c2godGhpcy4kc3RvcmUuZ2V0dGVycy5uaWNrTmFtZSk7CiAgICAgIHRyYW5zcG9ydEFycmF5LnB1c2godGhpcy4kc3RvcmUuZ2V0dGVycy5waG9uZW51bWJlcik7CiAgICAgIHRyYW5zcG9ydEFycmF5LnB1c2godGhpcy4kc3RvcmUuZ2V0dGVycy5kZXB0TmFtZSk7CiAgICAgIHRyYW5zcG9ydEFycmF5LnB1c2goKDAsIF9pbmRleC5mb3JtYXREYXRlKShuZXcgRGF0ZSgpKSk7CiAgICAgIHRyYW5zcG9ydEFycmF5LnB1c2goZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RpcCcpLmlubmVySFRNTCk7CiAgICAgIHRyYW5zcG9ydEFycmF5LnB1c2gocm93LmNyb3BzSWQpOwogICAgICB0cmFuc3BvcnRBcnJheS5wdXNoKCfnu4jngrnnq5knKTsKICAgICAgdGhpcy4kY29uZmlybSgn5piv5ZCm56Gu6K6k6YWN6YCB5a6M5q+VJywgJ+mFjemAgScsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzLiRodHRwQmxvY2sucG9zdChfdGhpcy4kaHR0cFVybCArICcvZHJpdmVyYXBpL2NyZWF0ZVRyYW5zcG9ydCcsIHsKICAgICAgICAgIHRyYW5zcG9ydEFycmF5OiB0cmFuc3BvcnRBcnJheQogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT09IDIwMCkgewogICAgICAgICAgICBfdGhpcy5tc2dTdWNjZXNzKCfmlbDmja7kuIrpk77miJDlip8nKTsKCiAgICAgICAgICAgIF90aGlzLmdyb3dEaWFsb2cgPSBmYWxzZTsKICAgICAgICAgICAgdmFyIHRyYW5zcG9ydEluZm8gPSB7CiAgICAgICAgICAgICAgbG5nOiBOdW1iZXIoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xuZycpLmlubmVySFRNTCksCiAgICAgICAgICAgICAgbGF0OiBOdW1iZXIoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xhdCcpLmlubmVySFRNTCksCiAgICAgICAgICAgICAgY3JvcHNJZDogcm93LmNyb3BzSWQsCiAgICAgICAgICAgICAgc3RhdHVzOiAyLAogICAgICAgICAgICAgIGlkOiByb3cuaWQsCiAgICAgICAgICAgICAgb3V0RmFjdG9yeVN0YXR1czogMAogICAgICAgICAgICB9OwogICAgICAgICAgICAoMCwgX2RyaXZlci5zYXZlQW5kVXBkYXRlVHJhbnNwb3J0SW5mb1RvRGIpKHRyYW5zcG9ydEluZm8pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgIF90aGlzLmdldExpc3QoKTsKICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge30pOwogICAgICAgICAgfQogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgIF90aGlzLm1zZ0Vycm9yKCflrZjlgqjlvILluLggJyArIGVycik7CiAgICAgICAgfSk7CgogICAgICAgIF90aGlzLiRtZXNzYWdlKHsKICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgIG1lc3NhZ2U6ICfphY3pgIHmiJDlip8hJwogICAgICAgIH0pOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMuJG1lc3NhZ2UoewogICAgICAgICAgdHlwZTogJ2luZm8nLAogICAgICAgICAgbWVzc2FnZTogJ+WPlua2iCcKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgdHJhbnNwb3J0TG9jYXRpb246IGZ1bmN0aW9uIHRyYW5zcG9ydExvY2F0aW9uKHJvdykgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHZhciB0cmFuc3BvcnRBcnJheSA9IFtdOwogICAgICB2YXIgaWQgPSBuZXcgdGhpcy4kc25vd0ZsYWtlSWQoKS5nZW5lcmF0ZSgpOwogICAgICB0cmFuc3BvcnRBcnJheS5wdXNoKGlkKTsKICAgICAgdHJhbnNwb3J0QXJyYXkucHVzaChpZCk7CiAgICAgIHRyYW5zcG9ydEFycmF5LnB1c2godGhpcy4kc3RvcmUuZ2V0dGVycy5uYW1lKTsKICAgICAgdHJhbnNwb3J0QXJyYXkucHVzaCh0aGlzLiRzdG9yZS5nZXR0ZXJzLm5pY2tOYW1lKTsKICAgICAgdHJhbnNwb3J0QXJyYXkucHVzaCh0aGlzLiRzdG9yZS5nZXR0ZXJzLnBob25lbnVtYmVyKTsKICAgICAgdHJhbnNwb3J0QXJyYXkucHVzaCh0aGlzLiRzdG9yZS5nZXR0ZXJzLmRlcHROYW1lKTsKICAgICAgdHJhbnNwb3J0QXJyYXkucHVzaCgoMCwgX2luZGV4LmZvcm1hdERhdGUpKG5ldyBEYXRlKCkpKTsKICAgICAgdHJhbnNwb3J0QXJyYXkucHVzaChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGlwJykuaW5uZXJIVE1MKTsKICAgICAgdHJhbnNwb3J0QXJyYXkucHVzaChyb3cuY3JvcHNJZCk7CiAgICAgIHRyYW5zcG9ydEFycmF5LnB1c2goJ+S4remAlOWumuS9jScpOwogICAgICB0aGlzLiRjb25maXJtKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0aXAnKS5pbm5lckhUTUwsICflrprkvY0nLCB7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLAogICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczIuJGh0dHBCbG9jay5wb3N0KF90aGlzMi4kaHR0cFVybCArICcvZHJpdmVyYXBpL2NyZWF0ZVRyYW5zcG9ydCcsIHsKICAgICAgICAgIHRyYW5zcG9ydEFycmF5OiB0cmFuc3BvcnRBcnJheQogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT09IDIwMCkgewogICAgICAgICAgICBfdGhpczIubXNnU3VjY2Vzcygn5pWw5o2u5LiK6ZO+5oiQ5YqfJyk7CgogICAgICAgICAgICBfdGhpczIuZ3Jvd0RpYWxvZyA9IGZhbHNlOwogICAgICAgICAgICB2YXIgdHJhbnNwb3J0SW5mbyA9IHsKICAgICAgICAgICAgICBsbmc6IE51bWJlcihkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG5nJykuaW5uZXJIVE1MKSwKICAgICAgICAgICAgICBsYXQ6IE51bWJlcihkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGF0JykuaW5uZXJIVE1MKSwKICAgICAgICAgICAgICBjcm9wc0lkOiByb3cuY3JvcHNJZCwKICAgICAgICAgICAgICBzdGF0dXM6IDEKICAgICAgICAgICAgfTsKICAgICAgICAgICAgKDAsIF9kcml2ZXIuc2F2ZUFuZFVwZGF0ZVRyYW5zcG9ydEluZm9Ub0RiKSh0cmFuc3BvcnRJbmZvKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICBfdGhpczIuZ2V0TGlzdCgpOwogICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7fSk7CiAgICAgICAgICB9CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgX3RoaXMyLm1zZ0Vycm9yKCflrZjlgqjlvILluLggJyArIGVycik7CiAgICAgICAgfSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczIuJG1lc3NhZ2UoewogICAgICAgICAgdHlwZTogJ2luZm8nLAogICAgICAgICAgbWVzc2FnZTogJ+WPlua2iOWumuS9jScKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAoKICAgIC8qKgogICAgICogQHBhcmFtIHtPYmplY3R9IHJvd+W8gOWni+mFjemAgQogICAgICovCiAgICBzdGFydFRyYW5zcG9ydDogZnVuY3Rpb24gc3RhcnRUcmFuc3BvcnQocm93KSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdmFyIHRyYW5zcG9ydEFycmF5ID0gW107CiAgICAgIHZhciBpZCA9IG5ldyB0aGlzLiRzbm93Rmxha2VJZCgpLmdlbmVyYXRlKCk7CiAgICAgIHRyYW5zcG9ydEFycmF5LnB1c2goaWQpOwogICAgICB0cmFuc3BvcnRBcnJheS5wdXNoKGlkKTsKICAgICAgdHJhbnNwb3J0QXJyYXkucHVzaCh0aGlzLiRzdG9yZS5nZXR0ZXJzLm5hbWUpOwogICAgICB0cmFuc3BvcnRBcnJheS5wdXNoKHRoaXMuJHN0b3JlLmdldHRlcnMubmlja05hbWUpOwogICAgICB0cmFuc3BvcnRBcnJheS5wdXNoKHRoaXMuJHN0b3JlLmdldHRlcnMucGhvbmVudW1iZXIpOwogICAgICB0cmFuc3BvcnRBcnJheS5wdXNoKHRoaXMuJHN0b3JlLmdldHRlcnMuZGVwdE5hbWUpOwogICAgICB0cmFuc3BvcnRBcnJheS5wdXNoKCgwLCBfaW5kZXguZm9ybWF0RGF0ZSkobmV3IERhdGUoKSkpOwogICAgICB0cmFuc3BvcnRBcnJheS5wdXNoKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0aXAnKS5pbm5lckhUTUwpOwogICAgICB0cmFuc3BvcnRBcnJheS5wdXNoKHJvdy5jcm9wc0lkKTsKICAgICAgdHJhbnNwb3J0QXJyYXkucHVzaCgn5aeL5Y+R5ZywJyk7CiAgICAgIHRoaXMuJGNvbmZpcm0oJ+aYr+WQpuW8gOWni+i/kOmAgei0p+eJqScsICfmj5DnpLonLCB7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLAogICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczMuJGh0dHBCbG9jay5wb3N0KF90aGlzMy4kaHR0cFVybCArICcvZHJpdmVyYXBpL2NyZWF0ZVRyYW5zcG9ydCcsIHsKICAgICAgICAgIHRyYW5zcG9ydEFycmF5OiB0cmFuc3BvcnRBcnJheQogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT09IDIwMCkgewogICAgICAgICAgICBfdGhpczMubXNnU3VjY2Vzcygn5pWw5o2u5LiK6ZO+5oiQ5YqfJyk7CgogICAgICAgICAgICBfdGhpczMuZ3Jvd0RpYWxvZyA9IGZhbHNlOwogICAgICAgICAgICB2YXIgdHJhbnNwb3J0SW5mbyA9IHsKICAgICAgICAgICAgICBsbmc6IE51bWJlcihkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG5nJykuaW5uZXJIVE1MKSwKICAgICAgICAgICAgICBsYXQ6IE51bWJlcihkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGF0JykuaW5uZXJIVE1MKSwKICAgICAgICAgICAgICBjcm9wc0lkOiByb3cuY3JvcHNJZCwKICAgICAgICAgICAgICBpZDogcm93LmlkLAogICAgICAgICAgICAgIHN0YXR1czogMQogICAgICAgICAgICB9OwogICAgICAgICAgICAoMCwgX2RyaXZlci5zYXZlQW5kVXBkYXRlVHJhbnNwb3J0SW5mb1RvRGIpKHRyYW5zcG9ydEluZm8pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgIF90aGlzMy5nZXRMaXN0KCk7CiAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHt9KTsKICAgICAgICAgIH0KICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICBfdGhpczMubXNnRXJyb3IoJ+WtmOWCqOW8guW4uCAnICsgZXJyKTsKICAgICAgICB9KTsKCiAgICAgICAgX3RoaXMzLiRtZXNzYWdlKHsKICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgIG1lc3NhZ2U6ICflvIDlp4vov5DpgIEhJwogICAgICAgIH0pOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMzLiRtZXNzYWdlKHsKICAgICAgICAgIHR5cGU6ICdpbmZvJywKICAgICAgICAgIG1lc3NhZ2U6ICflt7Llj5bmtojov5DpgIEnCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIGdldExpc3Q6IGZ1bmN0aW9uIGdldExpc3QoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgKDAsIF9kcml2ZXIubGlzdFRyYW5zcG9ydCkodGhpcy4kc3RvcmUuZ2V0dGVycy5uYW1lKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczQudHJhbnNwb3J0TGlzdCA9IHJlcy5kYXRhOwogICAgICB9KTsKICAgIH0sCgogICAgLyoqIOi9rOaNoumDqOmXqOaVsOaNrue7k+aehCAqLwogICAgbm9ybWFsaXplcjogZnVuY3Rpb24gbm9ybWFsaXplcihub2RlKSB7CiAgICAgIGlmIChub2RlLmNoaWxkcmVuICYmICFub2RlLmNoaWxkcmVuLmxlbmd0aCkgewogICAgICAgIGRlbGV0ZSBub2RlLmNoaWxkcmVuOwogICAgICB9CgogICAgICByZXR1cm4gewogICAgICAgIGlkOiBub2RlLmRlcHRJZCwKICAgICAgICBsYWJlbDogbm9kZS5kZXB0TmFtZSwKICAgICAgICBjaGlsZHJlbjogbm9kZS5jaGlsZHJlbgogICAgICB9OwogICAgfSwKICAgIC8vIOWtl+WFuOeKtuaAgeWtl+WFuOe/u+ivkQogICAgc3RhdHVzRm9ybWF0OiBmdW5jdGlvbiBzdGF0dXNGb3JtYXQocm93LCBjb2x1bW4pIHsKICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0RGljdExhYmVsKHRoaXMuc3RhdHVzT3B0aW9ucywgcm93LnN0YXR1cyk7CiAgICB9LAogICAgLy8g5Y+W5raI5oyJ6ZKuCiAgICBjYW5jZWw6IGZ1bmN0aW9uIGNhbmNlbCgpIHsKICAgICAgdGhpcy5vcGVuID0gZmFsc2U7CiAgICAgIHRoaXMucmVzZXQoKTsKICAgIH0sCiAgICAvLyDooajljZXph43nva4KICAgIHJlc2V0OiBmdW5jdGlvbiByZXNldCgpIHsKICAgICAgdGhpcy5mb3JtID0gewogICAgICAgIGRlcHRJZDogdW5kZWZpbmVkLAogICAgICAgIHBhcmVudElkOiB1bmRlZmluZWQsCiAgICAgICAgZGVwdE5hbWU6IHVuZGVmaW5lZCwKICAgICAgICBvcmRlck51bTogdW5kZWZpbmVkLAogICAgICAgIGxlYWRlcjogdW5kZWZpbmVkLAogICAgICAgIHBob25lOiB1bmRlZmluZWQsCiAgICAgICAgZW1haWw6IHVuZGVmaW5lZCwKICAgICAgICBzdGF0dXM6ICcwJwogICAgICB9OwogICAgICB0aGlzLnJlc2V0Rm9ybSgnZm9ybScpOwogICAgfSwKCiAgICAvKiog5pCc57Si5oyJ6ZKu5pON5L2cICovCiAgICBoYW5kbGVRdWVyeTogZnVuY3Rpb24gaGFuZGxlUXVlcnkoKSB7CiAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgfSwKCiAgICAvKiog6YeN572u5oyJ6ZKu5pON5L2cICovCiAgICByZXNldFF1ZXJ5OiBmdW5jdGlvbiByZXNldFF1ZXJ5KCkgewogICAgICB0aGlzLnJlc2V0Rm9ybSgncXVlcnlGb3JtJyk7CiAgICAgIHRoaXMuaGFuZGxlUXVlcnkoKTsKICAgIH0sCgogICAgLyoqIOaWsOWinuaMiemSruaTjeS9nCAqLwogICAgaGFuZGxlQWRkOiBmdW5jdGlvbiBoYW5kbGVBZGQocm93KSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgdGhpcy5yZXNldCgpOwoKICAgICAgaWYgKHJvdyAhPSB1bmRlZmluZWQpIHsKICAgICAgICB0aGlzLmZvcm0ucGFyZW50SWQgPSByb3cuZGVwdElkOwogICAgICB9CgogICAgICB0aGlzLm9wZW4gPSB0cnVlOwogICAgICB0aGlzLnRpdGxlID0gJ+a3u+WKoOmDqOmXqCc7CiAgICAgICgwLCBfZGVwdC5saXN0RGVwdCkoKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzNS5kZXB0T3B0aW9ucyA9IF90aGlzNS5oYW5kbGVUcmVlKHJlc3BvbnNlLmRhdGEsICdkZXB0SWQnKTsKICAgICAgfSk7CiAgICB9LAoKICAgIC8qKiDkv67mlLnmjInpkq7mk43kvZwgKi8KICAgIGhhbmRsZVVwZGF0ZTogZnVuY3Rpb24gaGFuZGxlVXBkYXRlKHJvdykgewogICAgICB2YXIgX3RoaXM2ID0gdGhpczsKCiAgICAgIHRoaXMucmVzZXQoKTsKICAgICAgKDAsIF9kZXB0LmdldERlcHQpKHJvdy5kZXB0SWQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXM2LmZvcm0gPSByZXNwb25zZS5kYXRhOwogICAgICAgIF90aGlzNi5vcGVuID0gdHJ1ZTsKICAgICAgICBfdGhpczYudGl0bGUgPSAn5L+u5pS56YOo6ZeoJzsKICAgICAgfSk7CiAgICAgICgwLCBfZGVwdC5saXN0RGVwdEV4Y2x1ZGVDaGlsZCkocm93LmRlcHRJZCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpczYuZGVwdE9wdGlvbnMgPSBfdGhpczYuaGFuZGxlVHJlZShyZXNwb25zZS5kYXRhLCAnZGVwdElkJyk7CiAgICAgIH0pOwogICAgfSwKCiAgICAvKiog5o+Q5Lqk5oyJ6ZKuICovCiAgICBzdWJtaXRGb3JtOiBmdW5jdGlvbiBzdWJtaXRGb3JtKCkgewogICAgICB2YXIgX3RoaXM3ID0gdGhpczsKCiAgICAgIHRoaXMuJHJlZnNbJ2Zvcm0nXS52YWxpZGF0ZShmdW5jdGlvbiAodmFsaWQpIHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIGlmIChfdGhpczcuZm9ybS5kZXB0SWQgIT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICgwLCBfZGVwdC51cGRhdGVEZXB0KShfdGhpczcuZm9ybSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICBfdGhpczcubXNnU3VjY2Vzcygn5L+u5pS55oiQ5YqfJyk7CgogICAgICAgICAgICAgICAgX3RoaXM3Lm9wZW4gPSBmYWxzZTsKCiAgICAgICAgICAgICAgICBfdGhpczcuZ2V0TGlzdCgpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAoMCwgX2RlcHQuYWRkRGVwdCkoX3RoaXM3LmZvcm0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgX3RoaXM3Lm1zZ1N1Y2Nlc3MoJ+aWsOWinuaIkOWKnycpOwoKICAgICAgICAgICAgICAgIF90aGlzNy5vcGVuID0gZmFsc2U7CgogICAgICAgICAgICAgICAgX3RoaXM3LmdldExpc3QoKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAoKICAgIC8qKiDliKDpmaTmjInpkq7mk43kvZwgKi8KICAgIGhhbmRsZURlbGV0ZTogZnVuY3Rpb24gaGFuZGxlRGVsZXRlKHJvdykgewogICAgICB2YXIgX3RoaXM4ID0gdGhpczsKCiAgICAgIHRoaXMuJGNvbmZpcm0oJ+aYr+WQpuehruiupOWIoOmZpOWQjeensOS4uiInICsgcm93LmRlcHROYW1lICsgJyLnmoTmlbDmja7pobk/JywgJ+itpuWRiicsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiAoMCwgX2RlcHQuZGVsRGVwdCkocm93LmRlcHRJZCk7CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzOC5nZXRMaXN0KCk7CgogICAgICAgIF90aGlzOC5tc2dTdWNjZXNzKCfliKDpmaTmiJDlip8nKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkge30pOwogICAgfQogIH0KfTsKZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7"},{"version":3,"mappings":"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","names":["name","components","Treeselect","data","noticeDetaiDialog","loading","showSearch","deptList","deptOptions","title","open","statusOptions","queryParams","deptName","status","form","transportList","cityDetail","lng","lat","created","mounted","AMap","enableHighAccuracy","timeout","buttonOffset","zoomToAccuracy","buttonPosition","geolocation","str","document","console","methods","isOk","row","transportArray","confirmButtonText","cancelButtonText","type","then","post","cropsId","id","outFactoryStatus","catch","message","transportLocation","startTransport","getList","normalizer","node","label","children","statusFormat","column","cancel","reset","deptId","parentId","orderNum","leader","phone","email","handleQuery","resetQuery","handleAdd","handleUpdate","submitForm","handleDelete"],"sourceRoot":"src/views/trace/driver","sources":["index.vue"],"sourcesContent":["<template>\n\t<div class=\"app-container\">\n\t\t<el-divider>待处理业务</el-divider>\n\n\t\t<br />\n\t\t<el-table :data=\"transportList\">\n\t\t\t<el-table-column type=\"selection\" width=\"55\" align=\"center\" />\n\t\t\t<el-table-column label=\"货物编号\" prop=\"cropsId\" />\n\t\t\t<el-table-column label=\"通知人\" prop=\"farmerNickName\" />\n\t\t\t<el-table-column label=\"部门\" prop=\"farmerDept\" />\n\t\t\t<el-table-column label=\"时间\" prop=\"time\" />\n\t\t\t<el-table-column label=\"备注\" prop=\"remarks\" />\n\t\t\t<el-table-column label=\"状态\" prop=\"status\">\n\t\t\t\t<template slot-scope=\"scope\">\n\t\t\t\t\t<el-tag v-if=\"scope.row.status === 0\">未运输</el-tag>\n\t\t\t\t\t<el-tag v-if=\"scope.row.status === 1\">运输中</el-tag>\n\t\t\t\t\t<el-tag v-if=\"scope.row.status === 2\">运输完成</el-tag>\n\t\t\t\t</template>\n\t\t\t</el-table-column>\n\t\t\t<el-table-column label=\"操作\" align=\"center\" class-name=\"small-padding fixed-width\">\n\t\t\t\t<template slot-scope=\"scope\">\n\t\t\t\t\t<el-button v-show=\"scope.row.status === 0\" size=\"mini\" type=\"text\" @click=\"startTransport(scope.row)\">开始配送</el-button>\n\t\t\t\t\t<el-button v-show=\"scope.row.status === 1\" size=\"mini\" type=\"text\" @click=\"transportLocation(scope.row)\">中途定位</el-button>\n\t\t\t\t\t<el-button v-show=\"scope.row.status === 1\" size=\"mini\" type=\"text\" @click=\"isOk(scope.row)\">配送完毕</el-button>\n<!--\t\t\t\t\t<el-button size=\"mini\" type=\"text\" @click=\"isOk(scope.row)\">物流追踪</el-button>-->\n\t\t\t\t</template>\n\t\t\t</el-table-column>\n\t\t</el-table>\n\n\t\t<div v-show=\"false\" id=\"tip\"></div>\n\t\t<div v-show=\"false\" id=\"lng\"></div>\n\t\t<div v-show=\"false\" id=\"lat\"></div>\n\t</div>\n</template>\n\n<script>\nimport { listDept, getDept, delDept, addDept, updateDept, listDeptExcludeChild } from '@/api/system/dept';\nimport { listTransport, saveAndUpdateTransportInfoToDb ,updateTransportStatus} from '../../../api/trace/driver';\nimport Treeselect from '@riophae/vue-treeselect';\nimport '@riophae/vue-treeselect/dist/vue-treeselect.css';\nimport { formatDate } from '../../../utils/index.js';\nexport default {\n\tname: 'Dept',\n\tcomponents: { Treeselect },\n\tdata() {\n\t\treturn {\n\t\t\tnoticeDetaiDialog: false,\n\t\t\t// 遮罩层\n\t\t\tloading: true,\n\t\t\t// 显示搜索条件\n\t\t\tshowSearch: true,\n\t\t\t// 表格树数据\n\t\t\tdeptList: [],\n\t\t\t// 部门树选项\n\t\t\tdeptOptions: [],\n\t\t\t// 弹出层标题\n\t\t\ttitle: '',\n\t\t\t// 是否显示弹出层\n\t\t\topen: false,\n\t\t\t// 状态数据字典\n\t\t\tstatusOptions: [],\n\t\t\t// 查询参数\n\t\t\tqueryParams: {\n\t\t\t\tdeptName: undefined,\n\t\t\t\tstatus: undefined\n\t\t\t},\n\t\t\t// 表单参数\n\t\t\tform: {},\n\n\t\t\ttransportList: [],\n\t\t\tcityDetail: '',\n\t\t\tlng: Number,\n\t\t\tlat: Number\n\t\t};\n\t},\n\tcreated() {\n\t\tthis.getList();\n\t},\n\n\tmounted() {\n\t\tAMap.plugin('AMap.Geolocation', function() {\n\t\t\tvar geolocation = new AMap.Geolocation({\n\t\t\t\t// 是否使用高精度定位，默认：true\n\t\t\t\tenableHighAccuracy: true,\n\t\t\t\t// 设置定位超时时间，默认：无穷大\n\t\t\t\ttimeout: 10000,\n\t\t\t\t// 定位按钮的停靠位置的偏移量，默认：Pixel(10, 20)\n\t\t\t\tbuttonOffset: new AMap.Pixel(10, 20),\n\t\t\t\t//  定位成功后调整地图视野范围使定位位置及精度范围视野内可见，默认：false\n\t\t\t\tzoomToAccuracy: true,\n\t\t\t\t//  定位按钮的排放位置,  RB表示右下\n\t\t\t\tbuttonPosition: 'RB'\n\t\t\t});\n\t\t\tgeolocation.getCurrentPosition();\n\t\t\tAMap.event.addListener(geolocation, 'complete', onComplete);\n\t\t\tAMap.event.addListener(geolocation, 'error', onError);\n\t\t\tfunction onComplete(data) {\n\t\t\t\tthis.cityDetail = data.addressComponent.province + data.addressComponent.city + data.addressComponent.district + data.addressComponent.township;\n\t\t\t\tthis.lng = data.position.lng;\n\t\t\t\tthis.lat = data.position.lat;\n\t\t\t\tconst str = [];\n\t\t\t\tstr.push(data.position.lng);\n\t\t\t\tstr.push(data.position.lat);\n\t\t\t\tdocument.getElementById('lng').innerHTML = data.position.lng;\n\t\t\t\tdocument.getElementById('lat').innerHTML = data.position.lat;\n\t\t\t\tdocument.getElementById('tip').innerHTML = this.cityDetail;\n\t\t\t}\n\t\t\tfunction onError(data) {\n\t\t\t\tconsole.log('定位错误   ' + JSON.stringify(data));\n\t\t\t}\n\t\t});\n\t},\n\n\tmethods: {\n\t\tisOk(row){\n\t\t\tconst transportArray = [];\n\t\t\tconst id = new this.$snowFlakeId().generate();\n\t\t\ttransportArray.push(id);\n\t\t\ttransportArray.push(id);\n\t\t\ttransportArray.push(this.$store.getters.name);\n\t\t\ttransportArray.push(this.$store.getters.nickName);\n\t\t\ttransportArray.push(this.$store.getters.phonenumber);\n\t\t\ttransportArray.push(this.$store.getters.deptName);\n\t\t\ttransportArray.push(formatDate(new Date()));\n\t\t\ttransportArray.push(document.getElementById('tip').innerHTML);\n\t\t\ttransportArray.push(row.cropsId);\n\t\t\ttransportArray.push('终点站');\n\t\t\tthis.$confirm('是否确认配送完毕', '配送', {\n\t\t\t\tconfirmButtonText: '确定',\n\t\t\t\tcancelButtonText: '取消',\n\t\t\t\ttype: 'warning'\n\t\t\t})\n\t\t\t\t.then(() => {\n\t\t\t\t\tthis.$httpBlock\n\t\t\t\t\t\t.post(this.$httpUrl + '/driverapi/createTransport', { transportArray: transportArray })\n\t\t\t\t\t\t.then(res => {\n\t\t\t\t\t\t\tif (res.status === 200) {\n\t\t\t\t\t\t\t\tthis.msgSuccess('数据上链成功');\n\t\t\t\t\t\t\t\tthis.growDialog = false;\n\t\t\t\t\t\t\t\tconst transportInfo = {\n\t\t\t\t\t\t\t\t\tlng: Number(document.getElementById('lng').innerHTML),\n\t\t\t\t\t\t\t\t\tlat: Number(document.getElementById('lat').innerHTML),\n\t\t\t\t\t\t\t\t\tcropsId: row.cropsId,\n\t\t\t\t\t\t\t\t\tstatus: 2,\n\t\t\t\t\t\t\t\t\tid: row.id,\n\t\t\t\t\t\t\t\t\toutFactoryStatus:0\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\tsaveAndUpdateTransportInfoToDb(transportInfo)\n\t\t\t\t\t\t\t\t\t.then(res => {\n\t\t\t\t\t\t\t\t\t\tthis.getList();\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t.catch(err => {\n\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\t\tthis.msgError('存储异常 ' + err);\n\t\t\t\t\t\t});\n\t\t\t\t\tthis.$message({\n\t\t\t\t\t\ttype: 'success',\n\t\t\t\t\t\tmessage: '配送成功!'\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t\t.catch(() => {\n\t\t\t\t\tthis.$message({\n\t\t\t\t\t\ttype: 'info',\n\t\t\t\t\t\tmessage: '取消'\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t},\n\n\t\ttransportLocation(row) {\n\t\t\tconst transportArray = [];\n\t\t\tconst id = new this.$snowFlakeId().generate();\n\t\t\ttransportArray.push(id);\n\t\t\ttransportArray.push(id);\n\t\t\ttransportArray.push(this.$store.getters.name);\n\t\t\ttransportArray.push(this.$store.getters.nickName);\n\t\t\ttransportArray.push(this.$store.getters.phonenumber);\n\t\t\ttransportArray.push(this.$store.getters.deptName);\n\t\t\ttransportArray.push(formatDate(new Date()));\n\t\t\ttransportArray.push(document.getElementById('tip').innerHTML);\n\t\t\ttransportArray.push(row.cropsId);\n\t\t\ttransportArray.push('中途定位');\n\t\t\tthis.$confirm(document.getElementById('tip').innerHTML, '定位', {\n\t\t\t\tconfirmButtonText: '确定',\n\t\t\t\tcancelButtonText: '取消',\n\t\t\t\ttype: 'warning'\n\t\t\t})\n\t\t\t\t.then(() => {\n\t\t\t\t\tthis.$httpBlock\n\t\t\t\t\t\t.post(this.$httpUrl + '/driverapi/createTransport', { transportArray: transportArray })\n\t\t\t\t\t\t.then(res => {\n\t\t\t\t\t\t\tif (res.status === 200) {\n\t\t\t\t\t\t\t\tthis.msgSuccess('数据上链成功');\n\t\t\t\t\t\t\t\tthis.growDialog = false;\n\t\t\t\t\t\t\t\tconst transportInfo = {\n\t\t\t\t\t\t\t\t\tlng: Number(document.getElementById('lng').innerHTML),\n\t\t\t\t\t\t\t\t\tlat: Number(document.getElementById('lat').innerHTML),\n\t\t\t\t\t\t\t\t\tcropsId: row.cropsId,\n\t\t\t\t\t\t\t\t\tstatus: 1,\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\tsaveAndUpdateTransportInfoToDb(transportInfo)\n\t\t\t\t\t\t\t\t\t.then(res => {\n\t\t\t\t\t\t\t\t\t\tthis.getList();\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t.catch(err => {\n\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\t\tthis.msgError('存储异常 ' + err);\n\t\t\t\t\t\t});\n\n\t\t\t\t})\n\t\t\t\t.catch(() => {\n\t\t\t\t\tthis.$message({\n\t\t\t\t\t\ttype: 'info',\n\t\t\t\t\t\tmessage: '取消定位'\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t},\n\t\t/**\n\t\t * @param {Object} row开始配送\n\t\t */\n\t\tstartTransport(row) {\n\t\t\tconst transportArray = [];\n\t\t\tconst id = new this.$snowFlakeId().generate();\n\t\t\ttransportArray.push(id);\n\t\t\ttransportArray.push(id);\n\t\t\ttransportArray.push(this.$store.getters.name);\n\t\t\ttransportArray.push(this.$store.getters.nickName);\n\t\t\ttransportArray.push(this.$store.getters.phonenumber);\n\t\t\ttransportArray.push(this.$store.getters.deptName);\n\t\t\ttransportArray.push(formatDate(new Date()));\n\t\t\ttransportArray.push(document.getElementById('tip').innerHTML);\n\t\t\ttransportArray.push(row.cropsId);\n\t\t\ttransportArray.push('始发地');\n\t\t\tthis.$confirm('是否开始运送货物', '提示', {\n\t\t\t\tconfirmButtonText: '确定',\n\t\t\t\tcancelButtonText: '取消',\n\t\t\t\ttype: 'warning'\n\t\t\t})\n\t\t\t\t.then(() => {\n\t\t\t\t\tthis.$httpBlock\n\t\t\t\t\t\t.post(this.$httpUrl + '/driverapi/createTransport', { transportArray: transportArray })\n\t\t\t\t\t\t.then(res => {\n\t\t\t\t\t\t\tif (res.status === 200) {\n\t\t\t\t\t\t\t\tthis.msgSuccess('数据上链成功');\n\t\t\t\t\t\t\t\tthis.growDialog = false;\n\t\t\t\t\t\t\t\tconst transportInfo = {\n\t\t\t\t\t\t\t\t\tlng: Number(document.getElementById('lng').innerHTML),\n\t\t\t\t\t\t\t\t\tlat: Number(document.getElementById('lat').innerHTML),\n\t\t\t\t\t\t\t\t\tcropsId: row.cropsId,\n\t\t\t\t\t\t\t\t\tid: row.id,\n\t\t\t\t\t\t\t\t\tstatus: 1,\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\tsaveAndUpdateTransportInfoToDb(transportInfo)\n\t\t\t\t\t\t\t\t\t.then(res => {\n\n\t\t\t\t\t\t\t\t\t\tthis.getList();\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t.catch(err => {\n\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\t\tthis.msgError('存储异常 ' + err);\n\t\t\t\t\t\t});\n\t\t\t\t\tthis.$message({\n\t\t\t\t\t\ttype: 'success',\n\t\t\t\t\t\tmessage: '开始运送!'\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t\t.catch(() => {\n\t\t\t\t\tthis.$message({\n\t\t\t\t\t\ttype: 'info',\n\t\t\t\t\t\tmessage: '已取消运送'\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t},\n\n\t\tgetList() {\n\t\t\tlistTransport(this.$store.getters.name).then(res => {\n\t\t\t\tthis.transportList = res.data;\n\t\t\t});\n\t\t},\n\t\t/** 转换部门数据结构 */\n\t\tnormalizer(node) {\n\t\t\tif (node.children && !node.children.length) {\n\t\t\t\tdelete node.children;\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tid: node.deptId,\n\t\t\t\tlabel: node.deptName,\n\t\t\t\tchildren: node.children\n\t\t\t};\n\t\t},\n\t\t// 字典状态字典翻译\n\t\tstatusFormat(row, column) {\n\t\t\treturn this.selectDictLabel(this.statusOptions, row.status);\n\t\t},\n\t\t// 取消按钮\n\t\tcancel() {\n\t\t\tthis.open = false;\n\t\t\tthis.reset();\n\t\t},\n\t\t// 表单重置\n\t\treset() {\n\t\t\tthis.form = {\n\t\t\t\tdeptId: undefined,\n\t\t\t\tparentId: undefined,\n\t\t\t\tdeptName: undefined,\n\t\t\t\torderNum: undefined,\n\t\t\t\tleader: undefined,\n\t\t\t\tphone: undefined,\n\t\t\t\temail: undefined,\n\t\t\t\tstatus: '0'\n\t\t\t};\n\t\t\tthis.resetForm('form');\n\t\t},\n\t\t/** 搜索按钮操作 */\n\t\thandleQuery() {\n\t\t\tthis.getList();\n\t\t},\n\t\t/** 重置按钮操作 */\n\t\tresetQuery() {\n\t\t\tthis.resetForm('queryForm');\n\t\t\tthis.handleQuery();\n\t\t},\n\t\t/** 新增按钮操作 */\n\t\thandleAdd(row) {\n\t\t\tthis.reset();\n\t\t\tif (row != undefined) {\n\t\t\t\tthis.form.parentId = row.deptId;\n\t\t\t}\n\t\t\tthis.open = true;\n\t\t\tthis.title = '添加部门';\n\t\t\tlistDept().then(response => {\n\t\t\t\tthis.deptOptions = this.handleTree(response.data, 'deptId');\n\t\t\t});\n\t\t},\n\t\t/** 修改按钮操作 */\n\t\thandleUpdate(row) {\n\t\t\tthis.reset();\n\t\t\tgetDept(row.deptId).then(response => {\n\t\t\t\tthis.form = response.data;\n\t\t\t\tthis.open = true;\n\t\t\t\tthis.title = '修改部门';\n\t\t\t});\n\t\t\tlistDeptExcludeChild(row.deptId).then(response => {\n\t\t\t\tthis.deptOptions = this.handleTree(response.data, 'deptId');\n\t\t\t});\n\t\t},\n\t\t/** 提交按钮 */\n\t\tsubmitForm: function() {\n\t\t\tthis.$refs['form'].validate(valid => {\n\t\t\t\tif (valid) {\n\t\t\t\t\tif (this.form.deptId != undefined) {\n\t\t\t\t\t\tupdateDept(this.form).then(response => {\n\t\t\t\t\t\t\tif (response.code === 200) {\n\t\t\t\t\t\t\t\tthis.msgSuccess('修改成功');\n\t\t\t\t\t\t\t\tthis.open = false;\n\t\t\t\t\t\t\t\tthis.getList();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\taddDept(this.form).then(response => {\n\t\t\t\t\t\t\tif (response.code === 200) {\n\t\t\t\t\t\t\t\tthis.msgSuccess('新增成功');\n\t\t\t\t\t\t\t\tthis.open = false;\n\t\t\t\t\t\t\t\tthis.getList();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/** 删除按钮操作 */\n\t\thandleDelete(row) {\n\t\t\tthis.$confirm('是否确认删除名称为\"' + row.deptName + '\"的数据项?', '警告', {\n\t\t\t\tconfirmButtonText: '确定',\n\t\t\t\tcancelButtonText: '取消',\n\t\t\t\ttype: 'warning'\n\t\t\t})\n\t\t\t\t.then(function() {\n\t\t\t\t\treturn delDept(row.deptId);\n\t\t\t\t})\n\t\t\t\t.then(() => {\n\t\t\t\t\tthis.getList();\n\t\t\t\t\tthis.msgSuccess('删除成功');\n\t\t\t\t})\n\t\t\t\t.catch(function() {});\n\t\t}\n\t}\n};\n</script>\n"]}]}