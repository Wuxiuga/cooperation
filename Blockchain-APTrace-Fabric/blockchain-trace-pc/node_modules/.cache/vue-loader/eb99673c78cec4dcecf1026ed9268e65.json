{"remainingRequest":"/Users/libaojian/Desktop/Blockchain-APTrace-Fabric/blockchain-trace-pc/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/libaojian/Desktop/Blockchain-APTrace-Fabric/blockchain-trace-pc/src/views/trace/driver/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/libaojian/Desktop/Blockchain-APTrace-Fabric/blockchain-trace-pc/src/views/trace/driver/index.vue","mtime":1650511200000},{"path":"/Users/libaojian/Desktop/Blockchain-APTrace-Fabric/blockchain-trace-pc/node_modules/cache-loader/dist/cjs.js","mtime":1645761092000},{"path":"/Users/libaojian/Desktop/Blockchain-APTrace-Fabric/blockchain-trace-pc/node_modules/babel-loader/lib/index.js","mtime":1645761092000},{"path":"/Users/libaojian/Desktop/Blockchain-APTrace-Fabric/blockchain-trace-pc/node_modules/cache-loader/dist/cjs.js","mtime":1645761092000},{"path":"/Users/libaojian/Desktop/Blockchain-APTrace-Fabric/blockchain-trace-pc/node_modules/vue-loader/lib/index.js","mtime":1645761092000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGxpc3REZXB0LCBnZXREZXB0LCBkZWxEZXB0LCBhZGREZXB0LCB1cGRhdGVEZXB0LCBsaXN0RGVwdEV4Y2x1ZGVDaGlsZCB9IGZyb20gJ0AvYXBpL3N5c3RlbS9kZXB0JzsKaW1wb3J0IHsgbGlzdFRyYW5zcG9ydCwgc2F2ZUFuZFVwZGF0ZVRyYW5zcG9ydEluZm9Ub0RiICx1cGRhdGVUcmFuc3BvcnRTdGF0dXN9IGZyb20gJy4uLy4uLy4uL2FwaS90cmFjZS9kcml2ZXInOwppbXBvcnQgVHJlZXNlbGVjdCBmcm9tICdAcmlvcGhhZS92dWUtdHJlZXNlbGVjdCc7CmltcG9ydCAnQHJpb3BoYWUvdnVlLXRyZWVzZWxlY3QvZGlzdC92dWUtdHJlZXNlbGVjdC5jc3MnOwppbXBvcnQgeyBmb3JtYXREYXRlIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvaW5kZXguanMnOwpleHBvcnQgZGVmYXVsdCB7CgluYW1lOiAnRGVwdCcsCgljb21wb25lbnRzOiB7IFRyZWVzZWxlY3QgfSwKCWRhdGEoKSB7CgkJcmV0dXJuIHsKCQkJbm90aWNlRGV0YWlEaWFsb2c6IGZhbHNlLAoJCQkvLyDpga7nvanlsYIKCQkJbG9hZGluZzogdHJ1ZSwKCQkJLy8g5pi+56S65pCc57Si5p2h5Lu2CgkJCXNob3dTZWFyY2g6IHRydWUsCgkJCS8vIOihqOagvOagkeaVsOaNrgoJCQlkZXB0TGlzdDogW10sCgkJCS8vIOmDqOmXqOagkemAiemhuQoJCQlkZXB0T3B0aW9uczogW10sCgkJCS8vIOW8ueWHuuWxguagh+mimAoJCQl0aXRsZTogJycsCgkJCS8vIOaYr+WQpuaYvuekuuW8ueWHuuWxggoJCQlvcGVuOiBmYWxzZSwKCQkJLy8g54q25oCB5pWw5o2u5a2X5YW4CgkJCXN0YXR1c09wdGlvbnM6IFtdLAoJCQkvLyDmn6Xor6Llj4LmlbAKCQkJcXVlcnlQYXJhbXM6IHsKCQkJCWRlcHROYW1lOiB1bmRlZmluZWQsCgkJCQlzdGF0dXM6IHVuZGVmaW5lZAoJCQl9LAoJCQkvLyDooajljZXlj4LmlbAKCQkJZm9ybToge30sCgoJCQl0cmFuc3BvcnRMaXN0OiBbXSwKCQkJY2l0eURldGFpbDogJycsCgkJCWxuZzogTnVtYmVyLAoJCQlsYXQ6IE51bWJlcgoJCX07Cgl9LAoJY3JlYXRlZCgpIHsKCQl0aGlzLmdldExpc3QoKTsKCX0sCgoJbW91bnRlZCgpIHsKCQlBTWFwLnBsdWdpbignQU1hcC5HZW9sb2NhdGlvbicsIGZ1bmN0aW9uKCkgewoJCQl2YXIgZ2VvbG9jYXRpb24gPSBuZXcgQU1hcC5HZW9sb2NhdGlvbih7CgkJCQkvLyDmmK/lkKbkvb/nlKjpq5jnsr7luqblrprkvY3vvIzpu5jorqTvvJp0cnVlCgkJCQllbmFibGVIaWdoQWNjdXJhY3k6IHRydWUsCgkJCQkvLyDorr7nva7lrprkvY3otoXml7bml7bpl7TvvIzpu5jorqTvvJrml6DnqbflpKcKCQkJCXRpbWVvdXQ6IDEwMDAwLAoJCQkJLy8g5a6a5L2N5oyJ6ZKu55qE5YGc6Z2g5L2N572u55qE5YGP56e76YeP77yM6buY6K6k77yaUGl4ZWwoMTAsIDIwKQoJCQkJYnV0dG9uT2Zmc2V0OiBuZXcgQU1hcC5QaXhlbCgxMCwgMjApLAoJCQkJLy8gIOWumuS9jeaIkOWKn+WQjuiwg+aVtOWcsOWbvuinhumHjuiMg+WbtOS9v+WumuS9jeS9jee9ruWPiueyvuW6puiMg+WbtOinhumHjuWGheWPr+inge+8jOm7mOiupO+8mmZhbHNlCgkJCQl6b29tVG9BY2N1cmFjeTogdHJ1ZSwKCQkJCS8vICDlrprkvY3mjInpkq7nmoTmjpLmlL7kvY3nva4sICBSQuihqOekuuWPs+S4iwoJCQkJYnV0dG9uUG9zaXRpb246ICdSQicKCQkJfSk7CgkJCWdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbigpOwoJCQlBTWFwLmV2ZW50LmFkZExpc3RlbmVyKGdlb2xvY2F0aW9uLCAnY29tcGxldGUnLCBvbkNvbXBsZXRlKTsKCQkJQU1hcC5ldmVudC5hZGRMaXN0ZW5lcihnZW9sb2NhdGlvbiwgJ2Vycm9yJywgb25FcnJvcik7CgkJCWZ1bmN0aW9uIG9uQ29tcGxldGUoZGF0YSkgewoJCQkJdGhpcy5jaXR5RGV0YWlsID0gZGF0YS5hZGRyZXNzQ29tcG9uZW50LnByb3ZpbmNlICsgZGF0YS5hZGRyZXNzQ29tcG9uZW50LmNpdHkgKyBkYXRhLmFkZHJlc3NDb21wb25lbnQuZGlzdHJpY3QgKyBkYXRhLmFkZHJlc3NDb21wb25lbnQudG93bnNoaXA7CgkJCQl0aGlzLmxuZyA9IGRhdGEucG9zaXRpb24ubG5nOwoJCQkJdGhpcy5sYXQgPSBkYXRhLnBvc2l0aW9uLmxhdDsKCQkJCWNvbnN0IHN0ciA9IFtdOwoJCQkJc3RyLnB1c2goZGF0YS5wb3NpdGlvbi5sbmcpOwoJCQkJc3RyLnB1c2goZGF0YS5wb3NpdGlvbi5sYXQpOwoJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xuZycpLmlubmVySFRNTCA9IGRhdGEucG9zaXRpb24ubG5nOwoJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xhdCcpLmlubmVySFRNTCA9IGRhdGEucG9zaXRpb24ubGF0OwoJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RpcCcpLmlubmVySFRNTCA9IHRoaXMuY2l0eURldGFpbDsKCQkJfQoJCQlmdW5jdGlvbiBvbkVycm9yKGRhdGEpIHsKCQkJCWNvbnNvbGUubG9nKCflrprkvY3plJnor68gICAnICsgSlNPTi5zdHJpbmdpZnkoZGF0YSkpOwoJCQl9CgkJfSk7Cgl9LAoKCW1ldGhvZHM6IHsKCQlpc09rKHJvdyl7CgkJCWNvbnN0IHRyYW5zcG9ydEFycmF5ID0gW107CgkJCWNvbnN0IGlkID0gbmV3IHRoaXMuJHNub3dGbGFrZUlkKCkuZ2VuZXJhdGUoKTsKCQkJdHJhbnNwb3J0QXJyYXkucHVzaChpZCk7CgkJCXRyYW5zcG9ydEFycmF5LnB1c2goaWQpOwoJCQl0cmFuc3BvcnRBcnJheS5wdXNoKHRoaXMuJHN0b3JlLmdldHRlcnMubmFtZSk7CgkJCXRyYW5zcG9ydEFycmF5LnB1c2godGhpcy4kc3RvcmUuZ2V0dGVycy5uaWNrTmFtZSk7CgkJCXRyYW5zcG9ydEFycmF5LnB1c2godGhpcy4kc3RvcmUuZ2V0dGVycy5waG9uZW51bWJlcik7CgkJCXRyYW5zcG9ydEFycmF5LnB1c2godGhpcy4kc3RvcmUuZ2V0dGVycy5kZXB0TmFtZSk7CgkJCXRyYW5zcG9ydEFycmF5LnB1c2goZm9ybWF0RGF0ZShuZXcgRGF0ZSgpKSk7CgkJCXRyYW5zcG9ydEFycmF5LnB1c2goZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RpcCcpLmlubmVySFRNTCk7CgkJCXRyYW5zcG9ydEFycmF5LnB1c2gocm93LmNyb3BzSWQpOwoJCQl0cmFuc3BvcnRBcnJheS5wdXNoKCfnu4jngrnnq5knKTsKCQkJdGhpcy4kY29uZmlybSgn5piv5ZCm56Gu6K6k6YCa55+l5a6M5q+VJywgJ+mAmuefpScsIHsKCQkJCWNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKCQkJCWNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLAoJCQkJdHlwZTogJ3dhcm5pbmcnCgkJCX0pCgkJCQkudGhlbigoKSA9PiB7CgkJCQkJdGhpcy4kaHR0cEJsb2NrCgkJCQkJCS5wb3N0KHRoaXMuJGh0dHBVcmwgKyAnL2RyaXZlcmFwaS9jcmVhdGVUcmFuc3BvcnQnLCB7IHRyYW5zcG9ydEFycmF5OiB0cmFuc3BvcnRBcnJheSB9KQoJCQkJCQkudGhlbihyZXMgPT4gewoJCQkJCQkJaWYgKHJlcy5zdGF0dXMgPT09IDIwMCkgewoJCQkJCQkJCXRoaXMubXNnU3VjY2Vzcygn5pWw5o2u5LiK6ZO+5oiQ5YqfJyk7CgkJCQkJCQkJdGhpcy5ncm93RGlhbG9nID0gZmFsc2U7CgkJCQkJCQkJY29uc3QgdHJhbnNwb3J0SW5mbyA9IHsKCQkJCQkJCQkJbG5nOiBOdW1iZXIoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xuZycpLmlubmVySFRNTCksCgkJCQkJCQkJCWxhdDogTnVtYmVyKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsYXQnKS5pbm5lckhUTUwpLAoJCQkJCQkJCQljcm9wc0lkOiByb3cuY3JvcHNJZCwKCQkJCQkJCQkJc3RhdHVzOiAyLAoJCQkJCQkJCQlpZDogcm93LmlkLAoJCQkJCQkJCQlvdXRGYWN0b3J5U3RhdHVzOjAKCQkJCQkJCQl9OwoJCQkJCQkJCXNhdmVBbmRVcGRhdGVUcmFuc3BvcnRJbmZvVG9EYih0cmFuc3BvcnRJbmZvKQoJCQkJCQkJCQkudGhlbihyZXMgPT4gewoJCQkJCQkJCQkJdGhpcy5nZXRMaXN0KCk7CgkJCQkJCQkJCX0pCgkJCQkJCQkJCS5jYXRjaChlcnIgPT4gewoKCQkJCQkJCQkJfSk7CgkJCQkJCQl9CgkJCQkJCX0pCgkJCQkJCS5jYXRjaChlcnIgPT4gewoJCQkJCQkJdGhpcy5tc2dFcnJvcign5a2Y5YKo5byC5bi4ICcgKyBlcnIpOwoJCQkJCQl9KTsKCQkJCQl0aGlzLiRtZXNzYWdlKHsKCQkJCQkJdHlwZTogJ3N1Y2Nlc3MnLAoJCQkJCQltZXNzYWdlOiAn6YCa55+l5oiQ5YqfIScKCQkJCQl9KTsKCQkJCX0pCgkJCQkuY2F0Y2goKCkgPT4gewoJCQkJCXRoaXMuJG1lc3NhZ2UoewoJCQkJCQl0eXBlOiAnaW5mbycsCgkJCQkJCW1lc3NhZ2U6ICflj5bmtognCgkJCQkJfSk7CgkJCQl9KTsKCQl9LAoKCQl0cmFuc3BvcnRMb2NhdGlvbihyb3cpIHsKCQkJY29uc3QgdHJhbnNwb3J0QXJyYXkgPSBbXTsKCQkJY29uc3QgaWQgPSBuZXcgdGhpcy4kc25vd0ZsYWtlSWQoKS5nZW5lcmF0ZSgpOwoJCQl0cmFuc3BvcnRBcnJheS5wdXNoKGlkKTsKCQkJdHJhbnNwb3J0QXJyYXkucHVzaChpZCk7CgkJCXRyYW5zcG9ydEFycmF5LnB1c2godGhpcy4kc3RvcmUuZ2V0dGVycy5uYW1lKTsKCQkJdHJhbnNwb3J0QXJyYXkucHVzaCh0aGlzLiRzdG9yZS5nZXR0ZXJzLm5pY2tOYW1lKTsKCQkJdHJhbnNwb3J0QXJyYXkucHVzaCh0aGlzLiRzdG9yZS5nZXR0ZXJzLnBob25lbnVtYmVyKTsKCQkJdHJhbnNwb3J0QXJyYXkucHVzaCh0aGlzLiRzdG9yZS5nZXR0ZXJzLmRlcHROYW1lKTsKCQkJdHJhbnNwb3J0QXJyYXkucHVzaChmb3JtYXREYXRlKG5ldyBEYXRlKCkpKTsKCQkJdHJhbnNwb3J0QXJyYXkucHVzaChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGlwJykuaW5uZXJIVE1MKTsKCQkJdHJhbnNwb3J0QXJyYXkucHVzaChyb3cuY3JvcHNJZCk7CgkJCXRyYW5zcG9ydEFycmF5LnB1c2goJ+S4remAlOWumuS9jScpOwoJCQl0aGlzLiRjb25maXJtKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0aXAnKS5pbm5lckhUTUwsICflrprkvY0nLCB7CgkJCQljb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCgkJCQljYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKCQkJCXR5cGU6ICd3YXJuaW5nJwoJCQl9KQoJCQkJLnRoZW4oKCkgPT4gewoJCQkJCXRoaXMuJGh0dHBCbG9jawoJCQkJCQkucG9zdCh0aGlzLiRodHRwVXJsICsgJy9kcml2ZXJhcGkvY3JlYXRlVHJhbnNwb3J0JywgeyB0cmFuc3BvcnRBcnJheTogdHJhbnNwb3J0QXJyYXkgfSkKCQkJCQkJLnRoZW4ocmVzID0+IHsKCQkJCQkJCWlmIChyZXMuc3RhdHVzID09PSAyMDApIHsKCQkJCQkJCQl0aGlzLm1zZ1N1Y2Nlc3MoJ+aVsOaNruS4iumTvuaIkOWKnycpOwoJCQkJCQkJCXRoaXMuZ3Jvd0RpYWxvZyA9IGZhbHNlOwoJCQkJCQkJCWNvbnN0IHRyYW5zcG9ydEluZm8gPSB7CgkJCQkJCQkJCWxuZzogTnVtYmVyKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsbmcnKS5pbm5lckhUTUwpLAoJCQkJCQkJCQlsYXQ6IE51bWJlcihkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGF0JykuaW5uZXJIVE1MKSwKCQkJCQkJCQkJY3JvcHNJZDogcm93LmNyb3BzSWQsCgkJCQkJCQkJCXN0YXR1czogMSwKCQkJCQkJCQl9OwoJCQkJCQkJCXNhdmVBbmRVcGRhdGVUcmFuc3BvcnRJbmZvVG9EYih0cmFuc3BvcnRJbmZvKQoJCQkJCQkJCQkudGhlbihyZXMgPT4gewoJCQkJCQkJCQkJdGhpcy5nZXRMaXN0KCk7CgkJCQkJCQkJCX0pCgkJCQkJCQkJCS5jYXRjaChlcnIgPT4gewoKCQkJCQkJCQkJfSk7CgkJCQkJCQl9CgkJCQkJCX0pCgkJCQkJCS5jYXRjaChlcnIgPT4gewoJCQkJCQkJdGhpcy5tc2dFcnJvcign5a2Y5YKo5byC5bi4ICcgKyBlcnIpOwoJCQkJCQl9KTsKCgkJCQl9KQoJCQkJLmNhdGNoKCgpID0+IHsKCQkJCQl0aGlzLiRtZXNzYWdlKHsKCQkJCQkJdHlwZTogJ2luZm8nLAoJCQkJCQltZXNzYWdlOiAn5Y+W5raI5a6a5L2NJwoJCQkJCX0pOwoJCQkJfSk7CgkJfSwKCQkvKioKCQkgKiBAcGFyYW0ge09iamVjdH0gcm935byA5aeL6YWN6YCBCgkJICovCgkJc3RhcnRUcmFuc3BvcnQocm93KSB7CgkJCWNvbnN0IHRyYW5zcG9ydEFycmF5ID0gW107CgkJCWNvbnN0IGlkID0gbmV3IHRoaXMuJHNub3dGbGFrZUlkKCkuZ2VuZXJhdGUoKTsKCQkJdHJhbnNwb3J0QXJyYXkucHVzaChpZCk7CgkJCXRyYW5zcG9ydEFycmF5LnB1c2goaWQpOwoJCQl0cmFuc3BvcnRBcnJheS5wdXNoKHRoaXMuJHN0b3JlLmdldHRlcnMubmFtZSk7CgkJCXRyYW5zcG9ydEFycmF5LnB1c2godGhpcy4kc3RvcmUuZ2V0dGVycy5uaWNrTmFtZSk7CgkJCXRyYW5zcG9ydEFycmF5LnB1c2godGhpcy4kc3RvcmUuZ2V0dGVycy5waG9uZW51bWJlcik7CgkJCXRyYW5zcG9ydEFycmF5LnB1c2godGhpcy4kc3RvcmUuZ2V0dGVycy5kZXB0TmFtZSk7CgkJCXRyYW5zcG9ydEFycmF5LnB1c2goZm9ybWF0RGF0ZShuZXcgRGF0ZSgpKSk7CgkJCXRyYW5zcG9ydEFycmF5LnB1c2goZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RpcCcpLmlubmVySFRNTCk7CgkJCXRyYW5zcG9ydEFycmF5LnB1c2gocm93LmNyb3BzSWQpOwoJCQl0cmFuc3BvcnRBcnJheS5wdXNoKCflp4vlj5HlnLAnKTsKCQkJdGhpcy4kY29uZmlybSgn5piv5ZCm5byA5aeL6YCa55+lJywgJ+aPkOekuicsIHsKCQkJCWNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKCQkJCWNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLAoJCQkJdHlwZTogJ3dhcm5pbmcnCgkJCX0pCgkJCQkudGhlbigoKSA9PiB7CgkJCQkJdGhpcy4kaHR0cEJsb2NrCgkJCQkJCS5wb3N0KHRoaXMuJGh0dHBVcmwgKyAnL2RyaXZlcmFwaS9jcmVhdGVUcmFuc3BvcnQnLCB7IHRyYW5zcG9ydEFycmF5OiB0cmFuc3BvcnRBcnJheSB9KQoJCQkJCQkudGhlbihyZXMgPT4gewoJCQkJCQkJaWYgKHJlcy5zdGF0dXMgPT09IDIwMCkgewoJCQkJCQkJCXRoaXMubXNnU3VjY2Vzcygn5pWw5o2u5LiK6ZO+5oiQ5YqfJyk7CgkJCQkJCQkJdGhpcy5ncm93RGlhbG9nID0gZmFsc2U7CgkJCQkJCQkJY29uc3QgdHJhbnNwb3J0SW5mbyA9IHsKCQkJCQkJCQkJbG5nOiBOdW1iZXIoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xuZycpLmlubmVySFRNTCksCgkJCQkJCQkJCWxhdDogTnVtYmVyKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsYXQnKS5pbm5lckhUTUwpLAoJCQkJCQkJCQljcm9wc0lkOiByb3cuY3JvcHNJZCwKCQkJCQkJCQkJaWQ6IHJvdy5pZCwKCQkJCQkJCQkJc3RhdHVzOiAxLAoJCQkJCQkJCX07CgkJCQkJCQkJc2F2ZUFuZFVwZGF0ZVRyYW5zcG9ydEluZm9Ub0RiKHRyYW5zcG9ydEluZm8pCgkJCQkJCQkJCS50aGVuKHJlcyA9PiB7CgoJCQkJCQkJCQkJdGhpcy5nZXRMaXN0KCk7CgkJCQkJCQkJCX0pCgkJCQkJCQkJCS5jYXRjaChlcnIgPT4gewoKCQkJCQkJCQkJfSk7CgkJCQkJCQl9CgkJCQkJCX0pCgkJCQkJCS5jYXRjaChlcnIgPT4gewoJCQkJCQkJdGhpcy5tc2dFcnJvcign5a2Y5YKo5byC5bi4ICcgKyBlcnIpOwoJCQkJCQl9KTsKCQkJCQl0aGlzLiRtZXNzYWdlKHsKCQkJCQkJdHlwZTogJ3N1Y2Nlc3MnLAoJCQkJCQltZXNzYWdlOiAn5bey6YCa55+lIScKCQkJCQl9KTsKCQkJCX0pCgkJCQkuY2F0Y2goKCkgPT4gewoJCQkJCXRoaXMuJG1lc3NhZ2UoewoJCQkJCQl0eXBlOiAnaW5mbycsCgkJCQkJCW1lc3NhZ2U6ICflt7Llj5bmtojpgJrnn6UnCgkJCQkJfSk7CgkJCQl9KTsKCQl9LAoKCQlnZXRMaXN0KCkgewoJCQlsaXN0VHJhbnNwb3J0KHRoaXMuJHN0b3JlLmdldHRlcnMubmFtZSkudGhlbihyZXMgPT4gewoJCQkJdGhpcy50cmFuc3BvcnRMaXN0ID0gcmVzLmRhdGE7CgkJCX0pOwoJCX0sCgkJLyoqIOi9rOaNoumDqOmXqOaVsOaNrue7k+aehCAqLwoJCW5vcm1hbGl6ZXIobm9kZSkgewoJCQlpZiAobm9kZS5jaGlsZHJlbiAmJiAhbm9kZS5jaGlsZHJlbi5sZW5ndGgpIHsKCQkJCWRlbGV0ZSBub2RlLmNoaWxkcmVuOwoJCQl9CgkJCXJldHVybiB7CgkJCQlpZDogbm9kZS5kZXB0SWQsCgkJCQlsYWJlbDogbm9kZS5kZXB0TmFtZSwKCQkJCWNoaWxkcmVuOiBub2RlLmNoaWxkcmVuCgkJCX07CgkJfSwKCQkvLyDlrZflhbjnirbmgIHlrZflhbjnv7vor5EKCQlzdGF0dXNGb3JtYXQocm93LCBjb2x1bW4pIHsKCQkJcmV0dXJuIHRoaXMuc2VsZWN0RGljdExhYmVsKHRoaXMuc3RhdHVzT3B0aW9ucywgcm93LnN0YXR1cyk7CgkJfSwKCQkvLyDlj5bmtojmjInpkq4KCQljYW5jZWwoKSB7CgkJCXRoaXMub3BlbiA9IGZhbHNlOwoJCQl0aGlzLnJlc2V0KCk7CgkJfSwKCQkvLyDooajljZXph43nva4KCQlyZXNldCgpIHsKCQkJdGhpcy5mb3JtID0gewoJCQkJZGVwdElkOiB1bmRlZmluZWQsCgkJCQlwYXJlbnRJZDogdW5kZWZpbmVkLAoJCQkJZGVwdE5hbWU6IHVuZGVmaW5lZCwKCQkJCW9yZGVyTnVtOiB1bmRlZmluZWQsCgkJCQlsZWFkZXI6IHVuZGVmaW5lZCwKCQkJCXBob25lOiB1bmRlZmluZWQsCgkJCQllbWFpbDogdW5kZWZpbmVkLAoJCQkJc3RhdHVzOiAnMCcKCQkJfTsKCQkJdGhpcy5yZXNldEZvcm0oJ2Zvcm0nKTsKCQl9LAoJCS8qKiDmkJzntKLmjInpkq7mk43kvZwgKi8KCQloYW5kbGVRdWVyeSgpIHsKCQkJdGhpcy5nZXRMaXN0KCk7CgkJfSwKCQkvKiog6YeN572u5oyJ6ZKu5pON5L2cICovCgkJcmVzZXRRdWVyeSgpIHsKCQkJdGhpcy5yZXNldEZvcm0oJ3F1ZXJ5Rm9ybScpOwoJCQl0aGlzLmhhbmRsZVF1ZXJ5KCk7CgkJfSwKCQkvKiog5paw5aKe5oyJ6ZKu5pON5L2cICovCgkJaGFuZGxlQWRkKHJvdykgewoJCQl0aGlzLnJlc2V0KCk7CgkJCWlmIChyb3cgIT0gdW5kZWZpbmVkKSB7CgkJCQl0aGlzLmZvcm0ucGFyZW50SWQgPSByb3cuZGVwdElkOwoJCQl9CgkJCXRoaXMub3BlbiA9IHRydWU7CgkJCXRoaXMudGl0bGUgPSAn5re75Yqg6YOo6ZeoJzsKCQkJbGlzdERlcHQoKS50aGVuKHJlc3BvbnNlID0+IHsKCQkJCXRoaXMuZGVwdE9wdGlvbnMgPSB0aGlzLmhhbmRsZVRyZWUocmVzcG9uc2UuZGF0YSwgJ2RlcHRJZCcpOwoJCQl9KTsKCQl9LAoJCS8qKiDkv67mlLnmjInpkq7mk43kvZwgKi8KCQloYW5kbGVVcGRhdGUocm93KSB7CgkJCXRoaXMucmVzZXQoKTsKCQkJZ2V0RGVwdChyb3cuZGVwdElkKS50aGVuKHJlc3BvbnNlID0+IHsKCQkJCXRoaXMuZm9ybSA9IHJlc3BvbnNlLmRhdGE7CgkJCQl0aGlzLm9wZW4gPSB0cnVlOwoJCQkJdGhpcy50aXRsZSA9ICfkv67mlLnpg6jpl6gnOwoJCQl9KTsKCQkJbGlzdERlcHRFeGNsdWRlQ2hpbGQocm93LmRlcHRJZCkudGhlbihyZXNwb25zZSA9PiB7CgkJCQl0aGlzLmRlcHRPcHRpb25zID0gdGhpcy5oYW5kbGVUcmVlKHJlc3BvbnNlLmRhdGEsICdkZXB0SWQnKTsKCQkJfSk7CgkJfSwKCQkvKiog5o+Q5Lqk5oyJ6ZKuICovCgkJc3VibWl0Rm9ybTogZnVuY3Rpb24oKSB7CgkJCXRoaXMuJHJlZnNbJ2Zvcm0nXS52YWxpZGF0ZSh2YWxpZCA9PiB7CgkJCQlpZiAodmFsaWQpIHsKCQkJCQlpZiAodGhpcy5mb3JtLmRlcHRJZCAhPSB1bmRlZmluZWQpIHsKCQkJCQkJdXBkYXRlRGVwdCh0aGlzLmZvcm0pLnRoZW4ocmVzcG9uc2UgPT4gewoJCQkJCQkJaWYgKHJlc3BvbnNlLmNvZGUgPT09IDIwMCkgewoJCQkJCQkJCXRoaXMubXNnU3VjY2Vzcygn5L+u5pS55oiQ5YqfJyk7CgkJCQkJCQkJdGhpcy5vcGVuID0gZmFsc2U7CgkJCQkJCQkJdGhpcy5nZXRMaXN0KCk7CgkJCQkJCQl9CgkJCQkJCX0pOwoJCQkJCX0gZWxzZSB7CgkJCQkJCWFkZERlcHQodGhpcy5mb3JtKS50aGVuKHJlc3BvbnNlID0+IHsKCQkJCQkJCWlmIChyZXNwb25zZS5jb2RlID09PSAyMDApIHsKCQkJCQkJCQl0aGlzLm1zZ1N1Y2Nlc3MoJ+aWsOWinuaIkOWKnycpOwoJCQkJCQkJCXRoaXMub3BlbiA9IGZhbHNlOwoJCQkJCQkJCXRoaXMuZ2V0TGlzdCgpOwoJCQkJCQkJfQoJCQkJCQl9KTsKCQkJCQl9CgkJCQl9CgkJCX0pOwoJCX0sCgkJLyoqIOWIoOmZpOaMiemSruaTjeS9nCAqLwoJCWhhbmRsZURlbGV0ZShyb3cpIHsKCQkJdGhpcy4kY29uZmlybSgn5piv5ZCm56Gu6K6k5Yig6Zmk5ZCN56ew5Li6IicgKyByb3cuZGVwdE5hbWUgKyAnIueahOaVsOaNrumhuT8nLCAn6K2m5ZGKJywgewoJCQkJY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAoJCQkJY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCgkJCQl0eXBlOiAnd2FybmluZycKCQkJfSkKCQkJCS50aGVuKGZ1bmN0aW9uKCkgewoJCQkJCXJldHVybiBkZWxEZXB0KHJvdy5kZXB0SWQpOwoJCQkJfSkKCQkJCS50aGVuKCgpID0+IHsKCQkJCQl0aGlzLmdldExpc3QoKTsKCQkJCQl0aGlzLm1zZ1N1Y2Nlc3MoJ+WIoOmZpOaIkOWKnycpOwoJCQkJfSkKCQkJCS5jYXRjaChmdW5jdGlvbigpIHt9KTsKCQl9Cgl9Cn07Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/trace/driver","sourcesContent":["<template>\n\t<div class=\"app-container\">\n\t\t<el-divider>待通知事项</el-divider>\n\n\t\t<br />\n\t\t<el-table :data=\"transportList\">\n\t\t\t<el-table-column type=\"selection\" width=\"55\" align=\"center\" />\n\t\t\t<el-table-column label=\"需求编号\" prop=\"cropsId\" />\n<!--\t\t\t<el-table-column label=\"通知人\" prop=\"farmerNickName\" />-->\n<!--\t\t\t<el-table-column label=\"部门\" prop=\"farmerDept\" />-->\n\t\t\t<el-table-column label=\"时间\" prop=\"time\" />\n\t\t\t<el-table-column label=\"备注\" prop=\"remarks\" />\n\t\t\t<el-table-column label=\"状态\" prop=\"status\">\n\t\t\t\t<template slot-scope=\"scope\">\n\t\t\t\t\t<el-tag v-if=\"scope.row.status === 0\">未处理</el-tag>\n\t\t\t\t\t<el-tag v-if=\"scope.row.status === 1\">处理中</el-tag>\n\t\t\t\t\t<el-tag v-if=\"scope.row.status === 2\">处理完成</el-tag>\n\t\t\t\t</template>\n\t\t\t</el-table-column>\n\t\t\t<el-table-column label=\"操作\" align=\"center\" class-name=\"small-padding fixed-width\">\n\t\t\t\t<template slot-scope=\"scope\">\n\t\t\t\t\t<el-button v-show=\"scope.row.status === 0\" size=\"mini\" type=\"text\" @click=\"startTransport(scope.row)\">通知</el-button>\n<!--\t\t\t\t\t<el-button v-show=\"scope.row.status === 1\" size=\"mini\" type=\"text\" @click=\"transportLocation(scope.row)\">中途定位</el-button>-->\n\t\t\t\t\t<el-button v-show=\"scope.row.status === 1\" size=\"mini\" type=\"text\" @click=\"isOk(scope.row)\">通知完毕</el-button>\n<!--\t\t\t\t\t<el-button size=\"mini\" type=\"text\" @click=\"isOk(scope.row)\">物流追踪</el-button>-->\n\t\t\t\t</template>\n\t\t\t</el-table-column>\n\t\t</el-table>\n\n\t\t<div v-show=\"false\" id=\"tip\"></div>\n\t\t<div v-show=\"false\" id=\"lng\"></div>\n\t\t<div v-show=\"false\" id=\"lat\"></div>\n\t</div>\n</template>\n\n<script>\nimport { listDept, getDept, delDept, addDept, updateDept, listDeptExcludeChild } from '@/api/system/dept';\nimport { listTransport, saveAndUpdateTransportInfoToDb ,updateTransportStatus} from '../../../api/trace/driver';\nimport Treeselect from '@riophae/vue-treeselect';\nimport '@riophae/vue-treeselect/dist/vue-treeselect.css';\nimport { formatDate } from '../../../utils/index.js';\nexport default {\n\tname: 'Dept',\n\tcomponents: { Treeselect },\n\tdata() {\n\t\treturn {\n\t\t\tnoticeDetaiDialog: false,\n\t\t\t// 遮罩层\n\t\t\tloading: true,\n\t\t\t// 显示搜索条件\n\t\t\tshowSearch: true,\n\t\t\t// 表格树数据\n\t\t\tdeptList: [],\n\t\t\t// 部门树选项\n\t\t\tdeptOptions: [],\n\t\t\t// 弹出层标题\n\t\t\ttitle: '',\n\t\t\t// 是否显示弹出层\n\t\t\topen: false,\n\t\t\t// 状态数据字典\n\t\t\tstatusOptions: [],\n\t\t\t// 查询参数\n\t\t\tqueryParams: {\n\t\t\t\tdeptName: undefined,\n\t\t\t\tstatus: undefined\n\t\t\t},\n\t\t\t// 表单参数\n\t\t\tform: {},\n\n\t\t\ttransportList: [],\n\t\t\tcityDetail: '',\n\t\t\tlng: Number,\n\t\t\tlat: Number\n\t\t};\n\t},\n\tcreated() {\n\t\tthis.getList();\n\t},\n\n\tmounted() {\n\t\tAMap.plugin('AMap.Geolocation', function() {\n\t\t\tvar geolocation = new AMap.Geolocation({\n\t\t\t\t// 是否使用高精度定位，默认：true\n\t\t\t\tenableHighAccuracy: true,\n\t\t\t\t// 设置定位超时时间，默认：无穷大\n\t\t\t\ttimeout: 10000,\n\t\t\t\t// 定位按钮的停靠位置的偏移量，默认：Pixel(10, 20)\n\t\t\t\tbuttonOffset: new AMap.Pixel(10, 20),\n\t\t\t\t//  定位成功后调整地图视野范围使定位位置及精度范围视野内可见，默认：false\n\t\t\t\tzoomToAccuracy: true,\n\t\t\t\t//  定位按钮的排放位置,  RB表示右下\n\t\t\t\tbuttonPosition: 'RB'\n\t\t\t});\n\t\t\tgeolocation.getCurrentPosition();\n\t\t\tAMap.event.addListener(geolocation, 'complete', onComplete);\n\t\t\tAMap.event.addListener(geolocation, 'error', onError);\n\t\t\tfunction onComplete(data) {\n\t\t\t\tthis.cityDetail = data.addressComponent.province + data.addressComponent.city + data.addressComponent.district + data.addressComponent.township;\n\t\t\t\tthis.lng = data.position.lng;\n\t\t\t\tthis.lat = data.position.lat;\n\t\t\t\tconst str = [];\n\t\t\t\tstr.push(data.position.lng);\n\t\t\t\tstr.push(data.position.lat);\n\t\t\t\tdocument.getElementById('lng').innerHTML = data.position.lng;\n\t\t\t\tdocument.getElementById('lat').innerHTML = data.position.lat;\n\t\t\t\tdocument.getElementById('tip').innerHTML = this.cityDetail;\n\t\t\t}\n\t\t\tfunction onError(data) {\n\t\t\t\tconsole.log('定位错误   ' + JSON.stringify(data));\n\t\t\t}\n\t\t});\n\t},\n\n\tmethods: {\n\t\tisOk(row){\n\t\t\tconst transportArray = [];\n\t\t\tconst id = new this.$snowFlakeId().generate();\n\t\t\ttransportArray.push(id);\n\t\t\ttransportArray.push(id);\n\t\t\ttransportArray.push(this.$store.getters.name);\n\t\t\ttransportArray.push(this.$store.getters.nickName);\n\t\t\ttransportArray.push(this.$store.getters.phonenumber);\n\t\t\ttransportArray.push(this.$store.getters.deptName);\n\t\t\ttransportArray.push(formatDate(new Date()));\n\t\t\ttransportArray.push(document.getElementById('tip').innerHTML);\n\t\t\ttransportArray.push(row.cropsId);\n\t\t\ttransportArray.push('终点站');\n\t\t\tthis.$confirm('是否确认通知完毕', '通知', {\n\t\t\t\tconfirmButtonText: '确定',\n\t\t\t\tcancelButtonText: '取消',\n\t\t\t\ttype: 'warning'\n\t\t\t})\n\t\t\t\t.then(() => {\n\t\t\t\t\tthis.$httpBlock\n\t\t\t\t\t\t.post(this.$httpUrl + '/driverapi/createTransport', { transportArray: transportArray })\n\t\t\t\t\t\t.then(res => {\n\t\t\t\t\t\t\tif (res.status === 200) {\n\t\t\t\t\t\t\t\tthis.msgSuccess('数据上链成功');\n\t\t\t\t\t\t\t\tthis.growDialog = false;\n\t\t\t\t\t\t\t\tconst transportInfo = {\n\t\t\t\t\t\t\t\t\tlng: Number(document.getElementById('lng').innerHTML),\n\t\t\t\t\t\t\t\t\tlat: Number(document.getElementById('lat').innerHTML),\n\t\t\t\t\t\t\t\t\tcropsId: row.cropsId,\n\t\t\t\t\t\t\t\t\tstatus: 2,\n\t\t\t\t\t\t\t\t\tid: row.id,\n\t\t\t\t\t\t\t\t\toutFactoryStatus:0\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\tsaveAndUpdateTransportInfoToDb(transportInfo)\n\t\t\t\t\t\t\t\t\t.then(res => {\n\t\t\t\t\t\t\t\t\t\tthis.getList();\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t.catch(err => {\n\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\t\tthis.msgError('存储异常 ' + err);\n\t\t\t\t\t\t});\n\t\t\t\t\tthis.$message({\n\t\t\t\t\t\ttype: 'success',\n\t\t\t\t\t\tmessage: '通知成功!'\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t\t.catch(() => {\n\t\t\t\t\tthis.$message({\n\t\t\t\t\t\ttype: 'info',\n\t\t\t\t\t\tmessage: '取消'\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t},\n\n\t\ttransportLocation(row) {\n\t\t\tconst transportArray = [];\n\t\t\tconst id = new this.$snowFlakeId().generate();\n\t\t\ttransportArray.push(id);\n\t\t\ttransportArray.push(id);\n\t\t\ttransportArray.push(this.$store.getters.name);\n\t\t\ttransportArray.push(this.$store.getters.nickName);\n\t\t\ttransportArray.push(this.$store.getters.phonenumber);\n\t\t\ttransportArray.push(this.$store.getters.deptName);\n\t\t\ttransportArray.push(formatDate(new Date()));\n\t\t\ttransportArray.push(document.getElementById('tip').innerHTML);\n\t\t\ttransportArray.push(row.cropsId);\n\t\t\ttransportArray.push('中途定位');\n\t\t\tthis.$confirm(document.getElementById('tip').innerHTML, '定位', {\n\t\t\t\tconfirmButtonText: '确定',\n\t\t\t\tcancelButtonText: '取消',\n\t\t\t\ttype: 'warning'\n\t\t\t})\n\t\t\t\t.then(() => {\n\t\t\t\t\tthis.$httpBlock\n\t\t\t\t\t\t.post(this.$httpUrl + '/driverapi/createTransport', { transportArray: transportArray })\n\t\t\t\t\t\t.then(res => {\n\t\t\t\t\t\t\tif (res.status === 200) {\n\t\t\t\t\t\t\t\tthis.msgSuccess('数据上链成功');\n\t\t\t\t\t\t\t\tthis.growDialog = false;\n\t\t\t\t\t\t\t\tconst transportInfo = {\n\t\t\t\t\t\t\t\t\tlng: Number(document.getElementById('lng').innerHTML),\n\t\t\t\t\t\t\t\t\tlat: Number(document.getElementById('lat').innerHTML),\n\t\t\t\t\t\t\t\t\tcropsId: row.cropsId,\n\t\t\t\t\t\t\t\t\tstatus: 1,\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\tsaveAndUpdateTransportInfoToDb(transportInfo)\n\t\t\t\t\t\t\t\t\t.then(res => {\n\t\t\t\t\t\t\t\t\t\tthis.getList();\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t.catch(err => {\n\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\t\tthis.msgError('存储异常 ' + err);\n\t\t\t\t\t\t});\n\n\t\t\t\t})\n\t\t\t\t.catch(() => {\n\t\t\t\t\tthis.$message({\n\t\t\t\t\t\ttype: 'info',\n\t\t\t\t\t\tmessage: '取消定位'\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t},\n\t\t/**\n\t\t * @param {Object} row开始配送\n\t\t */\n\t\tstartTransport(row) {\n\t\t\tconst transportArray = [];\n\t\t\tconst id = new this.$snowFlakeId().generate();\n\t\t\ttransportArray.push(id);\n\t\t\ttransportArray.push(id);\n\t\t\ttransportArray.push(this.$store.getters.name);\n\t\t\ttransportArray.push(this.$store.getters.nickName);\n\t\t\ttransportArray.push(this.$store.getters.phonenumber);\n\t\t\ttransportArray.push(this.$store.getters.deptName);\n\t\t\ttransportArray.push(formatDate(new Date()));\n\t\t\ttransportArray.push(document.getElementById('tip').innerHTML);\n\t\t\ttransportArray.push(row.cropsId);\n\t\t\ttransportArray.push('始发地');\n\t\t\tthis.$confirm('是否开始通知', '提示', {\n\t\t\t\tconfirmButtonText: '确定',\n\t\t\t\tcancelButtonText: '取消',\n\t\t\t\ttype: 'warning'\n\t\t\t})\n\t\t\t\t.then(() => {\n\t\t\t\t\tthis.$httpBlock\n\t\t\t\t\t\t.post(this.$httpUrl + '/driverapi/createTransport', { transportArray: transportArray })\n\t\t\t\t\t\t.then(res => {\n\t\t\t\t\t\t\tif (res.status === 200) {\n\t\t\t\t\t\t\t\tthis.msgSuccess('数据上链成功');\n\t\t\t\t\t\t\t\tthis.growDialog = false;\n\t\t\t\t\t\t\t\tconst transportInfo = {\n\t\t\t\t\t\t\t\t\tlng: Number(document.getElementById('lng').innerHTML),\n\t\t\t\t\t\t\t\t\tlat: Number(document.getElementById('lat').innerHTML),\n\t\t\t\t\t\t\t\t\tcropsId: row.cropsId,\n\t\t\t\t\t\t\t\t\tid: row.id,\n\t\t\t\t\t\t\t\t\tstatus: 1,\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\tsaveAndUpdateTransportInfoToDb(transportInfo)\n\t\t\t\t\t\t\t\t\t.then(res => {\n\n\t\t\t\t\t\t\t\t\t\tthis.getList();\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t.catch(err => {\n\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\t\tthis.msgError('存储异常 ' + err);\n\t\t\t\t\t\t});\n\t\t\t\t\tthis.$message({\n\t\t\t\t\t\ttype: 'success',\n\t\t\t\t\t\tmessage: '已通知!'\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t\t.catch(() => {\n\t\t\t\t\tthis.$message({\n\t\t\t\t\t\ttype: 'info',\n\t\t\t\t\t\tmessage: '已取消通知'\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t},\n\n\t\tgetList() {\n\t\t\tlistTransport(this.$store.getters.name).then(res => {\n\t\t\t\tthis.transportList = res.data;\n\t\t\t});\n\t\t},\n\t\t/** 转换部门数据结构 */\n\t\tnormalizer(node) {\n\t\t\tif (node.children && !node.children.length) {\n\t\t\t\tdelete node.children;\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tid: node.deptId,\n\t\t\t\tlabel: node.deptName,\n\t\t\t\tchildren: node.children\n\t\t\t};\n\t\t},\n\t\t// 字典状态字典翻译\n\t\tstatusFormat(row, column) {\n\t\t\treturn this.selectDictLabel(this.statusOptions, row.status);\n\t\t},\n\t\t// 取消按钮\n\t\tcancel() {\n\t\t\tthis.open = false;\n\t\t\tthis.reset();\n\t\t},\n\t\t// 表单重置\n\t\treset() {\n\t\t\tthis.form = {\n\t\t\t\tdeptId: undefined,\n\t\t\t\tparentId: undefined,\n\t\t\t\tdeptName: undefined,\n\t\t\t\torderNum: undefined,\n\t\t\t\tleader: undefined,\n\t\t\t\tphone: undefined,\n\t\t\t\temail: undefined,\n\t\t\t\tstatus: '0'\n\t\t\t};\n\t\t\tthis.resetForm('form');\n\t\t},\n\t\t/** 搜索按钮操作 */\n\t\thandleQuery() {\n\t\t\tthis.getList();\n\t\t},\n\t\t/** 重置按钮操作 */\n\t\tresetQuery() {\n\t\t\tthis.resetForm('queryForm');\n\t\t\tthis.handleQuery();\n\t\t},\n\t\t/** 新增按钮操作 */\n\t\thandleAdd(row) {\n\t\t\tthis.reset();\n\t\t\tif (row != undefined) {\n\t\t\t\tthis.form.parentId = row.deptId;\n\t\t\t}\n\t\t\tthis.open = true;\n\t\t\tthis.title = '添加部门';\n\t\t\tlistDept().then(response => {\n\t\t\t\tthis.deptOptions = this.handleTree(response.data, 'deptId');\n\t\t\t});\n\t\t},\n\t\t/** 修改按钮操作 */\n\t\thandleUpdate(row) {\n\t\t\tthis.reset();\n\t\t\tgetDept(row.deptId).then(response => {\n\t\t\t\tthis.form = response.data;\n\t\t\t\tthis.open = true;\n\t\t\t\tthis.title = '修改部门';\n\t\t\t});\n\t\t\tlistDeptExcludeChild(row.deptId).then(response => {\n\t\t\t\tthis.deptOptions = this.handleTree(response.data, 'deptId');\n\t\t\t});\n\t\t},\n\t\t/** 提交按钮 */\n\t\tsubmitForm: function() {\n\t\t\tthis.$refs['form'].validate(valid => {\n\t\t\t\tif (valid) {\n\t\t\t\t\tif (this.form.deptId != undefined) {\n\t\t\t\t\t\tupdateDept(this.form).then(response => {\n\t\t\t\t\t\t\tif (response.code === 200) {\n\t\t\t\t\t\t\t\tthis.msgSuccess('修改成功');\n\t\t\t\t\t\t\t\tthis.open = false;\n\t\t\t\t\t\t\t\tthis.getList();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\taddDept(this.form).then(response => {\n\t\t\t\t\t\t\tif (response.code === 200) {\n\t\t\t\t\t\t\t\tthis.msgSuccess('新增成功');\n\t\t\t\t\t\t\t\tthis.open = false;\n\t\t\t\t\t\t\t\tthis.getList();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/** 删除按钮操作 */\n\t\thandleDelete(row) {\n\t\t\tthis.$confirm('是否确认删除名称为\"' + row.deptName + '\"的数据项?', '警告', {\n\t\t\t\tconfirmButtonText: '确定',\n\t\t\t\tcancelButtonText: '取消',\n\t\t\t\ttype: 'warning'\n\t\t\t})\n\t\t\t\t.then(function() {\n\t\t\t\t\treturn delDept(row.deptId);\n\t\t\t\t})\n\t\t\t\t.then(() => {\n\t\t\t\t\tthis.getList();\n\t\t\t\t\tthis.msgSuccess('删除成功');\n\t\t\t\t})\n\t\t\t\t.catch(function() {});\n\t\t}\n\t}\n};\n</script>\n"]}]}