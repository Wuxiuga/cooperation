{"remainingRequest":"/Users/libaojian/Desktop/Blockchain-APTrace-Fabric/blockchain-trace-pc/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/libaojian/Desktop/Blockchain-APTrace-Fabric/blockchain-trace-pc/src/views/trace/product/record.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/libaojian/Desktop/Blockchain-APTrace-Fabric/blockchain-trace-pc/src/views/trace/product/record.vue","mtime":1645620179157},{"path":"/Users/libaojian/Desktop/Blockchain-APTrace-Fabric/blockchain-trace-pc/node_modules/cache-loader/dist/cjs.js","mtime":1645761092242},{"path":"/Users/libaojian/Desktop/Blockchain-APTrace-Fabric/blockchain-trace-pc/node_modules/babel-loader/lib/index.js","mtime":1645761092758},{"path":"/Users/libaojian/Desktop/Blockchain-APTrace-Fabric/blockchain-trace-pc/node_modules/cache-loader/dist/cjs.js","mtime":1645761092242},{"path":"/Users/libaojian/Desktop/Blockchain-APTrace-Fabric/blockchain-trace-pc/node_modules/vue-loader/lib/index.js","mtime":1645761092929}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7cXVlcnlUYXNrTGlzdH0gZnJvbSAnLi4vLi4vLi4vYXBpL3RyYWNlL3Byb2R1Y3QnOwppbXBvcnQgeyBmb3JtYXREYXRlIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvaW5kZXguanMnOwpleHBvcnQgZGVmYXVsdCB7CgluYW1lOiAnUmVjb3JkJywKCWRhdGEoKSB7CgkJcmV0dXJuIHsKCQkJdGFza0xpc3RzOltdLAoJCQl3b3JrQ29udGVudERpYWxvZzpmYWxzZSwKCQkJcmVjb3JkRm9ybTp7fSwKCQkJdGFza0luZm86JycsCgkJfTsKCX0sCgljcmVhdGVkKCl7CgkJdGhpcy50YXNrTGlzdCgpOwoJfSwKCW1ldGhvZHM6ewoJCXN1Ym1pdE9wZXJhdGlvbigpewoJCQljb25zdCBvcGVyYXRpb25BcnJheSA9IFtdCgkJCWNvbnN0IGlkID0gbmV3IHRoaXMuJHNub3dGbGFrZUlkKCkuZ2VuZXJhdGUoKQoJCQlvcGVyYXRpb25BcnJheS5wdXNoKGlkKQoJCQlvcGVyYXRpb25BcnJheS5wdXNoKGlkKQoJCQlvcGVyYXRpb25BcnJheS5wdXNoKHRoaXMudGFza0luZm8uY3JvcHNJZCkKCQkJb3BlcmF0aW9uQXJyYXkucHVzaCh0aGlzLiRzdG9yZS5nZXR0ZXJzLm5pY2tOYW1lKQoJCQlvcGVyYXRpb25BcnJheS5wdXNoKHRoaXMuJHN0b3JlLmdldHRlcnMucGhvbmVudW1iZXIpCgkJCW9wZXJhdGlvbkFycmF5LnB1c2goZm9ybWF0RGF0ZShuZXcgRGF0ZSgpKSkKCQkJb3BlcmF0aW9uQXJyYXkucHVzaCh0aGlzLnJlY29yZEZvcm0ud29ya0NvbnRlbnQpCgkJCW9wZXJhdGlvbkFycmF5LnB1c2godGhpcy5yZWNvcmRGb3JtLnJlbWFya3MpCgkJCXRoaXMuJGh0dHBCbG9jawoJCQkJLnBvc3QodGhpcy4kaHR0cFVybCArICcvcHJvZHVjdGFwaS9jcmVhdGVPcGVyYXRpb24nLCB7IG9wZXJhdGlvbkFycmF5OiBvcGVyYXRpb25BcnJheSB9KQoJCQkJLnRoZW4ocmVzID0+IHsKCQkJCQlpZiAocmVzLnN0YXR1cyA9PT0gMjAwKSB7CgkJCQkJCXRoaXMubXNnU3VjY2Vzcygi5pWw5o2u5LiK6ZO+5oiQ5YqfIik7CgkJCQkJCXRoaXMud29ya0NvbnRlbnREaWFsb2cgPSBmYWxzZQoJCQkJCX0KCQkJCX0pCgkJCQkuY2F0Y2goZXJyID0+IHsKCQkJCQl0aGlzLm1zZ0Vycm9yKCflrZjlgqjlvILluLggJyArIGVycik7CgkJCQl9KTsKCQl9LAoKCQlhZGRXb3JrQ29udGVudChyb3cpewoJCQl0aGlzLnRhc2tJbmZvID0gcm93CgkJCXRoaXMud29ya0NvbnRlbnREaWFsb2cgPSB0cnVlCgkJfSwKCgkJdGFza0xpc3QoKXsKCQkJcXVlcnlUYXNrTGlzdCgpLnRoZW4ocmVzID0+IHsKCQkJCXRoaXMudGFza0xpc3RzID0gcmVzLmRhdGEKCQkJfSkuY2F0Y2goZXJyID0+IHsKCQkJCXRoaXMubXNnRXJyb3IoIuiOt+WPluS7u+WKoeWksei0pSIpCgkJCX0pCgkJfQoJfQoKfQo="},{"version":3,"sources":["record.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"record.vue","sourceRoot":"src/views/trace/product","sourcesContent":["<template>\n\t<div class=\"app-container\">\n\t\t<el-divider>待处理工作业务</el-divider>\n\t\t<el-table :data=\"taskLists\">\n\t\t\t<el-table-column type=\"selection\" width=\"55\" align=\"center\" />\n\t\t\t<el-table-column label=\"任务编号\" prop=\"taskId\" />\n\t\t\t<el-table-column label=\"任务名称\" prop=\"taskName\" />\n\t\t\t<el-table-column label=\"发布人\" prop=\"leaderName\" />\n\t\t\t<el-table-column label=\"时间\" prop=\"time\" />\n\t\t\t<el-table-column label=\"具体内容\" prop=\"taskRemark\" />\n\t\t\t<el-table-column label=\"操作\" align=\"center\" class-name=\"small-padding fixed-width\">\n\t\t\t\t<template slot-scope=\"scope\">\n\t\t\t\t\t<el-button size=\"mini\" type=\"text\" @click=\"addWorkContent(scope.row)\">上报工作内容</el-button>\n\n\t\t\t\t</template>\n\t\t\t</el-table-column>\n\t\t</el-table>\n\n\t\t<el-dialog center title=\"上报工作详情\" :visible.sync=\"workContentDialog\" width=\"700px\" append-to-body>\n\t\t\t<el-form ref=\"form\" label-width=\"80px\" :model=\"recordForm\">\n\t\t\t<el-row>\n\t\t\t\t<el-col :span=\"12\">\n\t\t\t\t\t<el-form-item label=\"任务ID\" prop=\"nickName\"><el-input :disabled=\"true\" v-model=\"taskInfo.taskId\" placeholder=\"请输入\" /></el-form-item>\n\t\t\t\t</el-col>\n\t\t\t\t<el-col :span=\"12\">\n\t\t\t\t\t<el-form-item label=\"任务名称\" prop=\"nickName\"><el-input :disabled=\"true\" v-model=\"taskInfo.taskName\" placeholder=\"请输入\" /></el-form-item>\n\t\t\t\t</el-col>\n\t\t\t</el-row>\n\t\t\t<el-row>\n\t\t\t\t<el-col :span=\"24\">\n\t\t\t\t\t<el-form-item label=\"工作内容\"><el-input type=\"textarea\" v-model=\"recordForm.workContent\" placeholder=\"请输入\" /></el-form-item>\n\t\t\t\t</el-col>\n\t\t\t</el-row>\n\t\t\t<el-row>\n\t\t\t\t<el-col :span=\"24\">\n\t\t\t\t\t<el-form-item label=\"备注\"><el-input type=\"textarea\" v-model=\"recordForm.remarks\" placeholder=\"请输入\" /></el-form-item>\n\t\t\t\t</el-col>\n\t\t\t</el-row>\n\t\t\t</el-form>\n\t\t\t<div slot=\"footer\" class=\"dialog-footer\">\n\t\t\t\t<el-button type=\"primary\" @click=\"submitOperation\">确 定</el-button>\n\t\t\t\t<el-button @click=\"cancel\">取 消</el-button>\n\t\t\t</div>\n\t\t</el-dialog>\n\t</div>\n</template>\n\n<script>\nimport {queryTaskList} from '../../../api/trace/product';\nimport { formatDate } from '../../../utils/index.js';\nexport default {\n\tname: 'Record',\n\tdata() {\n\t\treturn {\n\t\t\ttaskLists:[],\n\t\t\tworkContentDialog:false,\n\t\t\trecordForm:{},\n\t\t\ttaskInfo:'',\n\t\t};\n\t},\n\tcreated(){\n\t\tthis.taskList();\n\t},\n\tmethods:{\n\t\tsubmitOperation(){\n\t\t\tconst operationArray = []\n\t\t\tconst id = new this.$snowFlakeId().generate()\n\t\t\toperationArray.push(id)\n\t\t\toperationArray.push(id)\n\t\t\toperationArray.push(this.taskInfo.cropsId)\n\t\t\toperationArray.push(this.$store.getters.nickName)\n\t\t\toperationArray.push(this.$store.getters.phonenumber)\n\t\t\toperationArray.push(formatDate(new Date()))\n\t\t\toperationArray.push(this.recordForm.workContent)\n\t\t\toperationArray.push(this.recordForm.remarks)\n\t\t\tthis.$httpBlock\n\t\t\t\t.post(this.$httpUrl + '/productapi/createOperation', { operationArray: operationArray })\n\t\t\t\t.then(res => {\n\t\t\t\t\tif (res.status === 200) {\n\t\t\t\t\t\tthis.msgSuccess(\"数据上链成功\");\n\t\t\t\t\t\tthis.workContentDialog = false\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(err => {\n\t\t\t\t\tthis.msgError('存储异常 ' + err);\n\t\t\t\t});\n\t\t},\n\n\t\taddWorkContent(row){\n\t\t\tthis.taskInfo = row\n\t\t\tthis.workContentDialog = true\n\t\t},\n\n\t\ttaskList(){\n\t\t\tqueryTaskList().then(res => {\n\t\t\t\tthis.taskLists = res.data\n\t\t\t}).catch(err => {\n\t\t\t\tthis.msgError(\"获取任务失败\")\n\t\t\t})\n\t\t}\n\t}\n\n}\n</script>\n\n<style>\n</style>\n"]}]}