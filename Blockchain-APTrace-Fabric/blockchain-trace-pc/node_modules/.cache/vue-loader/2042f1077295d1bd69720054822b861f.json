{"remainingRequest":"/Users/libaojian/Desktop/Blockchain-APTrace-Fabric/blockchain-trace-pc/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/libaojian/Desktop/Blockchain-APTrace-Fabric/blockchain-trace-pc/src/views/trace/farmer/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/libaojian/Desktop/Blockchain-APTrace-Fabric/blockchain-trace-pc/src/views/trace/farmer/index.vue","mtime":1650505733000},{"path":"/Users/libaojian/Desktop/Blockchain-APTrace-Fabric/blockchain-trace-pc/node_modules/cache-loader/dist/cjs.js","mtime":1645761092000},{"path":"/Users/libaojian/Desktop/Blockchain-APTrace-Fabric/blockchain-trace-pc/node_modules/babel-loader/lib/index.js","mtime":1645761092000},{"path":"/Users/libaojian/Desktop/Blockchain-APTrace-Fabric/blockchain-trace-pc/node_modules/cache-loader/dist/cjs.js","mtime":1645761092000},{"path":"/Users/libaojian/Desktop/Blockchain-APTrace-Fabric/blockchain-trace-pc/node_modules/vue-loader/lib/index.js","mtime":1645761092000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGxpc3RSb2xlLCBnZXRSb2xlLCBkZWxSb2xlLCBhZGRSb2xlLCB1cGRhdGVSb2xlLCBleHBvcnRSb2xlLCBkYXRhU2NvcGUsIGNoYW5nZVJvbGVTdGF0dXMgfSBmcm9tICdAL2FwaS9zeXN0ZW0vcm9sZSc7CmltcG9ydCB7IHRyZWVzZWxlY3QgYXMgbWVudVRyZWVzZWxlY3QsIHJvbGVNZW51VHJlZXNlbGVjdCB9IGZyb20gJ0AvYXBpL3N5c3RlbS9tZW51JzsKaW1wb3J0IHsgdHJlZXNlbGVjdCBhcyBkZXB0VHJlZXNlbGVjdCwgcm9sZURlcHRUcmVlc2VsZWN0IH0gZnJvbSAnQC9hcGkvc3lzdGVtL2RlcHQnOwppbXBvcnQge2dldEZhY3RvcnlCeURlcHRJZCwgYWRkVHJhbnNwb3J0LCBnZXRBbGxEcml2ZXJCeURlcHRJZCwgdXBsb2RJbWFnZXNCYXNlNjQsIGxpc3RDcm9wcywgc2F2ZUNyb3BzIH0gZnJvbSAnLi4vLi4vLi4vYXBpL3RyYWNlL2Zhcm1lcic7CmltcG9ydCB7IGZvcm1hdERhdGUgfSBmcm9tICcuLi8uLi8uLi91dGlscy9pbmRleC5qcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnUm9sZScsCgogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAvLyDpga7nvanlsYIKICAgICAgbG9hZGluZzogdHJ1ZSwKICAgICAgLy8g6YCJ5Lit5pWw57uECiAgICAgIGlkczogW10sCiAgICAgIC8vIOmdnuWNleS4quemgeeUqAogICAgICBzaW5nbGU6IHRydWUsCiAgICAgIC8vIOmdnuWkmuS4quemgeeUqAogICAgICBtdWx0aXBsZTogdHJ1ZSwKICAgICAgLy8g5pi+56S65pCc57Si5p2h5Lu2CiAgICAgIHNob3dTZWFyY2g6IHRydWUsCiAgICAgIC8vIOaAu+adoeaVsAogICAgICB0b3RhbDogMCwKICAgICAgLy8g6KeS6Imy6KGo5qC85pWw5o2uCiAgICAgIGNyb3BzTGlzdDogW10sCiAgICAgIC8vIOW8ueWHuuWxguagh+mimAogICAgICB0aXRsZTogJycsCiAgICAgIC8vIOaYr+WQpuaYvuekuuW8ueWHuuWxggogICAgICBvcGVuOiBmYWxzZSwKICAgICAgLy8g5piv5ZCm5pi+56S65by55Ye65bGC77yI5pWw5o2u5p2D6ZmQ77yJCiAgICAgIG9wZW5EYXRhU2NvcGU6IGZhbHNlLAogICAgICBtZW51RXhwYW5kOiBmYWxzZSwKICAgICAgbWVudU5vZGVBbGw6IGZhbHNlLAogICAgICBkZXB0RXhwYW5kOiB0cnVlLAogICAgICBkZXB0Tm9kZUFsbDogZmFsc2UsCiAgICAgIC8vIOaXpeacn+iMg+WbtAogICAgICBkYXRlUmFuZ2U6IFtdLAogICAgICAvLyDnirbmgIHmlbDmja7lrZflhbgKICAgICAgc3RhdHVzT3B0aW9uczogWyflnKjnp40nLCAn5YGc56eNJ10sCgogICAgICBiZWdnaW5nT3B0aW9uczogW10sCiAgICAgIHBsYW50TW9kZU9wdGlvbnM6IFtdLCAvL+enjeakjeaWueW8jwogICAgICBjcm9wc1R5cGVPcHRpb25zOiBbXSwgLy/kvZzniannsbvlnosKCiAgICAgIGdyb3dEaWFsb2c6IGZhbHNlLCAvL3rkvZzniannlJ/plb/orrDlvZXlvLnlh7rmoYYKICAgICAgY3JvcHNOYW1lOiAnJywKICAgICAgY3JvcHNEZXRhaURpYWxvZzogZmFsc2UsCgogICAgICBjcm9wc0RldGFpbHM6ICcnLAogICAgICAvLyDoj5zljZXliJfooagKICAgICAgbWVudU9wdGlvbnM6IFtdLAogICAgICAvLyDpg6jpl6jliJfooagKICAgICAgZGVwdE9wdGlvbnM6IFtdLAogICAgICAvLyDmn6Xor6Llj4LmlbAKICAgICAgcXVlcnlQYXJhbXM6IHsKICAgICAgICBwYWdlTnVtOiAxLAogICAgICAgIHBhZ2VTaXplOiAxMCwKICAgICAgICByb2xlTmFtZTogdW5kZWZpbmVkLAogICAgICAgIHJvbGVLZXk6IHVuZGVmaW5lZCwKICAgICAgICBzdGF0dXM6IHVuZGVmaW5lZAogICAgICB9LAogICAgICAvLyDooajljZXlj4LmlbAKICAgICAgZm9ybToge30sCiAgICAgIGRlZmF1bHRQcm9wczogewogICAgICAgIGNoaWxkcmVuOiAnY2hpbGRyZW4nLAogICAgICAgIGxhYmVsOiAnbGFiZWwnCiAgICAgIH0sCiAgICAgIHJlY29yZEZvcm06IHt9LAogICAgICBpbWFnZVVybDogJycsCiAgICAgIGltZ0Jhc2U2NDogW10sCiAgICAgIGNyb3BzUGhvdG9Vcmw6ICcnLAogICAgICBjcm9wc0luZm86ICcnLAogICAgICBncm93RGlhbG9nOiBmYWxzZSwKICAgICAgY3JvcHNQcm9jZXNzRGV0YWlsc0FycmF5OiBbXSwKICAgICAgY3JvcHNQcm9jZXNzRGV0YWlEaWFsb2c6IGZhbHNlLAogICAgICBub3RpY2VEZXRhaURpYWxvZzogZmFsc2UsCiAgICAgIGRyaXZlckxpc3Q6IFtdLAogICAgICB0cmFzcG9ydEZvcm06IHsKICAgICAgICBjcm9wc0lkOiAnJywKICAgICAgICBmYXJtZXJVc2VyTmFtZTogJycsCiAgICAgICAgZmFybWVyTmlja05hbWU6ICcnLAogICAgICAgIHRpbWU6ICcnCiAgICAgIH0sCiAgICAgIHRyYXNwb3J0SW5mbzogJycsCiAgICAgIHBsYXlUcmFja1ZpZXc6IGZhbHNlLAogICAgICBmYWN0b3J5TGlzdDpbXSwKICAgIH07CiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRDcm9wc0xpc3QoKTsKICAgIHRoaXMuZ2V0RGljdHMoJ2Nyb3BzX2JhZ2dpbmcnKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgdGhpcy5iZWdnaW5nT3B0aW9ucyA9IHJlc3BvbnNlLmRhdGE7CiAgICB9KTsKICAgIHRoaXMuZ2V0RGljdHMoJ2Nyb3BzX3BsYW50X3R5cGUnKS50aGVuKHJlcyA9PiB7CiAgICAgIHRoaXMucGxhbnRNb2RlT3B0aW9ucyA9IHJlcy5kYXRhOwogICAgfSk7CiAgICB0aGlzLmdldERpY3RzKCdjcm9wc190eXBlJykudGhlbihyZXMgPT4gewogICAgICB0aGlzLmNyb3BzVHlwZU9wdGlvbnMgPSByZXMuZGF0YTsKICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgLyoqCiAgICAgKiDnianmtYHov73ouKoKICAgICAqLwogICAgbG9naXN0aWNzVHJhY2Uocm93KSB7CiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICB0aGlzLnBsYXlUcmFja1ZpZXcgPSB0cnVlOwogICAgICAgIGNvbnN0IGxpbmVBcnIgPSBbCiAgICAgICAgICBbMTExLjMxNSwgMjMuNDk1NV0sCiAgICAgICAgICBbMTEwLjk1NzUyMjI4NzEwOTM2LCAyMy4zNzQzMzc3NzI2MjAwNl0sCiAgICAgICAgICBbMTA5LjE5ODMzNjQ5NjA5MzczLCAyMy43NDg4MzAxNjUxNzEyNl0sCiAgICAgICAgICBbMTA5LjQyMzU1NjIyMjY1NjIzLCAyNC4zMjA3NTMxNTQyMjgzMjhdLAogICAgICAgIF07CiAgICAgICAgLy/liJvlu7rlnLDlm74KICAgICAgICB2YXIgbWFwID0gbmV3IEFNYXAuTWFwKCdjb250YWluZXInLCB7CiAgICAgICAgICByZXNpemVFbmFibGU6IHRydWUsCiAgICAgICAgICBjZW50ZXI6IFsxMTEuMzE1LCAyMy40OTU1XSwKICAgICAgICAgIHpvb206IDkKICAgICAgICB9KTsKICAgICAgICAvL+agh+iusOi9pui+hgogICAgICAgIHZhciBtYXJrZXIgPSBuZXcgQU1hcC5NYXJrZXIoewogICAgICAgICAgcG9zaXRpb246IFsxMTEuMzE1LCAyMy40OTU1XSwKICAgICAgICAgIGljb246ICdodHRwczovL3dlYmFwaS5hbWFwLmNvbS9pbWFnZXMvY2FyLnBuZycsCiAgICAgICAgICAvL+WdkOagh+WBj+enuwogICAgICAgICAgb2Zmc2V0OiBuZXcgQU1hcC5QaXhlbCgtMjYsIC0xMyksCiAgICAgICAgICBhdXRvUm90YXRpb246IHRydWUsCiAgICAgICAgICBhbmdsZTogLTkwLAogICAgICAgICAgbWFwOiBtYXAKICAgICAgICB9KTsKICAgICAgICAvLyDnu5jliLbovajov7not6/nur8KICAgICAgICB2YXIgcG9seWxpbmUgPSBuZXcgQU1hcC5Qb2x5bGluZSh7CiAgICAgICAgICBtYXA6IHRoaXMubWFwLAogICAgICAgICAgLy/ov5nph4zmm7/mjaLoh6rlt7HnmoTlnZDmoIfmlbDmja4KICAgICAgICAgIHBhdGg6IGxpbmVBcnIsCiAgICAgICAgICBib3JkZXJXZWlnaHQ6IDIsIC8vIOe6v+adoeWuveW6pu+8jOm7mOiupOS4uiAxCiAgICAgICAgICBzdHJva2VDb2xvcjogJ3JlZCcsIC8vIOe6v+adoeminOiJsgogICAgICAgICAgbGluZUpvaW46ICdyb3VuZCcgLy8g5oqY57q/5ouQ54K56L+e5o6l5aSE5qC35byPCiAgICAgICAgfSk7CiAgICAgICAgbWFwLmFkZChwb2x5bGluZSk7CgogICAgICAgIC8v6LCD55So5pa55rOV5byA5ZCv5Yqo55S7CiAgICAgICAgbWFya2VyLm1vdmVBbG9uZyhsaW5lQXJyLCAzMDAwMCk7CiAgICAgIH0pCgogICAgfSwKCiAgICBhZGROb3RpY2VUcmFzcG9ydCgpIHsKICAgICAgdGhpcy50cmFzcG9ydEZvcm0uY3JvcHNJZCA9IHRoaXMudHJhc3BvcnRJbmZvLmNyb3BzSWQ7CiAgICAgIHRoaXMudHJhc3BvcnRGb3JtLmZhcm1lclVzZXJOYW1lID0gdGhpcy4kc3RvcmUuZ2V0dGVycy5uYW1lOwogICAgICB0aGlzLnRyYXNwb3J0Rm9ybS5mYXJtZXJOaWNrTmFtZSA9IHRoaXMuJHN0b3JlLmdldHRlcnMubmlja05hbWU7CiAgICAgIHRoaXMudHJhc3BvcnRGb3JtLnRpbWUgPSBuZXcgRGF0ZSgpOwogICAgICB0aGlzLnRyYXNwb3J0Rm9ybS5kcml2ZXJJZCA9IHRoaXMudHJhc3BvcnRGb3JtLnVzZXJOYW1lOwogICAgICB0aGlzLnRyYXNwb3J0Rm9ybS5zdGF0dXMgPSAwOwogICAgICB0aGlzLnRyYXNwb3J0Rm9ybS5mYXJtZXJUZWwgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzLnBob25lbnVtYmVyOwogICAgICB0aGlzLnRyYXNwb3J0Rm9ybS5mYXJtZXJEZXB0ID0gdGhpcy4kc3RvcmUuZ2V0dGVycy5kZXB0TmFtZTsKICAgICAgdGhpcy50cmFzcG9ydEZvcm0uZmFjdG9yeUlkID0gdGhpcy50cmFzcG9ydEZvcm0uZGVwdElkCiAgICAgIGFkZFRyYW5zcG9ydCh0aGlzLnRyYXNwb3J0Rm9ybSkKICAgICAgICAudGhlbihyZXMgPT4gewogICAgICAgICAgdGhpcy5tc2dTdWNjZXNzKCfpnIDmsYLlt7LmiJDlip/mj5DkuqTliLDotYTmupDmsaAnKTsKICAgICAgICAgIHRoaXMubm90aWNlRGV0YWlEaWFsb2cgPSBmYWxzZTsKICAgICAgICAgIHRoaXMuZ2V0Q3JvcHNMaXN0KCk7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goZXJyID0+IHsKICAgICAgICAgIHRoaXMubXNnRXJyb3IoJ+mcgOaxguaPkOS6pOWksei0pe+8jOWPkeeUn+W8guW4uCcpOwogICAgICAgIH0pOwogICAgfSwKCiAgICAvKioKICAgICAqIEBwYXJhbSB7T2JqZWN0fSByb3fpgJrnn6Xov5DovpMKICAgICAqLwogICAgbm90aWNlVHJhc3BvcnQocm93KSB7CiAgICAgIHRoaXMudHJhc3BvcnRJbmZvID0gcm93OwogICAgICBnZXRBbGxEcml2ZXJCeURlcHRJZCh0aGlzLiRzdG9yZS5nZXR0ZXJzLmRlcHRJZCkKICAgICAgICAudGhlbihyZXMgPT4gewogICAgICAgICAgdGhpcy5kcml2ZXJMaXN0ID0gcmVzLmRhdGE7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goZXJyID0+IHt9KTsKICAgICAgLy/ojrflj5bmiYDmnInljp/mlpnljoLllYYKICAgICAgZ2V0RmFjdG9yeUJ5RGVwdElkKDExOSkKICAgICAgICAudGhlbihyZXMgPT4gewogICAgICAgICAgdGhpcy5mYWN0b3J5TGlzdCA9IHJlcy5kYXRhOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKGVyciA9PiB7fSk7CiAgICAgIHRoaXMubm90aWNlRGV0YWlEaWFsb2cgPSB0cnVlOwogICAgfSwKCiAgICAvKioKICAgICAqIOenjeakjei/h+eoi+ivpuaDhQogICAgICovCiAgICBjcm9wc1Byb2Nlc3NEZXRhaWwocm93KSB7CiAgICAgIHRoaXMuJGh0dHBCbG9jawogICAgICAgIC5nZXQodGhpcy4kaHR0cFVybCArICcvZmFybWVyYXBpL3F1ZXJ5Q3JvcHNQcm9jZXNzQnlDcm9wc0lkP2lkPScgKyByb3cuY3JvcHNJZCkKICAgICAgICAudGhlbihyZXMgPT4gewogICAgICAgICAgY29uc3QgYXJyYXkgPSBbXTsKCiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlcy5kYXRhLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGFycmF5LnB1c2gocmVzLmRhdGFbaV0uUmVjb3JkKTsKICAgICAgICAgIH0KICAgICAgICAgIHRoaXMuY3JvcHNQcm9jZXNzRGV0YWlsc0FycmF5ID0gYXJyYXk7CiAgICAgICAgICB0aGlzLmNyb3BzUHJvY2Vzc0RldGFpRGlhbG9nID0gdHJ1ZTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaChlcnIgPT4ge30pOwogICAgfSwKCiAgICByZWNvcmRDcm9wc0dyb3coKSB7CiAgICAgIGNvbnN0IGNyb3BzR3Jvd0luZm8gPSB0aGlzLnJlY29yZEZvcm07CiAgICAgIGNvbnN0IGNyb3BzR3Jvd0FycmF5ID0gW107CiAgICAgIGNvbnN0IGlkID0gbmV3IHRoaXMuJHNub3dGbGFrZUlkKCkuZ2VuZXJhdGUoKTsKICAgICAgY3JvcHNHcm93QXJyYXkucHVzaChpZCk7CiAgICAgIGNyb3BzR3Jvd0FycmF5LnB1c2goaWQpOwogICAgICBjcm9wc0dyb3dBcnJheS5wdXNoKHRoaXMuY3JvcHNJbmZvLmNyb3BzSWQpOwogICAgICBjcm9wc0dyb3dBcnJheS5wdXNoKGZvcm1hdERhdGUobmV3IERhdGUoKSkpOwogICAgICBjcm9wc0dyb3dBcnJheS5wdXNoKHRoaXMuY3JvcHNQaG90b1VybCk7CiAgICAgIGNyb3BzR3Jvd0FycmF5LnB1c2goY3JvcHNHcm93SW5mby50ZW1wZXJhdHVyZSk7CiAgICAgIGNyb3BzR3Jvd0FycmF5LnB1c2goY3JvcHNHcm93SW5mby5ncm93U3RhdHVzKTsKICAgICAgY3JvcHNHcm93QXJyYXkucHVzaChjcm9wc0dyb3dJbmZvLndhdGVyQ29udGVudCk7CiAgICAgIGNyb3BzR3Jvd0FycmF5LnB1c2goY3JvcHNHcm93SW5mby5pbGx1bWluYXRpb25TdGF0dXMpOwogICAgICBjcm9wc0dyb3dBcnJheS5wdXNoKGNyb3BzR3Jvd0luZm8ucmVtYXJrcyk7CiAgICAgIHRoaXMuJGh0dHBCbG9jawogICAgICAgIC5wb3N0KHRoaXMuJGh0dHBVcmwgKyAnL2Zhcm1lcmFwaS9yZWNvcmRDcm9wc0dyb3cnLCB7IGNyb3BzR3Jvd0FycmF5OiBjcm9wc0dyb3dBcnJheSB9KQogICAgICAgIC50aGVuKHJlcyA9PiB7CiAgICAgICAgICBpZiAocmVzLnN0YXR1cyA9PT0gMjAwKSB7CiAgICAgICAgICAgIHRoaXMubXNnU3VjY2Vzcygn5pWw5o2u5LiK6ZO+5oiQ5YqfJyk7CiAgICAgICAgICAgIHRoaXMuZ3Jvd0RpYWxvZyA9IGZhbHNlOwogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKGVyciA9PiB7CiAgICAgICAgICB0aGlzLm1zZ0Vycm9yKCflrZjlgqjlvILluLggJyArIGVycik7CiAgICAgICAgfSk7CiAgICB9LAoKICAgIGdldEZpbGUoZmlsZSkgewogICAgICB0aGlzLmltYWdlVXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChmaWxlLnJhdyk7CiAgICAgIHRoaXMuZ2V0QmFzZTY0KGZpbGUucmF3KS50aGVuKHJlcyA9PiB7CiAgICAgICAgdGhpcy5pbWdCYXNlNjQgPSByZXM7CiAgICAgICAgY29uc3QgZGF0YXMgPSB7CiAgICAgICAgICBpbWFnZUJhc2U2NDogdGhpcy5pbWdCYXNlNjQKICAgICAgICB9OwogICAgICAgIHVwbG9kSW1hZ2VzQmFzZTY0KGRhdGFzKQogICAgICAgICAgLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgdGhpcy5jcm9wc1Bob3RvVXJsID0gcmVzLm1zZzsKICAgICAgICAgICAgdGhpcy5tc2dTdWNjZXNzKCflm77niYfkuIrkvKDmiJDlip8nKTsKICAgICAgICAgIH0pCiAgICAgICAgICAuY2F0Y2goZXJyID0+IHsKICAgICAgICAgICAgdGhpcy5tc2dFcnJvcign5Zu+54mH5LiK5Lyg5aSx6LSlJyk7CiAgICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAoKICAgIGdldEJhc2U2NChmaWxlKSB7CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpOwogICAgICAgIGxldCBpbWdSZXN1bHQgPSAnJzsKICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTsKICAgICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICBpbWdSZXN1bHQgPSByZWFkZXIucmVzdWx0OwogICAgICAgIH07CiAgICAgICAgcmVhZGVyLm9uZXJyb3IgPSBmdW5jdGlvbihlcnJvcikgewogICAgICAgICAgcmVqZWN0KGVycm9yKTsKICAgICAgICB9OwogICAgICAgIHJlYWRlci5vbmxvYWRlbmQgPSBmdW5jdGlvbigpIHsKICAgICAgICAgIHJlc29sdmUoaW1nUmVzdWx0KTsKICAgICAgICB9OwogICAgICB9KTsKICAgIH0sCgogICAgY3JlYXRlQ3JvcHMoKSB7CiAgICAgIGNvbnN0IGNyb3BzID0gdGhpcy5mb3JtOwogICAgICBjb25zdCBjcm9wc0FycmF5ID0gW107CiAgICAgIGNyb3BzQXJyYXkucHVzaChuZXcgdGhpcy4kc25vd0ZsYWtlSWQoKS5nZW5lcmF0ZSgpKTsKICAgICAgY3JvcHNBcnJheS5wdXNoKG5ldyB0aGlzLiRzbm93Rmxha2VJZCgpLmdlbmVyYXRlKCkpOwogICAgICBjcm9wc0FycmF5LnB1c2godGhpcy5mb3JtLmNyb3BzTmFtZSk7CiAgICAgIGNyb3BzQXJyYXkucHVzaCh0aGlzLmZvcm0uYWRkcmVzcyk7CiAgICAgIGNyb3BzQXJyYXkucHVzaCh0aGlzLiRzdG9yZS5nZXR0ZXJzLm5pY2tOYW1lKTsKICAgICAgY3JvcHNBcnJheS5wdXNoKHRoaXMuZm9ybS5mZXJ0aWxpemVyTmFtZSk7CiAgICAgIGNyb3BzQXJyYXkucHVzaCh0aGlzLmZvcm0ucGxhbnRNb2RlKTsKICAgICAgY3JvcHNBcnJheS5wdXNoKHRoaXMuZm9ybS5iYWdnaW5nU3RhdHVzKTsKICAgICAgY3JvcHNBcnJheS5wdXNoKHRoaXMuZm9ybS5ncm93U2VlZGxpbmdzQ3ljbGUpOwogICAgICBjcm9wc0FycmF5LnB1c2godGhpcy5mb3JtLmlycmlnYXRpb25DeWNsZSk7CiAgICAgIGNyb3BzQXJyYXkucHVzaCh0aGlzLmZvcm0uYXBwbHlGZXJ0aWxpemVyQ3ljbGUpOwogICAgICBjcm9wc0FycmF5LnB1c2godGhpcy5mb3JtLndlZWRDeWNsZSk7CiAgICAgIGNyb3BzQXJyYXkucHVzaCh0aGlzLmZvcm0ucmVtYXJrcyk7CiAgICAgIGNyb3BzQXJyYXkucHVzaChmb3JtYXREYXRlKG5ldyBEYXRlKCkpKTsKICAgICAgY3JvcHNBcnJheS5wdXNoKHRoaXMuZm9ybS55ZWFyKTsKICAgICAgY3JvcHNBcnJheS5wdXNoKHRoaXMuJHN0b3JlLmdldHRlcnMucGhvbmVudW1iZXIpOwogICAgICB0aGlzLiRodHRwQmxvY2sKICAgICAgICAucG9zdCh0aGlzLiRodHRwVXJsICsgJy9mYXJtZXJhcGkvY3JlYXRlQ3JvcHMnLCB7IGNyb3BzQXJyYXk6IGNyb3BzQXJyYXkgfSkKICAgICAgICAudGhlbihyZXMgPT4gewogICAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT09IDIwMCkgewogICAgICAgICAgICB0aGlzLm1zZ1N1Y2Nlc3MoJ+aVsOaNruS4iumTvuaIkOWKnycpOwogICAgICAgICAgICBjb25zdCBjcm9wc1VzZXIgPSB7CiAgICAgICAgICAgICAgdXNlcm5hbWU6IHRoaXMuJHN0b3JlLmdldHRlcnMubmFtZSwKICAgICAgICAgICAgICBjcm9wc0lkOiBjcm9wc0FycmF5WzBdLAogICAgICAgICAgICAgIGNyb3BzTmFtZTogY3JvcHNBcnJheVsyXSwKICAgICAgICAgICAgICBzdGF0dXM6IDAKICAgICAgICAgICAgfTsKICAgICAgICAgICAgc2F2ZUNyb3BzKGNyb3BzVXNlcikKICAgICAgICAgICAgICAudGhlbihyZXMgPT4gewogICAgICAgICAgICAgICAgdGhpcy5nZXRDcm9wc0xpc3QoKQogICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLm1zZ0Vycm9yKCdpZOWtmOWCqOW8guW4uCAnICsgZXJyKTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgdGhpcy5nZXRDcm9wc0xpc3QoKTsKICAgICAgICAgICAgdGhpcy5vcGVuID0gZmFsc2U7CiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goZXJyID0+IHsKICAgICAgICAgIHRoaXMubXNnRXJyb3IoJ+WtmOWCqOW8guW4uCAnICsgZXJyKTsKICAgICAgICB9KTsKICAgIH0sCgogICAgaGFuZGxlUmVjb3JkKHJvdykgewogICAgICB0aGlzLmNyb3BzTmFtZSA9IHJvdy5jcm9wc05hbWU7CiAgICAgIHRoaXMuY3JvcHNJbmZvID0gcm93OwogICAgICB0aGlzLmdyb3dEaWFsb2cgPSB0cnVlOwogICAgfSwKCiAgICAvKiog5p+l6K+i5L2c54mp5YiX6KGoICovCiAgICBnZXRDcm9wc0xpc3QoKSB7CiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgIGxpc3RDcm9wcyh0aGlzLiRzdG9yZS5nZXR0ZXJzLm5hbWUpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIHRoaXMuY3JvcHNMaXN0ID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICB0aGlzLnRvdGFsID0gcmVzcG9uc2UudG90YWw7CiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgIH0pOwogICAgfSwKCiAgICAvKioKICAgICAqIOS9nOeJqeivpuaDhQogICAgICovCiAgICBjcm9wc0RldGFpbChyb3cpIHsKICAgICAgdGhpcy4kaHR0cEJsb2NrCiAgICAgICAgLmdldCh0aGlzLiRodHRwVXJsICsgJy9mYXJtZXJhcGkvcXVlcnlDcm9wc0J5SWQ/aWQ9JyArIHJvdy5jcm9wc0lkKQogICAgICAgIC50aGVuKHJlcyA9PiB7CiAgICAgICAgICB0aGlzLmNyb3BzRGV0YWlscyA9IHJlcy5kYXRhOwogICAgICAgICAgdGhpcy5jcm9wc0RldGFpRGlhbG9nID0gdHJ1ZTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaChlcnIgPT4ge30pOwogICAgfSwKCiAgICAvKiog5p+l6K+i6I+c5Y2V5qCR57uT5p6EICovCiAgICBnZXRNZW51VHJlZXNlbGVjdCgpIHsKICAgICAgbWVudVRyZWVzZWxlY3QoKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICB0aGlzLm1lbnVPcHRpb25zID0gcmVzcG9uc2UuZGF0YTsKICAgICAgfSk7CiAgICB9LAogICAgLyoqIOafpeivoumDqOmXqOagkee7k+aehCAqLwogICAgZ2V0RGVwdFRyZWVzZWxlY3QoKSB7CiAgICAgIGRlcHRUcmVlc2VsZWN0KCkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgdGhpcy5kZXB0T3B0aW9ucyA9IHJlc3BvbnNlLmRhdGE7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOaJgOacieiPnOWNleiKgueCueaVsOaNrgogICAgZ2V0TWVudUFsbENoZWNrZWRLZXlzKCkgewogICAgICAvLyDnm67liY3ooqvpgInkuK3nmoToj5zljZXoioLngrkKICAgICAgbGV0IGNoZWNrZWRLZXlzID0gdGhpcy4kcmVmcy5tZW51LmdldEhhbGZDaGVja2VkS2V5cygpOwogICAgICAvLyDljYrpgInkuK3nmoToj5zljZXoioLngrkKICAgICAgbGV0IGhhbGZDaGVja2VkS2V5cyA9IHRoaXMuJHJlZnMubWVudS5nZXRDaGVja2VkS2V5cygpOwogICAgICBjaGVja2VkS2V5cy51bnNoaWZ0LmFwcGx5KGNoZWNrZWRLZXlzLCBoYWxmQ2hlY2tlZEtleXMpOwogICAgICByZXR1cm4gY2hlY2tlZEtleXM7CiAgICB9LAogICAgLy8g5omA5pyJ6YOo6Zeo6IqC54K55pWw5o2uCiAgICBnZXREZXB0QWxsQ2hlY2tlZEtleXMoKSB7CiAgICAgIC8vIOebruWJjeiiq+mAieS4reeahOmDqOmXqOiKgueCuQogICAgICBsZXQgY2hlY2tlZEtleXMgPSB0aGlzLiRyZWZzLmRlcHQuZ2V0SGFsZkNoZWNrZWRLZXlzKCk7CiAgICAgIC8vIOWNiumAieS4reeahOmDqOmXqOiKgueCuQogICAgICBsZXQgaGFsZkNoZWNrZWRLZXlzID0gdGhpcy4kcmVmcy5kZXB0LmdldENoZWNrZWRLZXlzKCk7CiAgICAgIGNoZWNrZWRLZXlzLnVuc2hpZnQuYXBwbHkoY2hlY2tlZEtleXMsIGhhbGZDaGVja2VkS2V5cyk7CiAgICAgIHJldHVybiBjaGVja2VkS2V5czsKICAgIH0sCiAgICAvKiog5qC55o2u6KeS6ImySUTmn6Xor6Loj5zljZXmoJHnu5PmnoQgKi8KICAgIGdldFJvbGVNZW51VHJlZXNlbGVjdChyb2xlSWQpIHsKICAgICAgcmV0dXJuIHJvbGVNZW51VHJlZXNlbGVjdChyb2xlSWQpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIHRoaXMubWVudU9wdGlvbnMgPSByZXNwb25zZS5tZW51czsKICAgICAgICByZXR1cm4gcmVzcG9uc2U7CiAgICAgIH0pOwogICAgfSwKICAgIC8qKiDmoLnmja7op5LoibJJROafpeivoumDqOmXqOagkee7k+aehCAqLwogICAgZ2V0Um9sZURlcHRUcmVlc2VsZWN0KHJvbGVJZCkgewogICAgICByZXR1cm4gcm9sZURlcHRUcmVlc2VsZWN0KHJvbGVJZCkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgdGhpcy5kZXB0T3B0aW9ucyA9IHJlc3BvbnNlLmRlcHRzOwogICAgICAgIHJldHVybiByZXNwb25zZTsKICAgICAgfSk7CiAgICB9LAoKICAgIC8vIOWPlua2iOaMiemSrgogICAgY2FuY2VsKCkgewogICAgICB0aGlzLm9wZW4gPSBmYWxzZTsKICAgICAgdGhpcy5yZXNldCgpOwogICAgfSwKICAgIC8vIOWPlua2iOaMiemSru+8iOaVsOaNruadg+mZkO+8iQogICAgY2FuY2VsRGF0YVNjb3BlKCkgewogICAgICB0aGlzLm9wZW5EYXRhU2NvcGUgPSBmYWxzZTsKICAgICAgdGhpcy5yZXNldCgpOwogICAgfSwKICAgIC8vIOihqOWNlemHjee9rgogICAgcmVzZXQoKSB7CiAgICAgIGlmICh0aGlzLiRyZWZzLm1lbnUgIT0gdW5kZWZpbmVkKSB7CiAgICAgICAgdGhpcy4kcmVmcy5tZW51LnNldENoZWNrZWRLZXlzKFtdKTsKICAgICAgfQogICAgICAodGhpcy5tZW51RXhwYW5kID0gZmFsc2UpLAogICAgICAgICh0aGlzLm1lbnVOb2RlQWxsID0gZmFsc2UpLAogICAgICAgICh0aGlzLmRlcHRFeHBhbmQgPSB0cnVlKSwKICAgICAgICAodGhpcy5kZXB0Tm9kZUFsbCA9IGZhbHNlKSwKICAgICAgICAodGhpcy5mb3JtID0gewogICAgICAgICAgcm9sZUlkOiB1bmRlZmluZWQsCiAgICAgICAgICByb2xlTmFtZTogdW5kZWZpbmVkLAogICAgICAgICAgcm9sZUtleTogdW5kZWZpbmVkLAogICAgICAgICAgcm9sZVNvcnQ6IDAsCiAgICAgICAgICBzdGF0dXM6ICcwJywKICAgICAgICAgIG1lbnVJZHM6IFtdLAogICAgICAgICAgZGVwdElkczogW10sCiAgICAgICAgICBtZW51Q2hlY2tTdHJpY3RseTogdHJ1ZSwKICAgICAgICAgIGRlcHRDaGVja1N0cmljdGx5OiB0cnVlLAogICAgICAgICAgcmVtYXJrOiB1bmRlZmluZWQKICAgICAgICB9KTsKICAgICAgdGhpcy5yZXNldEZvcm0oJ2Zvcm0nKTsKICAgIH0sCiAgICAvKiog5pCc57Si5oyJ6ZKu5pON5L2cICovCiAgICBoYW5kbGVRdWVyeSgpIHsKICAgICAgdGhpcy5xdWVyeVBhcmFtcy5wYWdlTnVtID0gMTsKICAgICAgdGhpcy5nZXRMaXN0KCk7CiAgICB9LAogICAgLyoqIOmHjee9ruaMiemSruaTjeS9nCAqLwogICAgcmVzZXRRdWVyeSgpIHsKICAgICAgdGhpcy5kYXRlUmFuZ2UgPSBbXTsKICAgICAgdGhpcy5yZXNldEZvcm0oJ3F1ZXJ5Rm9ybScpOwogICAgICB0aGlzLmhhbmRsZVF1ZXJ5KCk7CiAgICB9LAogICAgLy8g5aSa6YCJ5qGG6YCJ5Lit5pWw5o2uCiAgICBoYW5kbGVTZWxlY3Rpb25DaGFuZ2Uoc2VsZWN0aW9uKSB7CiAgICAgIHRoaXMuaWRzID0gc2VsZWN0aW9uLm1hcChpdGVtID0+IGl0ZW0ucm9sZUlkKTsKICAgICAgdGhpcy5zaW5nbGUgPSBzZWxlY3Rpb24ubGVuZ3RoICE9IDE7CiAgICAgIHRoaXMubXVsdGlwbGUgPSAhc2VsZWN0aW9uLmxlbmd0aDsKICAgIH0sCiAgICAvLyDmoJHmnYPpmZDvvIjlsZXlvIAv5oqY5Y+g77yJCiAgICBoYW5kbGVDaGVja2VkVHJlZUV4cGFuZCh2YWx1ZSwgdHlwZSkgewogICAgICBpZiAodHlwZSA9PSAnbWVudScpIHsKICAgICAgICBsZXQgdHJlZUxpc3QgPSB0aGlzLm1lbnVPcHRpb25zOwogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdHJlZUxpc3QubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIHRoaXMuJHJlZnMubWVudS5zdG9yZS5ub2Rlc01hcFt0cmVlTGlzdFtpXS5pZF0uZXhwYW5kZWQgPSB2YWx1ZTsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PSAnZGVwdCcpIHsKICAgICAgICBsZXQgdHJlZUxpc3QgPSB0aGlzLmRlcHRPcHRpb25zOwogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdHJlZUxpc3QubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIHRoaXMuJHJlZnMuZGVwdC5zdG9yZS5ub2Rlc01hcFt0cmVlTGlzdFtpXS5pZF0uZXhwYW5kZWQgPSB2YWx1ZTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICAvLyDmoJHmnYPpmZDvvIjlhajpgIkv5YWo5LiN6YCJ77yJCiAgICBoYW5kbGVDaGVja2VkVHJlZU5vZGVBbGwodmFsdWUsIHR5cGUpIHsKICAgICAgaWYgKHR5cGUgPT0gJ21lbnUnKSB7CiAgICAgICAgdGhpcy4kcmVmcy5tZW51LnNldENoZWNrZWROb2Rlcyh2YWx1ZSA/IHRoaXMubWVudU9wdGlvbnMgOiBbXSk7CiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PSAnZGVwdCcpIHsKICAgICAgICB0aGlzLiRyZWZzLmRlcHQuc2V0Q2hlY2tlZE5vZGVzKHZhbHVlID8gdGhpcy5kZXB0T3B0aW9ucyA6IFtdKTsKICAgICAgfQogICAgfSwKICAgIC8vIOagkeadg+mZkO+8iOeItuWtkOiBlOWKqO+8iQogICAgaGFuZGxlQ2hlY2tlZFRyZWVDb25uZWN0KHZhbHVlLCB0eXBlKSB7CiAgICAgIGlmICh0eXBlID09ICdtZW51JykgewogICAgICAgIHRoaXMuZm9ybS5tZW51Q2hlY2tTdHJpY3RseSA9IHZhbHVlID8gdHJ1ZSA6IGZhbHNlOwogICAgICB9IGVsc2UgaWYgKHR5cGUgPT0gJ2RlcHQnKSB7CiAgICAgICAgdGhpcy5mb3JtLmRlcHRDaGVja1N0cmljdGx5ID0gdmFsdWUgPyB0cnVlIDogZmFsc2U7CiAgICAgIH0KICAgIH0sCiAgICAvKiog5paw5aKe5oyJ6ZKu5pON5L2cICovCiAgICBoYW5kbGVBZGQoKSB7CiAgICAgIHRoaXMucmVzZXQoKTsKICAgICAgdGhpcy5nZXRNZW51VHJlZXNlbGVjdCgpOwogICAgICB0aGlzLm9wZW4gPSB0cnVlOwogICAgICB0aGlzLnRpdGxlID0gJ+mcgOaxguivpuaDhSc7CiAgICB9LAogICAgLyoqIOS/ruaUueaMiemSruaTjeS9nCAqLwogICAgaGFuZGxlVXBkYXRlKHJvdykgewogICAgICB0aGlzLnJlc2V0KCk7CiAgICAgIGNvbnN0IHJvbGVJZCA9IHJvdy5yb2xlSWQgfHwgdGhpcy5pZHM7CiAgICAgIGNvbnN0IHJvbGVNZW51ID0gdGhpcy5nZXRSb2xlTWVudVRyZWVzZWxlY3Qocm9sZUlkKTsKICAgICAgZ2V0Um9sZShyb2xlSWQpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIHRoaXMuZm9ybSA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgdGhpcy5vcGVuID0gdHJ1ZTsKICAgICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgICByb2xlTWVudS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgIHRoaXMuJHJlZnMubWVudS5zZXRDaGVja2VkS2V5cyhyZXMuY2hlY2tlZEtleXMpOwogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgICAgdGhpcy50aXRsZSA9ICfkv67mlLnkvZzniaknOwogICAgICB9KTsKICAgIH0sCiAgICAvKiog5YiG6YWN5pWw5o2u5p2D6ZmQ5pON5L2cICovCiAgICBoYW5kbGVEYXRhU2NvcGUocm93KSB7CiAgICAgIHRoaXMucmVzZXQoKTsKICAgICAgY29uc3Qgcm9sZURlcHRUcmVlc2VsZWN0ID0gdGhpcy5nZXRSb2xlRGVwdFRyZWVzZWxlY3Qocm93LnJvbGVJZCk7CiAgICAgIGdldFJvbGUocm93LnJvbGVJZCkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgdGhpcy5mb3JtID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICB0aGlzLm9wZW5EYXRhU2NvcGUgPSB0cnVlOwogICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICAgIHJvbGVEZXB0VHJlZXNlbGVjdC50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgIHRoaXMuJHJlZnMuZGVwdC5zZXRDaGVja2VkS2V5cyhyZXMuY2hlY2tlZEtleXMpOwogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgICAgdGhpcy50aXRsZSA9ICfliIbphY3mlbDmja7mnYPpmZAnOwogICAgICB9KTsKICAgIH0sCiAgICAvKiog5o+Q5Lqk5oyJ6ZKuICovCiAgICBzdWJtaXRGb3JtOiBmdW5jdGlvbigpIHsKICAgICAgLy8gdGhpcy4kcmVmc1siZm9ybSJdLnZhbGlkYXRlKHZhbGlkID0+IHsKICAgICAgLy8gICAgIGlmICh2YWxpZCkgewogICAgICBzYXZlQ3JvcHModGhpcy5mb3JtKS50aGVuKHJlcyA9PiB7CiAgICAgICAgaWYgKHJlcy5jb2RlID09PSAyMDApIHsKICAgICAgICAgIHRoaXMubXNnU3VjY2Vzcygn5L+u5pS55oiQ5YqfJyk7CiAgICAgICAgICB0aGlzLm9wZW4gPSBmYWxzZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICAvLyBpZiAodGhpcy5mb3JtLnJvbGVJZCAhPSB1bmRlZmluZWQpIHsKICAgICAgLy8gICAgIHRoaXMuZm9ybS5tZW51SWRzID0gdGhpcy5nZXRNZW51QWxsQ2hlY2tlZEtleXMoKTsKICAgICAgLy8gICAgIHVwZGF0ZVJvbGUodGhpcy5mb3JtKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgLy8gICAgICAgICBpZiAocmVzcG9uc2UuY29kZSA9PT0gMjAwKSB7CiAgICAgIC8vICAgICAgICAgICAgIHRoaXMubXNnU3VjY2Vzcygi5L+u5pS55oiQ5YqfIik7CiAgICAgIC8vICAgICAgICAgICAgIHRoaXMub3BlbiA9IGZhbHNlOwogICAgICAvLyAgICAgICAgICAgICB0aGlzLmdldExpc3QoKTsKICAgICAgLy8gICAgICAgICB9CiAgICAgIC8vICAgICB9KTsKICAgICAgLy8gfSBlbHNlIHsKICAgICAgLy8gICAgIHRoaXMuZm9ybS5tZW51SWRzID0gdGhpcy5nZXRNZW51QWxsQ2hlY2tlZEtleXMoKTsKICAgICAgLy8gICAgIGFkZFJvbGUodGhpcy5mb3JtKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgLy8gICAgICAgICBpZiAocmVzcG9uc2UuY29kZSA9PT0gMjAwKSB7CiAgICAgIC8vICAgICAgICAgICAgIHRoaXMubXNnU3VjY2Vzcygi5paw5aKe5oiQ5YqfIik7CiAgICAgIC8vICAgICAgICAgICAgIHRoaXMub3BlbiA9IGZhbHNlOwogICAgICAvLyAgICAgICAgICAgICB0aGlzLmdldExpc3QoKTsKICAgICAgLy8gICAgICAgICB9CiAgICAgIC8vICAgICB9KTsKICAgICAgLy8gfQogICAgICAvLyAgICAgfQogICAgICAvLyB9KTsKICAgIH0sCiAgICAvKiog5o+Q5Lqk5oyJ6ZKu77yI5pWw5o2u5p2D6ZmQ77yJICovCiAgICBzdWJtaXREYXRhU2NvcGU6IGZ1bmN0aW9uKCkgewogICAgICBpZiAodGhpcy5mb3JtLnJvbGVJZCAhPSB1bmRlZmluZWQpIHsKICAgICAgICB0aGlzLmZvcm0uZGVwdElkcyA9IHRoaXMuZ2V0RGVwdEFsbENoZWNrZWRLZXlzKCk7CiAgICAgICAgZGF0YVNjb3BlKHRoaXMuZm9ybSkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICBpZiAocmVzcG9uc2UuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgIHRoaXMubXNnU3VjY2Vzcygn5L+u5pS55oiQ5YqfJyk7CiAgICAgICAgICAgIHRoaXMub3BlbkRhdGFTY29wZSA9IGZhbHNlOwogICAgICAgICAgICB0aGlzLmdldExpc3QoKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIC8qKiDliKDpmaTmjInpkq7mk43kvZwgKi8KICAgIGhhbmRsZURlbGV0ZShyb3cpIHsKICAgICAgY29uc3Qgcm9sZUlkcyA9IHJvdy5yb2xlSWQgfHwgdGhpcy5pZHM7CiAgICAgIHRoaXMuJGNvbmZpcm0oJ+aYr+WQpuehruiupOWIoOmZpOinkuiJsue8luWPt+S4uiInICsgcm9sZUlkcyArICci55qE5pWw5o2u6aG5PycsICforablkYonLCB7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLAogICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICB9KQogICAgICAgIC50aGVuKGZ1bmN0aW9uKCkgewogICAgICAgICAgcmV0dXJuIGRlbFJvbGUocm9sZUlkcyk7CiAgICAgICAgfSkKICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICB0aGlzLmdldExpc3QoKTsKICAgICAgICAgIHRoaXMubXNnU3VjY2Vzcygn5Yig6Zmk5oiQ5YqfJyk7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goZnVuY3Rpb24oKSB7fSk7CiAgICB9LAogICAgLyoqIOWvvOWHuuaMiemSruaTjeS9nCAqLwogICAgaGFuZGxlRXhwb3J0KCkgewogICAgICBjb25zdCBxdWVyeVBhcmFtcyA9IHRoaXMucXVlcnlQYXJhbXM7CiAgICAgIHRoaXMuJGNvbmZpcm0oJ+aYr+WQpuehruiupOWvvOWHuuaJgOacieinkuiJsuaVsOaNrumhuT8nLCAn6K2m5ZGKJywgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgfSkKICAgICAgICAudGhlbihmdW5jdGlvbigpIHsKICAgICAgICAgIHJldHVybiBleHBvcnRSb2xlKHF1ZXJ5UGFyYW1zKTsKICAgICAgICB9KQogICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgIHRoaXMuZG93bmxvYWQocmVzcG9uc2UubXNnKTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaChmdW5jdGlvbigpIHt9KTsKICAgIH0KICB9Cn07Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgQA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/trace/farmer","sourcesContent":["<template>\n  <div class=\"app-container\">\n\n    <el-row :gutter=\"10\" class=\"mb8\">\n      <el-col :span=\"1.5\"><el-button type=\"primary\" icon=\"el-icon-plus\" size=\"mini\" @click=\"handleAdd\">需求发布</el-button></el-col>\n      <right-toolbar :showSearch.sync=\"showSearch\" @queryTable=\"getList\"></right-toolbar>\n    </el-row>\n\n    <el-table v-loading=\"loading\" :data=\"cropsList\" @selection-change=\"handleSelectionChange\">\n      <el-table-column type=\"selection\" width=\"55\" align=\"center\" />\n      <el-table-column label=\"需求编号\" prop=\"cropsId\" />\n      <el-table-column label=\"资源名称\" prop=\"cropsName\" />\n      <el-table-column label=\"状态\" prop=\"status\">\n        <template slot-scope=\"scope\">\n          <el-tag v-if=\"scope.row.status === 0\">待上报</el-tag>\n          <el-tag type=\"danger\" v-if=\"scope.row.status === 1\">已上报</el-tag>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"操作\" align=\"center\" class-name=\"small-padding fixed-width\">\n        <template slot-scope=\"scope\">\n<!--          <el-button v-show=\"scope.row.status === 0\" size=\"mini\" type=\"text\" @click=\"handleRecord(scope.row)\">周期记录</el-button>-->\n          <el-button size=\"mini\" type=\"text\" @click=\"cropsDetail(scope.row)\">需求详情</el-button>\n<!--          <el-button size=\"mini\" type=\"text\" @click=\"cropsProcessDetail(scope.row)\">过程详情</el-button>-->\n          <el-button v-show=\"scope.row.status === 0\" size=\"mini\" type=\"text\" @click=\"noticeTrasport(scope.row)\">需求上报</el-button>\n<!--          <el-button size=\"mini\" type=\"text\" @click=\"logisticsTrace(scope.row)\">物流追踪</el-button>-->\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <pagination v-show=\"total > 0\" :total=\"total\" :page.sync=\"queryParams.pageNum\" :limit.sync=\"queryParams.pageSize\" @pagination=\"getList\" />\n\n    <!-- 记录作物生长 -->\n<!--    <el-dialog center title=\"记录作物生长情况\" :visible.sync=\"growDialog\" width=\"700px\" append-to-body>-->\n<!--      <el-form ref=\"form\" label-width=\"80px\" :model=\"recordForm\">-->\n<!--        <el-row>-->\n<!--          <el-col :span=\"24\" align=\"center\">{{ cropsName }}</el-col>-->\n<!--        </el-row>-->\n<!--        <el-divider></el-divider>-->\n<!--        <el-row>-->\n<!--          <el-col :span=\"12\">-->\n<!--            <el-form-item label=\"温度\" prop=\"nickName\"><el-input v-model=\"recordForm.temperature\" placeholder=\"请输入温度\" /></el-form-item>-->\n<!--          </el-col>-->\n<!--          <el-col :span=\"12\">-->\n<!--            <el-form-item label=\"生长情况\" prop=\"nickName\"><el-input v-model=\"recordForm.growStatus\" placeholder=\"请输入生长情况\" /></el-form-item>-->\n<!--          </el-col>-->\n<!--        </el-row>-->\n<!--        <el-row>-->\n<!--          <el-col :span=\"12\">-->\n<!--            <el-form-item label=\"水分\" prop=\"nickName\"><el-input v-model=\"recordForm.waterContent\" placeholder=\"请输入水分\" /></el-form-item>-->\n<!--          </el-col>-->\n<!--          <el-col :span=\"12\">-->\n<!--            <el-form-item label=\"光照情况\" prop=\"nickName\"><el-input v-model=\"recordForm.illuminationStatus\" placeholder=\"请输入光照情况\" /></el-form-item>-->\n<!--          </el-col>-->\n<!--        </el-row>-->\n<!--        <el-row>-->\n<!--          <el-col :span=\"12\">-->\n<!--            <el-form-item label=\"备注\" prop=\"nickName\"><el-input v-model=\"recordForm.remarks\" type=\"textarea\" placeholder=\"请输入内容\"></el-input></el-form-item>-->\n<!--          </el-col>-->\n<!--        </el-row>-->\n<!--        <el-row>-->\n<!--          <el-col :span=\"12\">-->\n<!--            <el-form-item label=\"生长图片:\">-->\n<!--              <el-upload class=\"avatar-uploader\" :on-change=\"getFile\" :show-file-list=\"false\" :auto-upload=\"false\">-->\n<!--                <img v-if=\"imageUrl\" :src=\"imageUrl\" class=\"avatar\" />-->\n<!--                <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>-->\n<!--              </el-upload>-->\n<!--            </el-form-item>-->\n<!--          </el-col>-->\n<!--        </el-row>-->\n<!--      </el-form>-->\n<!--      <div slot=\"footer\" class=\"dialog-footer\">-->\n<!--        <el-button size=\"mini\" type=\"primary\" @click=\"recordCropsGrow\">确 定</el-button>-->\n<!--        <el-button size=\"mini\" @click=\"cancel\">取 消</el-button>-->\n<!--      </div>-->\n<!--    </el-dialog>-->\n\n    <!-- 添加或修改需求对话框 -->\n    <el-dialog :title=\"title\" :visible.sync=\"open\" width=\"700px\" append-to-body>\n      <el-form ref=\"form\" :model=\"form\" :rules=\"rules\" label-width=\"80px\">\n        <el-row>\n          <el-col :span=\"12\">\n            <el-form-item label=\"资源名称\" prop=\"nickName\"><el-input v-model=\"form.cropsName\" placeholder=\"请输入需求名称\" /></el-form-item>\n          </el-col>\n          <el-col :span=\"12\">\n            <el-form-item label=\"资源类型\" prop=\"nickName\">\n              <el-select v-model=\"form.cropsType\" placeholder=\"请选择\">\n                <el-option v-for=\"dict in cropsTypeOptions\" :key=\"dict.dictValue\" :label=\"dict.dictLabel\" :value=\"dict.dictValue\"></el-option>\n              </el-select>\n            </el-form-item>\n          </el-col>\n        </el-row>\n        <el-row>\n          <el-col :span=\"12\">\n            <el-form-item label=\"公司名称\" prop=\"nickName\"><el-input v-model=\"form.fertilizerName\" placeholder=\"请输入公司名称\" /></el-form-item>\n          </el-col>\n          <el-col :span=\"12\">\n            <el-form-item label=\"交易方式\" prop=\"nickName\">\n              <el-select v-model=\"form.plantMode\" placeholder=\"请选择\">\n                <el-option v-for=\"dict in plantModeOptions\" :key=\"dict.dictValue\" :label=\"dict.dictLabel\" :value=\"dict.dictValue\"></el-option>\n              </el-select>\n            </el-form-item>\n          </el-col>\n        </el-row>\n        <el-row>\n          <el-col :span=\"12\">\n            <el-form-item label=\"发布时间\" prop=\"nickName\"><el-input v-model=\"form.year\" placeholder=\"请输入发布时间\" /></el-form-item>\n          </el-col>\n          <el-col :span=\"12\">\n            <el-form-item label=\"承运方\" prop=\"nickName\">\n              <el-select v-model=\"form.baggingStatus\" placeholder=\"请选择\">\n                <el-option v-for=\"dict in beggingOptions\" :key=\"dict.dictValue\" :label=\"dict.dictLabel\" :value=\"dict.dictValue\"></el-option>\n              </el-select>\n            </el-form-item>\n          </el-col>\n        </el-row>\n        <el-row>\n          <el-col :span=\"12\">\n            <el-form-item label=\"截止时间\" prop=\"nickName\"><el-input v-model=\"form.growSeedlingsCycle\" placeholder=\"请输入截止时间\" /></el-form-item>\n          </el-col>\n          <el-col :span=\"12\">\n            <el-form-item label=\"生产周期\" prop=\"nickName\"><el-input v-model=\"form.irrigationCycle\" placeholder=\"请输入生产周期\" /></el-form-item>\n          </el-col>\n        </el-row>\n        <el-row>\n          <el-col :span=\"12\">\n            <el-form-item label=\"需求数量\" prop=\"nickName\"><el-input v-model=\"form.applyFertilizerCycle\" placeholder=\"请输入需求数量\" /></el-form-item>\n          </el-col>\n          <el-col :span=\"12\">\n            <el-form-item label=\"期望价格\" prop=\"nickName\"><el-input v-model=\"form.weedCycle\" placeholder=\"请输入期望价格\" /></el-form-item>\n          </el-col>\n        </el-row>\n        <el-row>\n          <el-col :span=\"12\">\n            <el-form-item label=\"详细地址\" prop=\"nickName\"><el-input v-model=\"form.address\" placeholder=\"请输入详细地址\" /></el-form-item>\n          </el-col>\n        </el-row>\n        <el-form-item label=\"备注\"><el-input v-model=\"form.remarks\" type=\"textarea\" placeholder=\"请输入内容\"></el-input></el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button type=\"primary\" @click=\"createCrops\">确 定</el-button>\n        <el-button @click=\"cancel\">取 消</el-button>\n      </div>\n    </el-dialog>\n\n    <!-- 需求详情 -->\n    <el-dialog center title=\"需求信息链上数据详情\" :visible.sync=\"cropsDetaiDialog\" width=\"700px\" append-to-body>\n      <el-row>\n        <el-col :span=\"12\">需求ID：{{ cropsDetails.crops_id }}</el-col>\n        <el-col :span=\"12\">资源名称：{{ cropsDetails.crops_name }}</el-col>\n      </el-row>\n      <el-divider></el-divider>\n      <el-row>\n        <el-col :span=\"12\">地址：{{ cropsDetails.address }}</el-col>\n<!--        <el-col :span=\"12\">公司信息：{{ cropsDetails.farmer_name }}</el-col>-->\n      </el-row>\n      <el-divider></el-divider>\n      <el-row>\n        <el-col :span=\"12\">需求数量：{{ cropsDetails.apply_fertilizer_cycle }}</el-col>\n        <el-col :span=\"12\">交易方式：{{ cropsDetails.plant_mode }}</el-col>\n      </el-row>\n      <el-divider></el-divider>\n      <el-row>\n        <el-col :span=\"12\">公司名称：{{ cropsDetails.fertilizer_name }}</el-col>\n        <el-col :span=\"12\">承运方：{{ cropsDetails.bagging_status }}</el-col>\n      </el-row>\n      <el-divider></el-divider>\n      <el-row>\n<!--        <el-col :span=\"12\">联系电话：{{ cropsDetails.farmer_tel }}</el-col>-->\n        <el-col :span=\"12\">发布时间：{{ cropsDetails.year }}</el-col>\n        <el-col :span=\"12\">截止时间：{{ cropsDetails.grow_seedlings_cycle }}</el-col>\n      </el-row>\n      <el-divider></el-divider>\n      <el-row>\n<!--        <el-col :span=\"12\">育苗周期：{{ cropsDetails.grow_seedlings_cycle }}</el-col>-->\n        <el-col :span=\"12\">生产周期：{{ cropsDetails.irrigation_cycle }}</el-col>\n        <el-col :span=\"12\">期望价格：{{ cropsDetails.weed_cycle }}</el-col>\n      </el-row>\n      <el-divider></el-divider>\n      <el-row>\n<!--        <el-col :span=\"12\">期望价格：{{ cropsDetails.weed_cycle }}</el-col>-->\n        <el-col :span=\"12\">上链登记时间：{{ cropsDetails.register_time }}</el-col>\n      </el-row>\n      <el-divider></el-divider>\n      <el-row>\n        <el-col :span=\"12\">备注：{{ cropsDetails.remarks }}</el-col>\n      </el-row>\n    </el-dialog>\n\n    <!-- 过程详情 -->\n<!--    <el-drawer size=\"80%\" :visible.sync=\"cropsProcessDetaiDialog\" :show-close=\"false\" :with-header=\"false\">-->\n<!--      <el-divider content-position=\"left\">农作物链上过程详情</el-divider>-->\n<!--      <el-table v-loading=\"loading\" :data=\"cropsProcessDetailsArray\">-->\n<!--        <el-table-column label=\"过程ID\" prop=\"crops_grow_id\" />-->\n<!--        <el-table-column label=\"作物ID\" prop=\"crops_bak_id\" />-->\n<!--        <el-table-column label=\"生长状态\" prop=\"grow_status\" />-->\n<!--        <el-table-column label=\"光照情况\" prop=\"illumination_status\" />-->\n<!--        <el-table-column label=\"记录时间\" prop=\"record_time\" />-->\n<!--        <el-table-column label=\"温度\" prop=\"temperature\" />-->\n<!--        <el-table-column label=\"水分状态\" prop=\"water_content\" />-->\n<!--        <el-table-column label=\"备注\" prop=\"remarks\" />-->\n<!--        <el-table-column label=\"图片\" class=\"demo-image__preview\">-->\n<!--          <template slot-scope=\"scope\">-->\n<!--            <el-image :preview-src-list=\"scope.row.crops_grow_photo_url\" :src=\"scope.row.crops_grow_photo_url\" style=\"width: 100px;height: 80px\"></el-image>-->\n<!--          </template>-->\n<!--        </el-table-column>-->\n<!--      </el-table>-->\n<!--    </el-drawer>-->\n\n    <el-dialog center title=\"核验需求\" :visible.sync=\"noticeDetaiDialog\" width=\"500px\" append-to-body>\n      <el-form ref=\"form\" :model=\"trasportForm\" label-width=\"80px\">\n        <el-row>\n          <el-col :span=\"24\">\n            <el-form-item label=\"审核人员\" prop=\"nickName\">\n              <el-select v-model=\"trasportForm.userName\" placeholder=\"请选择\">\n                <el-option v-for=\"user in driverList\" :key=\"user.userName\" :label=\"user.nickName\" :value=\"user.userName\"></el-option>\n              </el-select>\n            </el-form-item>\n          </el-col>\n        </el-row>\n        <el-row>\n          <el-col :span=\"24\">\n            <el-form-item label=\"需求提交\" prop=\"nickName\">\n              <el-select v-model=\"trasportForm.deptId\" placeholder=\"请选择\">\n                <el-option v-for=\"dept in factoryList\" :key=\"dept.deptId\" :label=\"dept.deptName\" :value=\"dept.deptId\"></el-option>\n              </el-select>\n            </el-form-item>\n          </el-col>\n        </el-row>\n        <el-row>\n          <el-col :span=\"24\">\n            <el-form-item label=\"备注\">\n              <el-input v-model=\"trasportForm.remarks\" type=\"textarea\" placeholder=\"请输入内容\"></el-input>\n            </el-form-item>\n          </el-col>\n        </el-row>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button type=\"primary\" @click=\"addNoticeTrasport\">确 定</el-button>\n        <el-button @click=\"cancel\">取 消</el-button>\n      </div>\n    </el-dialog>\n\n    <!--轨迹弹出框-->\n<!--    <el-drawer size=\"80%\" :visible.sync=\"playTrackView\" :show-close=\"false\" :with-header=\"false\">-->\n<!--      <el-divider content-position=\"left\">物流追踪</el-divider>-->\n<!--      &lt;!&ndash; <el-container style=\"height: 600px; border: 1px solid #eee\">-->\n<!--        <el-main>-->\n<!--          <div class=\"map-page\" style=\"height: 100%\"><div id=\"position\"></div></div>-->\n<!--        </el-main>-->\n<!--      </el-container> &ndash;&gt;-->\n<!--      <div id=\"container\" class=\"map\"></div>-->\n<!--    </el-drawer>-->\n  </div>\n</template>\n\n<script>\nimport { listRole, getRole, delRole, addRole, updateRole, exportRole, dataScope, changeRoleStatus } from '@/api/system/role';\nimport { treeselect as menuTreeselect, roleMenuTreeselect } from '@/api/system/menu';\nimport { treeselect as deptTreeselect, roleDeptTreeselect } from '@/api/system/dept';\nimport {getFactoryByDeptId, addTransport, getAllDriverByDeptId, uplodImagesBase64, listCrops, saveCrops } from '../../../api/trace/farmer';\nimport { formatDate } from '../../../utils/index.js';\nexport default {\n  name: 'Role',\n\n  data() {\n    return {\n      // 遮罩层\n      loading: true,\n      // 选中数组\n      ids: [],\n      // 非单个禁用\n      single: true,\n      // 非多个禁用\n      multiple: true,\n      // 显示搜索条件\n      showSearch: true,\n      // 总条数\n      total: 0,\n      // 角色表格数据\n      cropsList: [],\n      // 弹出层标题\n      title: '',\n      // 是否显示弹出层\n      open: false,\n      // 是否显示弹出层（数据权限）\n      openDataScope: false,\n      menuExpand: false,\n      menuNodeAll: false,\n      deptExpand: true,\n      deptNodeAll: false,\n      // 日期范围\n      dateRange: [],\n      // 状态数据字典\n      statusOptions: ['在种', '停种'],\n\n      beggingOptions: [],\n      plantModeOptions: [], //种植方式\n      cropsTypeOptions: [], //作物类型\n\n      growDialog: false, //z作物生长记录弹出框\n      cropsName: '',\n      cropsDetaiDialog: false,\n\n      cropsDetails: '',\n      // 菜单列表\n      menuOptions: [],\n      // 部门列表\n      deptOptions: [],\n      // 查询参数\n      queryParams: {\n        pageNum: 1,\n        pageSize: 10,\n        roleName: undefined,\n        roleKey: undefined,\n        status: undefined\n      },\n      // 表单参数\n      form: {},\n      defaultProps: {\n        children: 'children',\n        label: 'label'\n      },\n      recordForm: {},\n      imageUrl: '',\n      imgBase64: [],\n      cropsPhotoUrl: '',\n      cropsInfo: '',\n      growDialog: false,\n      cropsProcessDetailsArray: [],\n      cropsProcessDetaiDialog: false,\n      noticeDetaiDialog: false,\n      driverList: [],\n      trasportForm: {\n        cropsId: '',\n        farmerUserName: '',\n        farmerNickName: '',\n        time: ''\n      },\n      trasportInfo: '',\n      playTrackView: false,\n      factoryList:[],\n    };\n  },\n  created() {\n    this.getCropsList();\n    this.getDicts('crops_bagging').then(response => {\n      this.beggingOptions = response.data;\n    });\n    this.getDicts('crops_plant_type').then(res => {\n      this.plantModeOptions = res.data;\n    });\n    this.getDicts('crops_type').then(res => {\n      this.cropsTypeOptions = res.data;\n    });\n  },\n  methods: {\n    /**\n     * 物流追踪\n     */\n    logisticsTrace(row) {\n      this.$nextTick(() => {\n        this.playTrackView = true;\n        const lineArr = [\n          [111.315, 23.4955],\n          [110.95752228710936, 23.37433777262006],\n          [109.19833649609373, 23.74883016517126],\n          [109.42355622265623, 24.320753154228328],\n        ];\n        //创建地图\n        var map = new AMap.Map('container', {\n          resizeEnable: true,\n          center: [111.315, 23.4955],\n          zoom: 9\n        });\n        //标记车辆\n        var marker = new AMap.Marker({\n          position: [111.315, 23.4955],\n          icon: 'https://webapi.amap.com/images/car.png',\n          //坐标偏移\n          offset: new AMap.Pixel(-26, -13),\n          autoRotation: true,\n          angle: -90,\n          map: map\n        });\n        // 绘制轨迹路线\n        var polyline = new AMap.Polyline({\n          map: this.map,\n          //这里替换自己的坐标数据\n          path: lineArr,\n          borderWeight: 2, // 线条宽度，默认为 1\n          strokeColor: 'red', // 线条颜色\n          lineJoin: 'round' // 折线拐点连接处样式\n        });\n        map.add(polyline);\n\n        //调用方法开启动画\n        marker.moveAlong(lineArr, 30000);\n      })\n\n    },\n\n    addNoticeTrasport() {\n      this.trasportForm.cropsId = this.trasportInfo.cropsId;\n      this.trasportForm.farmerUserName = this.$store.getters.name;\n      this.trasportForm.farmerNickName = this.$store.getters.nickName;\n      this.trasportForm.time = new Date();\n      this.trasportForm.driverId = this.trasportForm.userName;\n      this.trasportForm.status = 0;\n      this.trasportForm.farmerTel = this.$store.getters.phonenumber;\n      this.trasportForm.farmerDept = this.$store.getters.deptName;\n      this.trasportForm.factoryId = this.trasportForm.deptId\n      addTransport(this.trasportForm)\n        .then(res => {\n          this.msgSuccess('需求已成功提交到资源池');\n          this.noticeDetaiDialog = false;\n          this.getCropsList();\n        })\n        .catch(err => {\n          this.msgError('需求提交失败，发生异常');\n        });\n    },\n\n    /**\n     * @param {Object} row通知运输\n     */\n    noticeTrasport(row) {\n      this.trasportInfo = row;\n      getAllDriverByDeptId(this.$store.getters.deptId)\n        .then(res => {\n          this.driverList = res.data;\n        })\n        .catch(err => {});\n      //获取所有原料厂商\n      getFactoryByDeptId(119)\n        .then(res => {\n          this.factoryList = res.data;\n        })\n        .catch(err => {});\n      this.noticeDetaiDialog = true;\n    },\n\n    /**\n     * 种植过程详情\n     */\n    cropsProcessDetail(row) {\n      this.$httpBlock\n        .get(this.$httpUrl + '/farmerapi/queryCropsProcessByCropsId?id=' + row.cropsId)\n        .then(res => {\n          const array = [];\n\n          for (let i = 0; i < res.data.length; i++) {\n            array.push(res.data[i].Record);\n          }\n          this.cropsProcessDetailsArray = array;\n          this.cropsProcessDetaiDialog = true;\n        })\n        .catch(err => {});\n    },\n\n    recordCropsGrow() {\n      const cropsGrowInfo = this.recordForm;\n      const cropsGrowArray = [];\n      const id = new this.$snowFlakeId().generate();\n      cropsGrowArray.push(id);\n      cropsGrowArray.push(id);\n      cropsGrowArray.push(this.cropsInfo.cropsId);\n      cropsGrowArray.push(formatDate(new Date()));\n      cropsGrowArray.push(this.cropsPhotoUrl);\n      cropsGrowArray.push(cropsGrowInfo.temperature);\n      cropsGrowArray.push(cropsGrowInfo.growStatus);\n      cropsGrowArray.push(cropsGrowInfo.waterContent);\n      cropsGrowArray.push(cropsGrowInfo.illuminationStatus);\n      cropsGrowArray.push(cropsGrowInfo.remarks);\n      this.$httpBlock\n        .post(this.$httpUrl + '/farmerapi/recordCropsGrow', { cropsGrowArray: cropsGrowArray })\n        .then(res => {\n          if (res.status === 200) {\n            this.msgSuccess('数据上链成功');\n            this.growDialog = false;\n          }\n        })\n        .catch(err => {\n          this.msgError('存储异常 ' + err);\n        });\n    },\n\n    getFile(file) {\n      this.imageUrl = URL.createObjectURL(file.raw);\n      this.getBase64(file.raw).then(res => {\n        this.imgBase64 = res;\n        const datas = {\n          imageBase64: this.imgBase64\n        };\n        uplodImagesBase64(datas)\n          .then(res => {\n            this.cropsPhotoUrl = res.msg;\n            this.msgSuccess('图片上传成功');\n          })\n          .catch(err => {\n            this.msgError('图片上传失败');\n          });\n      });\n    },\n\n    getBase64(file) {\n      return new Promise(function(resolve, reject) {\n        const reader = new FileReader();\n        let imgResult = '';\n        reader.readAsDataURL(file);\n        reader.onload = function() {\n          imgResult = reader.result;\n        };\n        reader.onerror = function(error) {\n          reject(error);\n        };\n        reader.onloadend = function() {\n          resolve(imgResult);\n        };\n      });\n    },\n\n    createCrops() {\n      const crops = this.form;\n      const cropsArray = [];\n      cropsArray.push(new this.$snowFlakeId().generate());\n      cropsArray.push(new this.$snowFlakeId().generate());\n      cropsArray.push(this.form.cropsName);\n      cropsArray.push(this.form.address);\n      cropsArray.push(this.$store.getters.nickName);\n      cropsArray.push(this.form.fertilizerName);\n      cropsArray.push(this.form.plantMode);\n      cropsArray.push(this.form.baggingStatus);\n      cropsArray.push(this.form.growSeedlingsCycle);\n      cropsArray.push(this.form.irrigationCycle);\n      cropsArray.push(this.form.applyFertilizerCycle);\n      cropsArray.push(this.form.weedCycle);\n      cropsArray.push(this.form.remarks);\n      cropsArray.push(formatDate(new Date()));\n      cropsArray.push(this.form.year);\n      cropsArray.push(this.$store.getters.phonenumber);\n      this.$httpBlock\n        .post(this.$httpUrl + '/farmerapi/createCrops', { cropsArray: cropsArray })\n        .then(res => {\n          if (res.status === 200) {\n            this.msgSuccess('数据上链成功');\n            const cropsUser = {\n              username: this.$store.getters.name,\n              cropsId: cropsArray[0],\n              cropsName: cropsArray[2],\n              status: 0\n            };\n            saveCrops(cropsUser)\n              .then(res => {\n                this.getCropsList()\n              })\n              .catch(err => {\n                this.msgError('id存储异常 ' + err);\n              });\n            this.getCropsList();\n            this.open = false;\n          }\n        })\n        .catch(err => {\n          this.msgError('存储异常 ' + err);\n        });\n    },\n\n    handleRecord(row) {\n      this.cropsName = row.cropsName;\n      this.cropsInfo = row;\n      this.growDialog = true;\n    },\n\n    /** 查询作物列表 */\n    getCropsList() {\n      this.loading = true;\n      listCrops(this.$store.getters.name).then(response => {\n        this.cropsList = response.data;\n        this.total = response.total;\n        this.loading = false;\n      });\n    },\n\n    /**\n     * 作物详情\n     */\n    cropsDetail(row) {\n      this.$httpBlock\n        .get(this.$httpUrl + '/farmerapi/queryCropsById?id=' + row.cropsId)\n        .then(res => {\n          this.cropsDetails = res.data;\n          this.cropsDetaiDialog = true;\n        })\n        .catch(err => {});\n    },\n\n    /** 查询菜单树结构 */\n    getMenuTreeselect() {\n      menuTreeselect().then(response => {\n        this.menuOptions = response.data;\n      });\n    },\n    /** 查询部门树结构 */\n    getDeptTreeselect() {\n      deptTreeselect().then(response => {\n        this.deptOptions = response.data;\n      });\n    },\n    // 所有菜单节点数据\n    getMenuAllCheckedKeys() {\n      // 目前被选中的菜单节点\n      let checkedKeys = this.$refs.menu.getHalfCheckedKeys();\n      // 半选中的菜单节点\n      let halfCheckedKeys = this.$refs.menu.getCheckedKeys();\n      checkedKeys.unshift.apply(checkedKeys, halfCheckedKeys);\n      return checkedKeys;\n    },\n    // 所有部门节点数据\n    getDeptAllCheckedKeys() {\n      // 目前被选中的部门节点\n      let checkedKeys = this.$refs.dept.getHalfCheckedKeys();\n      // 半选中的部门节点\n      let halfCheckedKeys = this.$refs.dept.getCheckedKeys();\n      checkedKeys.unshift.apply(checkedKeys, halfCheckedKeys);\n      return checkedKeys;\n    },\n    /** 根据角色ID查询菜单树结构 */\n    getRoleMenuTreeselect(roleId) {\n      return roleMenuTreeselect(roleId).then(response => {\n        this.menuOptions = response.menus;\n        return response;\n      });\n    },\n    /** 根据角色ID查询部门树结构 */\n    getRoleDeptTreeselect(roleId) {\n      return roleDeptTreeselect(roleId).then(response => {\n        this.deptOptions = response.depts;\n        return response;\n      });\n    },\n\n    // 取消按钮\n    cancel() {\n      this.open = false;\n      this.reset();\n    },\n    // 取消按钮（数据权限）\n    cancelDataScope() {\n      this.openDataScope = false;\n      this.reset();\n    },\n    // 表单重置\n    reset() {\n      if (this.$refs.menu != undefined) {\n        this.$refs.menu.setCheckedKeys([]);\n      }\n      (this.menuExpand = false),\n        (this.menuNodeAll = false),\n        (this.deptExpand = true),\n        (this.deptNodeAll = false),\n        (this.form = {\n          roleId: undefined,\n          roleName: undefined,\n          roleKey: undefined,\n          roleSort: 0,\n          status: '0',\n          menuIds: [],\n          deptIds: [],\n          menuCheckStrictly: true,\n          deptCheckStrictly: true,\n          remark: undefined\n        });\n      this.resetForm('form');\n    },\n    /** 搜索按钮操作 */\n    handleQuery() {\n      this.queryParams.pageNum = 1;\n      this.getList();\n    },\n    /** 重置按钮操作 */\n    resetQuery() {\n      this.dateRange = [];\n      this.resetForm('queryForm');\n      this.handleQuery();\n    },\n    // 多选框选中数据\n    handleSelectionChange(selection) {\n      this.ids = selection.map(item => item.roleId);\n      this.single = selection.length != 1;\n      this.multiple = !selection.length;\n    },\n    // 树权限（展开/折叠）\n    handleCheckedTreeExpand(value, type) {\n      if (type == 'menu') {\n        let treeList = this.menuOptions;\n        for (let i = 0; i < treeList.length; i++) {\n          this.$refs.menu.store.nodesMap[treeList[i].id].expanded = value;\n        }\n      } else if (type == 'dept') {\n        let treeList = this.deptOptions;\n        for (let i = 0; i < treeList.length; i++) {\n          this.$refs.dept.store.nodesMap[treeList[i].id].expanded = value;\n        }\n      }\n    },\n    // 树权限（全选/全不选）\n    handleCheckedTreeNodeAll(value, type) {\n      if (type == 'menu') {\n        this.$refs.menu.setCheckedNodes(value ? this.menuOptions : []);\n      } else if (type == 'dept') {\n        this.$refs.dept.setCheckedNodes(value ? this.deptOptions : []);\n      }\n    },\n    // 树权限（父子联动）\n    handleCheckedTreeConnect(value, type) {\n      if (type == 'menu') {\n        this.form.menuCheckStrictly = value ? true : false;\n      } else if (type == 'dept') {\n        this.form.deptCheckStrictly = value ? true : false;\n      }\n    },\n    /** 新增按钮操作 */\n    handleAdd() {\n      this.reset();\n      this.getMenuTreeselect();\n      this.open = true;\n      this.title = '需求详情';\n    },\n    /** 修改按钮操作 */\n    handleUpdate(row) {\n      this.reset();\n      const roleId = row.roleId || this.ids;\n      const roleMenu = this.getRoleMenuTreeselect(roleId);\n      getRole(roleId).then(response => {\n        this.form = response.data;\n        this.open = true;\n        this.$nextTick(() => {\n          roleMenu.then(res => {\n            this.$refs.menu.setCheckedKeys(res.checkedKeys);\n          });\n        });\n        this.title = '修改作物';\n      });\n    },\n    /** 分配数据权限操作 */\n    handleDataScope(row) {\n      this.reset();\n      const roleDeptTreeselect = this.getRoleDeptTreeselect(row.roleId);\n      getRole(row.roleId).then(response => {\n        this.form = response.data;\n        this.openDataScope = true;\n        this.$nextTick(() => {\n          roleDeptTreeselect.then(res => {\n            this.$refs.dept.setCheckedKeys(res.checkedKeys);\n          });\n        });\n        this.title = '分配数据权限';\n      });\n    },\n    /** 提交按钮 */\n    submitForm: function() {\n      // this.$refs[\"form\"].validate(valid => {\n      //     if (valid) {\n      saveCrops(this.form).then(res => {\n        if (res.code === 200) {\n          this.msgSuccess('修改成功');\n          this.open = false;\n        }\n      });\n      // if (this.form.roleId != undefined) {\n      //     this.form.menuIds = this.getMenuAllCheckedKeys();\n      //     updateRole(this.form).then(response => {\n      //         if (response.code === 200) {\n      //             this.msgSuccess(\"修改成功\");\n      //             this.open = false;\n      //             this.getList();\n      //         }\n      //     });\n      // } else {\n      //     this.form.menuIds = this.getMenuAllCheckedKeys();\n      //     addRole(this.form).then(response => {\n      //         if (response.code === 200) {\n      //             this.msgSuccess(\"新增成功\");\n      //             this.open = false;\n      //             this.getList();\n      //         }\n      //     });\n      // }\n      //     }\n      // });\n    },\n    /** 提交按钮（数据权限） */\n    submitDataScope: function() {\n      if (this.form.roleId != undefined) {\n        this.form.deptIds = this.getDeptAllCheckedKeys();\n        dataScope(this.form).then(response => {\n          if (response.code === 200) {\n            this.msgSuccess('修改成功');\n            this.openDataScope = false;\n            this.getList();\n          }\n        });\n      }\n    },\n    /** 删除按钮操作 */\n    handleDelete(row) {\n      const roleIds = row.roleId || this.ids;\n      this.$confirm('是否确认删除角色编号为\"' + roleIds + '\"的数据项?', '警告', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      })\n        .then(function() {\n          return delRole(roleIds);\n        })\n        .then(() => {\n          this.getList();\n          this.msgSuccess('删除成功');\n        })\n        .catch(function() {});\n    },\n    /** 导出按钮操作 */\n    handleExport() {\n      const queryParams = this.queryParams;\n      this.$confirm('是否确认导出所有角色数据项?', '警告', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      })\n        .then(function() {\n          return exportRole(queryParams);\n        })\n        .then(response => {\n          this.download(response.msg);\n        })\n        .catch(function() {});\n    }\n  }\n};\n</script>\n<style>\n.avatar-uploader .el-upload {\n  border: 1px dashed #d9d9d9;\n  border-radius: 6px;\n  cursor: pointer;\n  position: relative;\n  overflow: hidden;\n}\n.avatar-uploader .el-upload:hover {\n  border-color: #409eff;\n}\n.avatar-uploader-icon {\n  font-size: 28px;\n  color: #8c939d;\n  width: 178px;\n  height: 178px;\n  line-height: 178px;\n  text-align: center;\n}\n.avatar {\n  width: 178px;\n  height: 178px;\n  display: block;\n}\n\n.image {\n  width: 80%;\n  display: block;\n}\n/**一定要给宽高，否则不显示*/\n#position {\n  height: 100%;\n}\n/**修改点标记图片的css, 图片给宽高，否则不显示 */\n.map-page /deep/ {\n.amap-icon {\n  width: 20px;\n}\n.amap-marker-label {\n  border: 1px solid #ccc;\n  font-size: 16px;\n  display: inline-block;\n  padding: 5px;\n}\n}\n\n#panel {\n  position: fixed;\n  background-color: white;\n  max-height: 90%;\n  overflow-y: auto;\n  top: 10px;\n  right: 10px;\n  width: 280px;\n}\n#panel .amap-call {\n  background-color: #009cf9;\n  border-top-left-radius: 4px;\n  border-top-right-radius: 4px;\n}\n#panel .amap-lib-driving {\n  border-bottom-left-radius: 4px;\n  border-bottom-right-radius: 4px;\n  overflow: hidden;\n}\nhtml,\nbody,\n#container {\n  width: 100%;\n  height: 100%;\n}\n\n.map {\n  width: 100%;\n  height: 500px;\n}\n</style>\n"]}]}